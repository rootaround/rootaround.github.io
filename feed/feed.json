{
  "version": "https://jsonfeed.org/version/1.1",
  "title": "root around ‚öíÔ∏è",
  "language": "ru",
  "home_page_url": "https://rootaround.github.io/",
  "feed_url": "https://rootaround.github.io/feed/feed.json",
  "description": "",
  "author": {
    "name": "",
    "url": ""
  },
  "items": [{
      "id": "https://rootaround.github.io/posts/wiki/roadmap/",
      "url": "https://rootaround.github.io/posts/wiki/roadmap/",
      "title": "roadmap",
      "content_html": "<h1 id=\"2022-iyul\" tabindex=\"-1\">2022 –∏—é–ª—å <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/roadmap/#2022-iyul\" aria-hidden=\"true\">#</a></h1>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input class=\"task-list-item-checkbox\" disabled=\"\" type=\"checkbox\" /> –°–æ–±—Ä–∞—Ç—å cheatsheet –ø–æ <a href=\"https://rootaround.github.io/posts/wiki/sh\">sh</a></li>\n<li class=\"task-list-item\"><input class=\"task-list-item-checkbox\" disabled=\"\" type=\"checkbox\" /> –ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ <a href=\"https://rootaround.github.io/posts/wiki/roadmap/\">linux-streams</a></li>\n</ul>\n",
      "date_published": "2022-07-27T16:15:00Z"
    },{
      "id": "https://rootaround.github.io/posts/wiki/sh/",
      "url": "https://rootaround.github.io/posts/wiki/sh/",
      "title": "sh",
      "content_html": "<p>–î–µ—Ñ–æ–ª—Ç–Ω—ã–π shell –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –≤ ubuntu dash, –æ–Ω –∂–µ ash, –≤ –¥—Ä—É–≥–∏—Ö –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞—Ö –º–æ–∂–µ—Ç –ø–æ-–¥—Ä—É–≥–æ–º—É, –Ω–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –æ–ø—Ü–∏–∏ –ø–æ –∏–¥–µ–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–ª—é—Å, –º–∏–Ω—É—Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏.</p>\n<p>–ü—Ä–æ ash –µ—Å—Ç—å —Å–µ—Ä–∏—è —Å—Ç–∞—Ç–µ–π –ø–æ —Ç—ç–≥—É <a href=\"https://rootaround.github.io/tags/ash\">ash</a>.</p>\n<p>–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ —Å–æ–±—Ä–∞–Ω —Å–≤–æ–µ–≥–æ —Ä–æ–¥–∞ cheatsheet –ø–æ shell.</p>\n<p>–ò—Å—Ç–æ—á–Ω–∏–∫–æ–º –¥–ª—è —Å–µ—Ä–∏–∏ —Å—Ç–∞—Ç–µ–π –∏ —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ —è–≤–ª—è–µ—Ç—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ <a href=\"https://man7.org/linux/man-pages/man1/dash.1.html\" target=\"_blank\" rel=\"noopener\">dash</a>.</p>\n<p></p><div class=\"table-of-contents\"><ul><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#rezhimy-zapuska\">–†–µ–∂–∏–º—ã –∑–∞–ø—É—Å–∫–∞ </a><ul><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#interactive-shell\">Interactive shell </a></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#non-interactive-shell\">Non-interactive shell </a></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#login-shell\">Login shell </a></li></ul></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#arguments\">Arguments </a><ul><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#noexec-n\">noexec, -n </a></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#verbose-v\">verbose, -v </a></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#xtrace-x\">xtrace, -x </a></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#errexit-e\">errexit, -e </a></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#allexport-a\">allexport,  -a </a></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#command-c\">command, -c </a></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#noclobber-c\">noclobber, -C </a></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#noglob-f\">noglob, -f </a></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#nounset-u\">nounset, -u </a></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#ignoreeof-i\">ignoreeof, -I </a></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#interactive-i\">interactive, -i </a></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#login-l\">login, -l </a></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#monitor-m\">monitor, -m </a></li><li><a href=\"https://rootaround.github.io/posts/wiki/sh/#stdin-s\">stdin,-s </a></li></ul></li></ul></div><p></p>\n<hr />\n<h1 id=\"rezhimy-zapuska\" tabindex=\"-1\">–†–µ–∂–∏–º—ã –∑–∞–ø—É—Å–∫–∞ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#rezhimy-zapuska\" aria-hidden=\"true\">#</a></h1>\n<h2 id=\"interactive-shell\" tabindex=\"-1\">Interactive shell <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#interactive-shell\" aria-hidden=\"true\">#</a></h2>\n<p>–û–±—ã—á–Ω–æ —Ç–∞–∫ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –æ–ø—Ü–∏–µ–π <code>-i</code>.</p>\n<p>–û–∂–∏–¥–∞–µ—Ç –∫–æ–º–∞–Ω–¥ –∏–∑ stdin, –≤ stdout –ø–∏—à–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –≤ stderr –æ—Ç–ª–∞–¥–∫—É –∏ –æ—à–∏–±–∫–∏ - –ø–æ–¥—Ä–æ–±–Ω–µ–µ –±—É–¥–µ—Ç –≤ <a href=\"https://rootaround.github.io/posts/wiki/sh/\">linux-streams</a></p>\n<h2 id=\"non-interactive-shell\" tabindex=\"-1\">Non-interactive shell <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#non-interactive-shell\" aria-hidden=\"true\">#</a></h2>\n<p>–í–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ –ø—É—Ç–∏ –∫ —Å–∫—Ä–∏–ø—Ç—É –∏–ª–∏ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º <code>-c</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sh</span> ./test.sh<br /><br />$ <span class=\"token function\">sh</span> -c <span class=\"token string\">'echo 100500'</span></code></pre>\n<h2 id=\"login-shell\" tabindex=\"-1\">Login shell <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#login-shell\" aria-hidden=\"true\">#</a></h2>\n<p>–ï—â–µ –æ–¥–Ω–∏–º —Ä–µ–∂–∏–º–æ–º –∑–∞–ø—É—Å–∫–∞ —è–≤–ª—è–µ—Ç—Å—è login, –≤–∫–ª—é—á–∞–µ—Ç—Å—è –æ–ø—Ü–∏–µ–π <code>-l</code> –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—á–µ–π –ø–µ—Ä–≤—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º —Å–∏–º–≤–æ–ª–∞ <code>-</code>.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ ash -l<br /><br />$ ash -</code></pre>\n<p>–†–∞–±–æ—Ç–∞–µ—Ç –≤ interactive –∏ non-interactive —Ä–µ–∂–∏–º–∞—Ö.</p>\n<p>–°–º—ã—Å–ª —Ä–µ–∂–∏–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –í login-—Ä–µ–∂–∏–º–µ ash –∏—â–µ—Ç –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç shell-—Å–∫—Ä–∏–ø—Ç—ã <code>/etc/profile</code> –∏ <code>$HOME/.profile</code>. –ï—Å–ª–∏ –≤ —ç—Ç–∏—Ö —Ñ–∞–π–ª–∞—Ö —É–∫–∞–∑–∞—Ç—å –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é ENV, –≤ –∫–æ—Ç–æ—Ä–æ–π —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É, –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∫–∞–∫ shell-—Å–∫—Ä–∏–ø—Ç –Ω–∞ —ç—Ç–∞–ø–µ –∑–∞–ø—É—Å–∫–∞.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">ENV</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$HOME</span>/.shinit<span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">export</span> ENV</code></pre>\n<h1 id=\"arguments\" tabindex=\"-1\">Arguments <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#arguments\" aria-hidden=\"true\">#</a></h1>\n<h2 id=\"noexec-n\" tabindex=\"-1\">noexec, <code>-n</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#noexec-n\" aria-hidden=\"true\">#</a></h2>\n<p>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥. –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞-—Å–∫—Ä–∏–ø—Ç–∞, –Ω–æ <strong>–Ω–µ</strong> —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ –∫–æ–º–∞–Ω–¥ —á–µ—Ä–µ–∑ <code>-c</code>.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token number\">123</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">0</span><br /><br />$ ash test.sh<br /><span class=\"token number\">123</span><br /><br />$ ash -n test.sh</code></pre>\n<p>–£ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–º–∞–Ω–¥—ã –Ω–µ –±—É–¥–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ —É–∫–∞–∑–∞–Ω –∞—Ä–≥—É–º–µ–Ω—Ç <code>-n</code> –∏ –∫–æ–º–∞–Ω–¥—ã echo –∏ exit –Ω–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –Ω–æ –≤ —Å–ª—É—á–∞–µ –∏–º–µ–Ω–Ω–æ –æ—à–∏–±–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤—ã–≤–µ–¥–µ—Ç—Å—è —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –∏ –Ω–µ–Ω—É–ª–µ–≤–æ–π exit code.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token operator\">&amp;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">123</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">0</span><br /><br /><span class=\"token comment\"># '&amp;' –≤ –Ω–∞—á–∞–ª–µ —ç—Ç–æ –æ—à–∏–±–∫–∞ –≤ shell-—Å–∫—Ä–∏–ø—Ç–µ</span><br /><br />$ ash -n test.sh<br />./test.sh: line <span class=\"token number\">1</span>: syntax error: unexpected <span class=\"token string\">\"&amp;\"</span></code></pre>\n<p>–ö–æ–Ω–µ—á–Ω–æ —ç—Ç–æ—Ç —Ä–µ–∂–∏–º –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Å–∞–º–∏—Ö –∫–æ–º–∞–Ω–¥, –Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ —É–¥–æ–±–Ω–æ.</p>\n<h2 id=\"verbose-v\" tabindex=\"-1\">verbose, <code>-v</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#verbose-v\" aria-hidden=\"true\">#</a></h2>\n<p>–í stderr –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ –≤—Å–µ —á—Ç–æ ash —á–∏—Ç–∞–µ—Ç –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã.</p>\n<p>–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ login-—Ä–µ–∂–∏–º–µ (–ø—Ä–æ –Ω–µ–≥–æ –¥–∞–ª–µ–µ) —á–∏—Ç–∞–µ—Ç—Å—è —Ñ–∞–π–ª <code>$HOME/.profile</code> –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã –∏–∑ –Ω–µ–≥–æ ‚Äì —Å –æ–ø—Ü–∏–µ–π <code>-v</code> –≤—Å–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ <code>.profile</code> –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ –≤ stderr –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.</p>\n<h2 id=\"xtrace-x\" tabindex=\"-1\">xtrace, <code>-x</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#xtrace-x\" aria-hidden=\"true\">#</a></h2>\n<p>–° —ç—Ç–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –∫–∞–∂–¥–∞—è –≤—ã–ø–æ–ª–Ω—è–µ–º–∞—è –∫–æ–º–∞–Ω–¥–∞ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ –≤ stderr</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token number\">123</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">0</span><br /><br />$ ash -x test.sh<br />+ <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">123</span><br /><span class=\"token number\">123</span><br />+ <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">0</span></code></pre>\n<p>–í–æ–æ–±—â–µ –≤—Å–µ –æ–ø—Ü–∏–∏ –≤–∫–ª—é—á–∞—Ç—Å—è —á–µ—Ä–µ–∑ <code>-</code> , –∞ –≤—ã–∫–ª—é—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ <code>+</code> <em>// –∫–∞–∂–µ—Ç—Å—è —á—Ç–æ –Ω–µ–ª–æ–≥–∏—á–Ω–æ –∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–æ–±–æ—Ä–æ—Ç</em></p>\n<p>–í –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ —Ç–æ–∂–µ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å –æ–ø—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é builtin-–∫–æ–º–∞–Ω–¥—ã set</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">set</span> -x<br /><br /><span class=\"token comment\"># xtrace –í–ö–õ—é—á–µ–Ω</span><br /><br />$ <span class=\"token builtin class-name\">set</span> +x<br /><br /><span class=\"token comment\"># xtrace –í–´–ö–õ—é—á–µ–Ω</span></code></pre>\n<h2 id=\"errexit-e\" tabindex=\"-1\">errexit, <code>-e</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#errexit-e\" aria-hidden=\"true\">#</a></h2>\n<p>–° <code>-e</code> –≤—Å–µ –Ω–µ–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ exit-–∫–æ–¥–∞ —á–µ—Ä–µ–∑ <code>if</code>, <code>elif</code>) –±—É–¥—É—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–∞.</p>\n<p>–î–ª—è –ø—Ä–∏–º–µ—Ä–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å–∫—Ä–∏–ø—Ç —Å –ª–∏—Å—Ç–∏–Ω–≥–æ–º –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token function\">ls</span> /none<span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'good'</span><br /><br />$ ash test.sh<br />ls: /none: No such <span class=\"token function\">file</span> or directory<br />good<br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$?</span><br /><span class=\"token number\">0</span></code></pre>\n<p>–ü—Ä–∏ –æ–±—ã—á–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –∫–æ–º–∞–Ω–¥—ã <code>ls</code> –∏ <code>echo</code> –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ –∏ <code>echo</code> –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –ø–æ—Å–ª–µ <code>ls</code> <em>// –∫–æ–Ω–µ—á–Ω–æ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>&amp;&amp;</code>, –Ω–æ –æ–± —ç—Ç–æ–º –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç–∞—Ç—å—è—Ö</em></p>\n<p>–° –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º <code>-e</code> –≤—ã—Ö–æ–¥ –∏–∑ —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø–æ—Å–ª–µ <code>ls</code> –∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –Ω–µ–Ω—É–ª–µ–≤—ã–º exit-–∫–æ–¥–æ–º.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ ash -e test.sh<br />ls: /none: No such <span class=\"token function\">file</span> or directory<br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$?</span><br /><span class=\"token number\">1</span></code></pre>\n<p>–ï—â–µ –æ–¥–∏–Ω –ø–æ–ª–µ–∑–Ω—ã–π –º–æ–º–µ–Ω—Ç ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–∞. –í—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–æ—Å–ª–µ —É–∫–∞–∑–∞–Ω–∏—è –ø—É—Ç–∏ –∫ —Å–∫—Ä–∏–ø—Ç—É —Å—á–∏—Ç–∞—é—Ç—Å—è –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ—á–∏—Ç–∞–Ω—ã –≤ —Å–∫—Ä–∏–ø—Ç–µ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö $1, $2</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$1</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$11</span><br /><br />$ ash test.sh <span class=\"token number\">1</span> <span class=\"token number\">2</span> <span class=\"token number\">3</span> <span class=\"token number\">4</span> <span class=\"token number\">5</span> <span class=\"token number\">6</span> <span class=\"token number\">7</span> <span class=\"token number\">8</span> <span class=\"token number\">9</span> <span class=\"token number\">10</span> <span class=\"token number\">11</span><br /><span class=\"token number\">1</span><br /><span class=\"token number\">11</span></code></pre>\n<p>–û—Ç–¥–µ–ª—å–Ω–æ —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å $0 - —ç—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—É—Ç—å –∫ —Å–∫—Ä–∏–ø—Ç—É</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$0</span><br /><br />$ ash ./test.sh<br />./test.sh</code></pre>\n<h2 id=\"allexport-a\" tabindex=\"-1\">allexport,  <code>-a</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#allexport-a\" aria-hidden=\"true\">#</a></h2>\n<p>–≠–∫—Å–ø–æ—Ä—Ç env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö <em>// –Ω–µ —É–≤–∏–¥–µ–ª —Ä–∞–∑–Ω–∏—Ü—ã —Å –æ–±—ã—á–Ω—ã–º —Ä–µ–∂–∏–º–æ–º, –≤—Å–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —Ç–∞–∫ –≤–∏–¥–Ω—ã –≤–Ω—É—Ç—Ä–∏ shell –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ</em></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">env</span> -i <span class=\"token assign-left variable\">TEST</span><span class=\"token operator\">=</span><span class=\"token number\">100</span> ash -c <span class=\"token string\">'echo $TEST'</span><br /><span class=\"token number\">100</span><br /><br />$ <span class=\"token function\">env</span> -i <span class=\"token assign-left variable\">TEST</span><span class=\"token operator\">=</span><span class=\"token number\">100</span> ash -a -c <span class=\"token string\">'echo $TEST'</span><br /><span class=\"token number\">100</span></code></pre>\n<h2 id=\"command-c\" tabindex=\"-1\">command, <code>-c</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#command-c\" aria-hidden=\"true\">#</a></h2>\n<p>–†–µ–∂–∏–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥, –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ ash -c <span class=\"token string\">'echo 100500'</span><br /><span class=\"token number\">100500</span></code></pre>\n<h2 id=\"noclobber-c\" tabindex=\"-1\">noclobber, <code>-C</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#noclobber-c\" aria-hidden=\"true\">#</a></h2>\n<p>—Ç—É—Ç —Ä–µ—á—å –ø—Ä–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>&gt;</code> –ø—Ä–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç—Ç–æ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞, –∞—Ä–≥—É–º–µ–Ω—Ç <code>-C</code> –º–µ–Ω—è–µ—Ç —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ ‚Äî –µ—Å–ª–∏ —Ñ–∞–π–ª —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –æ—à–∏–±–∫–∞.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># —Å–∫—Ä–∏–ø—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ —Ñ–∞–π–ª tmp.txt</span><br />$ <span class=\"token function\">cat</span> ./test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$1</span> <span class=\"token operator\">></span> tmp.txt<br /><br /><span class=\"token comment\"># –≤—ã–ø–æ–ª–Ω—è–µ–º</span><br />$ ash ./test.sh <span class=\"token number\">100</span><br /><br /><span class=\"token comment\"># –≤ —Ñ–∞–π–ª –∑–∞–ø–∏—Å–∞–Ω–æ 100</span><br />$ <span class=\"token function\">cat</span> tmp.txt<br /><span class=\"token number\">100</span><br /><br /><span class=\"token comment\"># –≤—ã–ø–æ–ª–Ω—è–µ–º –µ—â–µ —Ä–∞–∑</span><br />$ ash ./test.txt <span class=\"token number\">101</span><br /><br /><span class=\"token comment\"># —Ñ–∞–π–ª –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º 101</span><br />$ <span class=\"token function\">cat</span> tmp.txt<br /><span class=\"token number\">101</span><br /><br /><span class=\"token comment\"># –≤—ã–ø–æ–ª–Ω—è–µ–º c –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º -C - –ø–æ–ª—É—á–∞–µ–º –æ—à–∏–±–∫—É</span><br />$ ash -C ./test.txt <span class=\"token number\">102</span><br />test.sh: line <span class=\"token number\">1</span>: can't create test.txt: File exists</code></pre>\n<h2 id=\"noglob-f\" tabindex=\"-1\">noglob, <code>-f</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#noglob-f\" aria-hidden=\"true\">#</a></h2>\n<p>–í —à–µ–ª–ª–∞—Ö —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è —à—Ç—É–∫–∞ - file globbing - —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∫–∞–∑—ã–≤–∞—Ç—å –ø—É—Ç—å –∫ —Ñ–∞–π–ª–∞–º –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é, –∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ wildcard ‚Äî <code>cat *.txt</code> ‚Äî –≤—ã–≤–µ—Å—Ç–∏ –Ω–∞ —ç–∫—Ä–∞–Ω –≤—Å–µ —Ñ–∞–π–ª—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º txt.</p>\n<p>–¢–∞–∫ –≤–æ—Ç –æ–ø—Ü–∏—è <code>-f</code> –æ—Ç–∫–ª—é—á–∞–µ—Ç file globbing –¥–ª—è –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token comment\"># this is script</span><br /><span class=\"token function\">cat</span> *.sh<br /><br /><span class=\"token comment\"># –≤—ã–≤–æ–¥–∏—Ç –≤—Å–µ —Ñ–∞–π–ª—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º sh</span><br />$ ash test.sh<br /><span class=\"token comment\"># this is script</span><br /><span class=\"token function\">cat</span> *.sh<br /><br /><span class=\"token function\">file</span> globbing –æ—Ç–∫–ª—é—á–µ–Ω - *.sh –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –∏–º—è —Ñ–∞–π–ª–∞<br />$ ash -f test.sh<br />cat: can<span class=\"token string\">'t open '</span>*.sh': No such <span class=\"token function\">file</span> or directory</code></pre>\n<h2 id=\"nounset-u\" tabindex=\"-1\">nounset, <code>-u</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#nounset-u\" aria-hidden=\"true\">#</a></h2>\n<p>–ó–∞–≤–µ—Ä—à–∞—Ç—å —Å–∫—Ä–∏–ø—Ç —Å –æ—à–∏–±–∫–æ–π –µ—Å–ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$SOME</span><br /><br /><span class=\"token comment\"># —Å–∫—Ä–∏–ø—Ç —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω, —Ö–æ—Ç—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è SOME –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞</span><br />$ ash test.sh<br /><br /><span class=\"token comment\"># —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º -u –ø—Ä–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞</span><br />$ ash -u test.sh<br />test.sh: line <span class=\"token number\">1</span>: SOME: parameter not <span class=\"token builtin class-name\">set</span></code></pre>\n<h2 id=\"ignoreeof-i\" tabindex=\"-1\">ignoreeof, <code>-I</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#ignoreeof-i\" aria-hidden=\"true\">#</a></h2>\n<p>–ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç EOF (—Å–∏–º–≤–æ–ª—ã –∫–æ–Ω—Ü–∞ —Å—Ç—Ä–æ–∫–∏) –∏–∑ stdin</p>\n<p><em>// –ü–æ–∫–∞ –Ω–µ –æ—á–µ–Ω—å –ø–æ–Ω—è—Ç–Ω–æ –∑–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫</em></p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># echo –ø–µ—Ä–µ–¥–∞–µ—Ç EOF (/n) –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ –∏ —Å–∫—Ä–∏–ø—Ç –≤—ã–≤–æ–¥–∏—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'cat *.sh'</span> <span class=\"token operator\">|</span> ash<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$SOME</span><br /><br /><span class=\"token comment\"># —Å -I –∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –∏ –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'cat *.sh'</span> <span class=\"token operator\">|</span> ash -I<br />Use <span class=\"token string\">\"exit\"</span> to leave shell.<br /><br />Use <span class=\"token string\">\"exit\"</span> to leave shell.<br /><br /><span class=\"token punctuation\">..</span>.</code></pre>\n<h2 id=\"interactive-i\" tabindex=\"-1\">interactive, <code>-i</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#interactive-i\" aria-hidden=\"true\">#</a></h2>\n<p>–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º</p>\n<h2 id=\"login-l\" tabindex=\"-1\">login, <code>-l</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#login-l\" aria-hidden=\"true\">#</a></h2>\n<p>–í–∫–ª—é—á–∞–µ—Ç login-—Ä–µ–∂–∏–º</p>\n<h2 id=\"monitor-m\" tabindex=\"-1\">monitor, <code>-m</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#monitor-m\" aria-hidden=\"true\">#</a></h2>\n<p>–≤–∫–ª—é—á–∞–µ—Ç job control, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ, –≤–∏–¥–∏–º–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∫–ª—é—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å jobs –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö <em>// —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø–æ–∑–∂–µ, –Ω–æ —É–∂–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ ‚Äî –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–¥–∞—á—É —Ñ–æ–Ω–æ–º –≤ —Å–∫—Ä–∏–ø—Ç–µ, –∞ –ø–æ—Ç–æ–º –ø—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –µ–µ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å–∫—Ä–∏–ø—Ç</em></p>\n<h2 id=\"stdin-s\" tabindex=\"-1\">stdin,<code>-s</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/wiki/sh/#stdin-s\" aria-hidden=\"true\">#</a></h2>\n<p>—á–∏—Ç–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏–∑ stdin. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω –ø—É—Ç—å –∫ —Å–∫—Ä–∏–ø—Ç—É, —Ç–æ –≤–∫–ª—é—á–µ–Ω–æ.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'date'</span> <span class=\"token operator\">|</span> ash<br />Fri Dec <span class=\"token number\">24</span> 00:38:31 UTC <span class=\"token number\">2020</span><br /><br /><span class=\"token comment\"># –∏–¥–µ–Ω—Ç–∏—á–Ω–æ c -s</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'date'</span> <span class=\"token operator\">|</span> ash -s<br />Fri Dec <span class=\"token number\">24</span> 00:38:31 UTC <span class=\"token number\">2020</span><br /><br /><span class=\"token comment\"># –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω —Å–∫—Ä–∏–ø—Ç</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'date'</span> <span class=\"token operator\">|</span> ash -s test.sh<br /><span class=\"token comment\"># test script commands</span><br /><br /><span class=\"token comment\"># –ø—Ä–∏ —ç—Ç–æ–º –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–±–µ –∫–æ–º–∞–Ω–¥—ã —Å -c –∏ -s</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'date'</span> <span class=\"token operator\">|</span> ash -s -c <span class=\"token string\">'date'</span><br />Fri Dec <span class=\"token number\">24</span> 00:38:31 UTC <span class=\"token number\">2020</span><br />Fri Dec <span class=\"token number\">24</span> 00:38:31 UTC <span class=\"token number\">2020</span></code></pre>\n",
      "date_published": "2022-07-27T16:11:00Z"
    },{
      "id": "https://rootaround.github.io/posts/wiki/linux-shells/",
      "url": "https://rootaround.github.io/posts/wiki/linux-shells/",
      "title": "linux shells",
      "content_html": "<ul>\n<li><a href=\"https://rootaround.github.io/tags/ash/\">ash</a></li>\n</ul>\n",
      "date_published": "2022-07-27T16:10:00Z"
    },{
      "id": "https://rootaround.github.io/posts/tags/ash/",
      "url": "https://rootaround.github.io/posts/tags/ash/",
      "title": "",
      "content_html": "",
      "date_published": "2022-07-27T09:29:36Z"
    },{
      "id": "https://rootaround.github.io/posts/blog/202207262240/",
      "url": "https://rootaround.github.io/posts/blog/202207262240/",
      "title": "–ü–µ—Ä–µ–µ—Ö–∞–ª —Å hexo –Ω–∞ 11ly",
      "content_html": "<p>–ü–µ—Ä–µ–µ—Ö–∞–ª —Å hexo –Ω–∞ 11ly - <a href=\"https://www.11ty.dev/\" target=\"_blank\" rel=\"noopener\">https://www.11ty.dev/</a></p>\n<p>–ü–æ–Ω–∞–¥–æ–±–∏–ª–æ—Å—å, —á—Ç–æ–±—ã –≤–µ—Å—Ç–∏ –ø–æ—Å—Ç—ã –∏ –≤–∏–∫–∏ –≤ obsidian.</p>\n<p>–ü–æ—á—Ç–∏ –∏–∑ –∫–æ—Ä–æ–±–∫–∏ –∑–∞–≤–µ–ª–∏—Å—å obsidian-—Å—Å—ã–ª–∫–∏ –≤–∏–¥–∞ <code>[[javascript]]</code>.</p>\n<p>–ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ –ø–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Ç–µ–º–∞ –±–∞–∑–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ –∏ —Ç–∞–∫–æ–π –∂–µ –ø–æ–¥—Ö–æ–¥ eleventy –∫ —Ä–∞–±–æ—Ç–µ - –ø–æ —Å—É—Ç–∏ –æ–¥–∏–Ω –∫–æ–Ω—Ñ–∏–≥ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ –∏ –æ–¥–∏–Ω –ø–∞–∫–µ—Ç, –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ.</p>\n<p>–ü—Ä–æ–±—É—é, —Å–º–æ—Ç—Ä—é –∫–∞–∫ –ª–µ—Ç–∏—Ç. üõ´</p>\n",
      "date_published": "2022-07-26T22:40:00Z"
    },{
      "id": "https://rootaround.github.io/toc/",
      "url": "https://rootaround.github.io/toc/",
      "title": "",
      "content_html": "<!-- [[2020-05-13-linux-first-shortly-about-kernel]]\n\n\n[[javascript]] -->\n",
      "date_published": "2022-07-26T14:18:30Z"
    },{
      "id": "https://rootaround.github.io/posts/drafts/test/",
      "url": "https://rootaround.github.io/posts/drafts/test/",
      "title": "Test",
      "content_html": "<p><a href=\"https://rootaround.github.io/posts/wiki/javascript\">javascript</a></p>\n<h1 id=\"mrk-test-markdown-it-page\" tabindex=\"-1\">mrk test markdown-it page <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#mrk-test-markdown-it-page\" aria-hidden=\"true\">#</a></h1>\n<h1 id=\"n1\" tabindex=\"-1\"><a href=\"https://rootaround.github.io/posts/drafts/\">N1</a> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#n1\" aria-hidden=\"true\">#</a></h1>\n<script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script>\n<div id=\"chart_div\"></div>\n<script type=\"text/javascript\">\ngoogle.charts.load('current', {packages:[\"orgchart\"]});\ngoogle.charts.setOnLoadCallback(drawChart);\n\nfunction drawChart() {\n  var data = new google.visualization.DataTable();\n  data.addColumn('string', 'Name');\n  data.addColumn('string', 'Manager');\n  data.addColumn('string', 'ToolTip');\n\n  // For each orgchart box, provide the name, manager, and tooltip to show.\n  data.addRows([\n    [\n        {\n            v:'Mike',\n            f:'Mike<div style=\"color:red; font-style:italic\">President</div>'\n        },\n        '',\n        'The President'\n    ],\n    [\n        {\n            v:'Jim',\n            f:'Jim<div style=\"color:red; font-style:italic\">Vice President</div>'\n        },\n        'Mike',\n        'VP'\n    ],\n    [\n        'Alice',\n        'Mike',\n        ''\n    ],\n    [\n        'Bob',\n        'Jim',\n        'Bob Sponge'\n    ],\n    [\n        'Carol',\n        'Bob',\n        ''\n    ]\n  ]);\n\n  // Create the chart.\n  var chart = new google.visualization.OrgChart(document.getElementById('chart_div'));\n  // Draw the chart, setting the allowHtml option to true for the tooltips.\n  chart.draw(data, {allowHtml:true});\n}\n</script>\n<p><strong>Advertisement üòÉ</strong></p>\n<ul>\n<li><strong><a href=\"https://nodeca.github.io/pica/demo/\" target=\"_blank\" rel=\"noopener\">pica</a></strong> - high quality and fast image\nresize in browser.</li>\n<li><strong><a href=\"https://github.com/nodeca/babelfish/\" target=\"_blank\" rel=\"noopener\">babelfish</a></strong> - developer friendly\ni18n with plurals support and easy syntax.</li>\n</ul>\n<p>You will like those projects!</p>\n<hr />\n<h1 id=\"h1-heading\" tabindex=\"-1\">h1 Heading üòé <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#h1-heading\" aria-hidden=\"true\">#</a></h1>\n<h2 id=\"h2-heading\" tabindex=\"-1\">h2 Heading <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#h2-heading\" aria-hidden=\"true\">#</a></h2>\n<h3 id=\"h3-heading\" tabindex=\"-1\">h3 Heading <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#h3-heading\" aria-hidden=\"true\">#</a></h3>\n<h4 id=\"h4-heading\" tabindex=\"-1\">h4 Heading <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#h4-heading\" aria-hidden=\"true\">#</a></h4>\n<h5>h5 Heading</h5>\n<h6>h6 Heading</h6>\n<h2 id=\"horizontal-rules\" tabindex=\"-1\">Horizontal Rules <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#horizontal-rules\" aria-hidden=\"true\">#</a></h2>\n<hr />\n<hr />\n<hr />\n<h2 id=\"typographic-replacements\" tabindex=\"-1\">Typographic replacements <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#typographic-replacements\" aria-hidden=\"true\">#</a></h2>\n<p>Enable typographer option to see result.</p>\n<p>¬© ¬© ¬Æ ¬Æ ‚Ñ¢ ‚Ñ¢ (p) (P) ¬±</p>\n<p>test‚Ä¶ test‚Ä¶ test‚Ä¶ test?.. test!..</p>\n<p>!!! ??? , ‚Äì ‚Äî</p>\n<p>‚ÄúSmartypants, double quotes‚Äù and ‚Äòsingle quotes‚Äô</p>\n<h2 id=\"emphasis\" tabindex=\"-1\">Emphasis <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#emphasis\" aria-hidden=\"true\">#</a></h2>\n<p><strong>This is bold text</strong></p>\n<p><strong>This is bold text</strong></p>\n<p><em>This is italic text</em></p>\n<p><em>This is italic text</em></p>\n<p><s>Strikethrough</s></p>\n<h2 id=\"blockquotes\" tabindex=\"-1\">Blockquotes <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#blockquotes\" aria-hidden=\"true\">#</a></h2>\n<blockquote>\n<p>Blockquotes can also be nested‚Ä¶</p>\n<blockquote>\n<p>‚Ä¶by using additional greater-than signs right next to each other‚Ä¶</p>\n<blockquote>\n<p>‚Ä¶or with spaces between arrows.</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<h2 id=\"lists\" tabindex=\"-1\">Lists <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#lists\" aria-hidden=\"true\">#</a></h2>\n<p>Unordered</p>\n<ul>\n<li>Create a list by starting a line with <code>+</code>, <code>-</code>, or <code>*</code></li>\n<li>Sub-lists are made by indenting 2 spaces:\n<ul>\n<li>Marker character change forces new list start:\n<ul>\n<li>Ac tristique libero volutpat at</li>\n</ul>\n<ul>\n<li>Facilisis in pretium nisl aliquet</li>\n</ul>\n<ul>\n<li>Nulla volutpat aliquam velit</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Very easy!</li>\n</ul>\n<p>Ordered</p>\n<ol>\n<li>\n<p>Lorem ipsum dolor sit amet</p>\n</li>\n<li>\n<p>Consectetur adipiscing elit</p>\n</li>\n<li>\n<p>Integer molestie lorem at massa</p>\n</li>\n<li>\n<p>You can use sequential numbers‚Ä¶</p>\n</li>\n<li>\n<p>‚Ä¶or keep all the numbers as <code>1.</code></p>\n</li>\n</ol>\n<p>Start numbering with offset:</p>\n<ol start=\"57\">\n<li>foo</li>\n<li>bar</li>\n</ol>\n<h2 id=\"code\" tabindex=\"-1\">Code <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#code\" aria-hidden=\"true\">#</a></h2>\n<p>Inline <code>code</code></p>\n<p>Indented code</p>\n<pre><code>// Some comments\nline 1 of code\nline 2 of code\nline 3 of code\n</code></pre>\n<p>Block code ‚Äúfences‚Äù</p>\n<pre><code>Sample text here...\n</code></pre>\n<p>Syntax highlighting</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">foo</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">bar</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">return</span> bar<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br /><br />console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h2 id=\"tables\" tabindex=\"-1\">Tables <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#tables\" aria-hidden=\"true\">#</a></h2>\n<table>\n<thead>\n<tr>\n<th>Option</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>data</td>\n<td>path to data files to supply the data that will be passed into templates.</td>\n</tr>\n<tr>\n<td>engine</td>\n<td>engine to be used for processing templates. Handlebars is the default.</td>\n</tr>\n<tr>\n<td>ext</td>\n<td>extension to be used for dest files.</td>\n</tr>\n</tbody>\n</table>\n<p>Right aligned columns</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:right\">Option</th>\n<th style=\"text-align:right\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:right\">data</td>\n<td style=\"text-align:right\">path to data files to supply the data that will be passed into templates.</td>\n</tr>\n<tr>\n<td style=\"text-align:right\">engine</td>\n<td style=\"text-align:right\">engine to be used for processing templates. Handlebars is the default.</td>\n</tr>\n<tr>\n<td style=\"text-align:right\">ext</td>\n<td style=\"text-align:right\">extension to be used for dest files.</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"links\" tabindex=\"-1\">Links <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#links\" aria-hidden=\"true\">#</a></h2>\n<p><a href=\"http://dev.nodeca.com/\" target=\"_blank\" rel=\"noopener\">link text</a></p>\n<p><a href=\"http://nodeca.github.io/pica/demo/\" title=\"title text!\" target=\"_blank\" rel=\"noopener\">link with title</a></p>\n<p>Autoconverted link <a href=\"https://github.com/nodeca/pica\" target=\"_blank\" rel=\"noopener\">https://github.com/nodeca/pica</a> (enable linkify to see)</p>\n<h2 id=\"images\" tabindex=\"-1\">Images <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#images\" aria-hidden=\"true\">#</a></h2>\n<p><img src=\"https://octodex.github.com/images/minion.png\" alt=\"Minion\" />\n<img src=\"https://octodex.github.com/images/stormtroopocat.jpg\" alt=\"Stormtroopocat\" title=\"The Stormtroopocat\" /></p>\n<p>Like links, Images also have a footnote style syntax</p>\n<p><img src=\"https://octodex.github.com/images/dojocat.jpg\" alt=\"Alt text\" title=\"The Dojocat\" /></p>\n<p>With a reference later in the document defining the URL location:</p>\n<h2 id=\"plugins\" tabindex=\"-1\">Plugins <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#plugins\" aria-hidden=\"true\">#</a></h2>\n<p>The killer feature of <code>markdown-it</code> is very effective support of\n<a href=\"https://www.npmjs.org/browse/keyword/markdown-it-plugin\" target=\"_blank\" rel=\"noopener\">syntax plugins</a>.</p>\n<h3 id=\"emojies\" tabindex=\"-1\"><a href=\"https://github.com/markdown-it/markdown-it-emoji\" target=\"_blank\" rel=\"noopener\">Emojies</a> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#emojies\" aria-hidden=\"true\">#</a></h3>\n<blockquote>\n<p>Classic markup: üòâ :crush: üò¢ :tear: üòÜ üòã</p>\n<p>Shortcuts (emoticons): üòÉ üò¶ üòé üòâ</p>\n</blockquote>\n<p>see <a href=\"https://github.com/markdown-it/markdown-it-emoji#change-output\" target=\"_blank\" rel=\"noopener\">how to change output</a> with twemoji.</p>\n<h3 id=\"subscript-superscript\" tabindex=\"-1\"><a href=\"https://github.com/markdown-it/markdown-it-sub\" target=\"_blank\" rel=\"noopener\">Subscript</a> / <a href=\"https://github.com/markdown-it/markdown-it-sup\" target=\"_blank\" rel=\"noopener\">Superscript</a> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#subscript-superscript\" aria-hidden=\"true\">#</a></h3>\n<ul>\n<li>19<sup>th</sup></li>\n<li>H<sub>2</sub>O</li>\n</ul>\n<h3 id=\"ins\" tabindex=\"-1\"><a href=\"https://github.com/markdown-it/markdown-it-ins\" target=\"_blank\" rel=\"noopener\">&lt;ins&gt;</a> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#ins\" aria-hidden=\"true\">#</a></h3>\n<p><ins>Inserted text</ins></p>\n<h3 id=\"mark\" tabindex=\"-1\"><a href=\"https://github.com/markdown-it/markdown-it-mark\" target=\"_blank\" rel=\"noopener\">&lt;mark&gt;</a> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#mark\" aria-hidden=\"true\">#</a></h3>\n<p><mark>Marked text</mark></p>\n<h3 id=\"footnotes\" tabindex=\"-1\"><a href=\"https://github.com/markdown-it/markdown-it-footnote\" target=\"_blank\" rel=\"noopener\">Footnotes</a> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#footnotes\" aria-hidden=\"true\">#</a></h3>\n<p>Footnote 1 link<sup class=\"footnote-ref\"><a href=\"https://rootaround.github.io/posts/drafts/test/#fn1\" id=\"fnref1\">[1]</a></sup>.</p>\n<p>Footnote 2 link<sup class=\"footnote-ref\"><a href=\"https://rootaround.github.io/posts/drafts/test/#fn2\" id=\"fnref2\">[2]</a></sup>.</p>\n<p>Inline footnote<sup class=\"footnote-ref\"><a href=\"https://rootaround.github.io/posts/drafts/test/#fn3\" id=\"fnref3\">[3]</a></sup> definition.</p>\n<p>Duplicated footnote reference<sup class=\"footnote-ref\"><a href=\"https://rootaround.github.io/posts/drafts/test/#fn2\" id=\"fnref2:1\">[2:1]</a></sup>.</p>\n<h3 id=\"definition-lists\" tabindex=\"-1\"><a href=\"https://github.com/markdown-it/markdown-it-deflist\" target=\"_blank\" rel=\"noopener\">Definition lists</a> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#definition-lists\" aria-hidden=\"true\">#</a></h3>\n<p>Term 1</p>\n<p>: Definition 1\nwith lazy continuation.</p>\n<p>Term 2 with <em>inline markup</em></p>\n<p>: Definition 2</p>\n<pre><code>    { some code, part of Definition 2 }\n\nThird paragraph of definition 2.\n</code></pre>\n<p><em>Compact style:</em></p>\n<p>Term 1\n~ Definition 1</p>\n<p>Term 2\n~ Definition 2a\n~ Definition 2b</p>\n<h3 id=\"abbreviations\" tabindex=\"-1\"><a href=\"https://github.com/markdown-it/markdown-it-abbr\" target=\"_blank\" rel=\"noopener\">Abbreviations</a> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#abbreviations\" aria-hidden=\"true\">#</a></h3>\n<p>This is HTML abbreviation example.</p>\n<p>It converts ‚ÄúHTML‚Äù, but keep intact partial entries like ‚ÄúxxxHTMLyyy‚Äù and so on.</p>\n<p>*[HTML]: Hyper Text Markup Language</p>\n<h3 id=\"custom-containers\" tabindex=\"-1\"><a href=\"https://github.com/markdown-it/markdown-it-container\" target=\"_blank\" rel=\"noopener\">Custom containers</a> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/drafts/test/#custom-containers\" aria-hidden=\"true\">#</a></h3>\n<p>::: warning\n<em>here be dragons</em>\n:::</p>\n<hr class=\"footnotes-sep\" />\n<section class=\"footnotes\">\n<ol class=\"footnotes-list\">\n<li id=\"fn1\" class=\"footnote-item\"><p>Footnote <strong>can have markup</strong></p>\n<p>and multiple paragraphs. <a href=\"https://rootaround.github.io/posts/drafts/test/#fnref1\" class=\"footnote-backref\">‚Ü©Ô∏é</a></p>\n</li>\n<li id=\"fn2\" class=\"footnote-item\"><p>Footnote text. <a href=\"https://rootaround.github.io/posts/drafts/test/#fnref2\" class=\"footnote-backref\">‚Ü©Ô∏é</a> <a href=\"https://rootaround.github.io/posts/drafts/test/#fnref2:1\" class=\"footnote-backref\">‚Ü©Ô∏é</a></p>\n</li>\n<li id=\"fn3\" class=\"footnote-item\"><p>Text of inline footnote <a href=\"https://rootaround.github.io/posts/drafts/test/#fnref3\" class=\"footnote-backref\">‚Ü©Ô∏é</a></p>\n</li>\n</ol>\n</section>\n",
      "date_published": "2022-07-25T20:12:00Z"
    },{
      "id": "https://rootaround.github.io/posts/wiki/javascript/",
      "url": "https://rootaround.github.io/posts/wiki/javascript/",
      "title": "javascript",
      "content_html": "",
      "date_published": "2021-07-24T00:00:00Z"
    },{
      "id": "https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/",
      "url": "https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/",
      "title": "Linux Tools: shells, ash #6 - environment variables",
      "content_html": "<p>–£–∂–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–Ω–æ–≥–æ —Ä–∞–∑ –≥–æ–≤–æ—Ä–∏–ª–∏ –æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ environment-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö , –≤ —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ —Ä–∞–∑–±–µ—Ä–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ash</p>\n<!-- more -->\n<p>–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/\">shells, ash #5 - ash functions</a></p>\n<h2 id=\"home\" tabindex=\"-1\">HOME <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#home\" aria-hidden=\"true\">#</a></h2>\n<p>–î–æ–º–∞—à–Ω—è—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ passwd —Ñ–∞–π–ª–∞, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π login –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–∞–Ω–¥, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–º–∞–Ω–¥–æ–π cd –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</p>\n<p>–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å ash –±–µ–∑ env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—Ç root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É login</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\">## –∑–∞–ø—É—Å–∫–∞–µ–º ash –±–µ–∑ env-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç–µ–∫—É—â–µ–≥–æ shell –∏ –ø–æ–¥ root</span><br /><span class=\"token comment\">## root - –Ω—É–∂–µ–Ω –¥–ª—è –∑–∞–ø—É—Å–∫–∞ login,</span><br /><span class=\"token comment\">## –∏–Ω–∞—á–µ –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ login: must be suid to work properly</span><br />$ <span class=\"token function\">sudo</span> <span class=\"token function\">env</span> -i /usr/bin/ash<br /><br /><span class=\"token comment\">## –¥–∞–ª–µ–µ –æ–¥–∏–Ω–∞—Ä–Ω–∞—è —Ä–µ—à–µ—Ç–∫–∞ —ç—Ç–æ prompt root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</span><br /><span class=\"token comment\"># env</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">SHLVL</span></span><span class=\"token operator\">=</span><span class=\"token number\">1</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span>/sbin:/usr/sbin:/bin:/usr/bin<br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">PWD</span></span><span class=\"token operator\">=</span>/home/ubuntu<br /><br /><span class=\"token comment\"># login -f ubuntu</span><br /><span class=\"token comment\">## ...</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span>/home/ubuntu/bin:/home/ubuntu/.local/bin:/data/bin:/bin:/usr/bin<br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">PWD</span></span><span class=\"token operator\">=</span>/home/ubuntu<br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">SHLVL</span></span><span class=\"token operator\">=</span><span class=\"token number\">1</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">USER</span></span><span class=\"token operator\">=</span>ubuntu<br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">HOME</span></span><span class=\"token operator\">=</span>/home/ubuntu<br /><span class=\"token comment\">## ...</span></code></pre>\n<h2 id=\"path\" tabindex=\"-1\">PATH <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#path\" aria-hidden=\"true\">#</a></h2>\n<p>–°–ø–∏—Å–æ–∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–π –¥–≤–æ–µ—Ç–æ—á–∏—è–º–∏</p>\n<p>–í —ç—Ç–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö shell –∏—â–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã, –ø–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–∏—Å–∫–∞ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ <a href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#command-types-programs\">–≤ —Å—Ç–∞—Ç—å–µ —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥</a></p>\n<h2 id=\"cdpath\" tabindex=\"-1\">CDPATH <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#cdpath\" aria-hidden=\"true\">#</a></h2>\n<p>–ü—É—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ cd</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –∑–∞–¥–∞–µ–º CDPATH=/home/ubuntu</span><br />$ <span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">CDPATH</span><span class=\"token operator\">=</span>/home/ubuntu<br /><br />$ <span class=\"token builtin class-name\">cd</span><br />/home/ubuntu<br /><br /><span class=\"token comment\"># —Ç–µ–ø–µ—Ä—å –≤—Å–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ —Å–ª—ç—à–∞</span><br /><span class=\"token comment\"># –±—É–¥—É—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ /home/ubuntu</span><br />$ <span class=\"token builtin class-name\">cd</span> tmp<br /><span class=\"token comment\"># –º—ã –≤ /home/ubuntu/tmp - –µ—Å–ª–∏ —Ç–∞–∫–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç</span></code></pre>\n<h2 id=\"mail\" tabindex=\"-1\">MAIL <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#mail\" aria-hidden=\"true\">#</a></h2>\n<p>–°–ª–µ–¥—É—é—â–∏–µ 3 env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω—É–∂–Ω—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—á—Ç—ã, —Ç–æ—á–Ω–µ–µ –≤ —Å–∞–º–æ–º shell —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å–ª–µ–∂–µ–Ω–∏–µ –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –≤ —Ñ–∞–π–ª–µ</p>\n<p>–≤ MAIL –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É, –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å</p>\n<h2 id=\"mailcheck\" tabindex=\"-1\">MAILCHECK <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#mailcheck\" aria-hidden=\"true\">#</a></h2>\n<p>–≤ MAILCHECK —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤—Ä–µ–º—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö, —á–µ—Ä–µ–∑ —Å–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ñ–∞–π–ª –∏–ª–∏ —Ñ–∞–π–ª—ã —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ MAIL –∏–ª–∏ MAILPATH</p>\n<p>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é = 60</p>\n<p>–ï—Å–ª–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å 0, —Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã, –í –¥–æ–∫–µ —Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç—Å—è —Ç–∞–∫ ‚ÄúIf set to 0, the check will occur at each prompt‚Äù, —Ç–æ –µ—Å—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–æ–∫–∞–∑–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –∫ –≤–≤–æ–¥—É –∫–æ–º–∞–Ω–¥—ã.</p>\n<h2 id=\"mailpath\" tabindex=\"-1\">MAILPATH <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#mailpath\" aria-hidden=\"true\">#</a></h2>\n<p>–≤ MAILPATH —á–µ—Ä–µ–∑ –¥–≤–æ–µ—Ç–æ—á–∏–µ <code>:</code> –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å</p>\n<p>–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω MAILPATH, —Ç–æ MAIL –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è.</p>\n<p>—Ä–∞–±–æ—Ç–∞–µ—Ç —ç—Ç–æ —Ç–∞–∫</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">touch</span> ~/mail.txt<br />$ <span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">MAILPATH</span><span class=\"token operator\">=</span>/home/ubuntu/mail.txt<br />$ <span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">MAILCHECK</span></span><span class=\"token operator\">=</span><span class=\"token number\">5</span><br /><br /><span class=\"token comment\"># –º–µ–Ω—è–µ–º —Ñ–∞–π–ª, –≤ —Å–ª—É—á–∞–µ –ø–æ—á—Ç–æ–≤—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º –æ–Ω–∏ –º–µ–Ω—è—é—Ç —Ñ–∞–π–ª</span><br /><span class=\"token comment\"># –∏ bash –≤–∏–¥–∏–º–æ —É–º–µ–µ—Ç –∏—Ö –ø–∞—Ä—Å–∏—Ç—å –∏ –≤—ã–≤–æ–¥–∏—Ç—å –¥–∞–∂–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏—Å–µ–º</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1</span> <span class=\"token operator\">>></span> ~/mail.txt<br /><br /><span class=\"token comment\"># –¥–∞–ª–µ–µ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏ ash –≤—ã–≤–µ–¥–µ—Ç</span><br />$<br />you have mail<br />$<br /><span class=\"token comment\"># —Ç–æ –µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º prompt</span></code></pre>\n<h2 id=\"ps1\" tabindex=\"-1\">PS1 <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#ps1\" aria-hidden=\"true\">#</a></h2>\n<p>Prompt String - —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –∫ –≤–≤–æ–¥—É –∫–æ–º–∞–Ω–¥—ã –∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —ç—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞–≤–Ω–∞ <code>$ </code> (–¥–æ–ª–ª–∞—Ä –∏ –ø—Ä–æ–±–µ–ª), –¥–ª—è —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root <code># </code> (—Ä–µ—à–µ—Ç–∫–∞ –∏ –ø—Ä–æ–±–µ–ª)</p>\n<p>–∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é PS1 –≤ ash –≤—ã–≤–æ–¥–∏—Ç –µ—â–µ –∏ —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é</span><br /><span class=\"token comment\"># —Å–µ–π—á–∞—Å –º—ã –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏</span><br />~ $<br /><br /><span class=\"token comment\"># –∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞–≤–Ω–∞</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token environment constant\">$PS1</span><br /><span class=\"token punctuation\">\\</span>w <span class=\"token punctuation\">\\</span>$</code></pre>\n<p>–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ —ç—Ç–∏ –æ–ø—Ü–∏–∏ –ø–æ–≥–æ–≤–æ—Ä–∏–º –≤ —Å—Ç–∞—Ç—å—è—Ö –ø—Ä–æ bash</p>\n<h2 id=\"ps2\" tabindex=\"-1\">PS2 <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#ps2\" aria-hidden=\"true\">#</a></h2>\n<p>–ü–æ–¥—Å–∫–∞–∑–∫–∞ –≤–≤–æ–¥–∞ –¥–ª—è –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö –∫–æ–º–∞–Ω–¥. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é <code>&gt; </code></p>\n<pre><code>$ (\n&gt; echo 123\n&gt; )\n123\n$\n</code></pre>\n<h2 id=\"ps3\" tabindex=\"-1\">PS3 <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#ps3\" aria-hidden=\"true\">#</a></h2>\n<p>–ü–æ—á–µ–º—É-—Ç–æ –Ω–µ –æ–ø–∏—Å–∞–Ω–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –≤–æ–∑–º–æ–∂–Ω–æ –≤ ash –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è</p>\n<h2 id=\"ps4\" tabindex=\"-1\">PS4 <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#ps4\" aria-hidden=\"true\">#</a></h2>\n<p>–í —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –æ–ø—Ü–∏–µ–π <code>-x</code>, –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π –≤—ã–≤–æ–¥–∏—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ PS4</p>\n<p>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–≤–Ω–æ <code>+ </code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">set</span> -x<br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">2</span><br />+ <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1</span><br /><span class=\"token number\">1</span><br />+ <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">2</span><br /><span class=\"token number\">2</span><br />$</code></pre>\n<h2 id=\"ifs\" tabindex=\"-1\"><a id=\"IFS\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#IFS\"></a> IFS <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#ifs\" aria-hidden=\"true\">#</a></h2>\n<p>Input Field Separators</p>\n<p>–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∏ –≤—ã–≤–æ–¥–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ - –ø–æ–¥—Ä–æ–±–Ω–µ–µ —Ä–∞–∑–±–µ—Ä–µ–º –≤ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç–∞—Ç—å–µ –ø—Ä–æ Special Parameters (–∑–¥–µ—Å—å –±—É–¥–µ—Ç —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç–∞—Ç—å—é)</p>\n<h2 id=\"term\" tabindex=\"-1\">TERM <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#term\" aria-hidden=\"true\">#</a></h2>\n<p>–í –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞, –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Ç–µ—Ä–º–∏–Ω–∞–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª —Ü–≤–µ—Ç–∞ (xterm –∏–ª–∏ xterm-256color)</p>\n<h2 id=\"histsize\" tabindex=\"-1\">HISTSIZE <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#histsize\" aria-hidden=\"true\">#</a></h2>\n<p>–°–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏–∏ shell‚Äôa (—ç—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥ —Å—Ç—Ä–µ–ª–∫–∞–º–∏)</p>\n<p>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–≤–Ω–æ 15</p>\n<h2 id=\"pwd\" tabindex=\"-1\">PWD <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#pwd\" aria-hidden=\"true\">#</a></h2>\n<p>–¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, —ç—Ç—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –º–µ–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥–∞ cd</p>\n<h2 id=\"oldpwd\" tabindex=\"-1\">OLDPWD <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#oldpwd\" aria-hidden=\"true\">#</a></h2>\n<p>–ü—Ä–µ–¥—ã–¥—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è</p>\n<h2 id=\"ppid\" tabindex=\"-1\">PPID <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#ppid\" aria-hidden=\"true\">#</a></h2>\n<p>ID –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ç–µ–∫—É—â–µ–≥–æ shell</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token environment constant\">$PPID</span><br /><span class=\"token number\">1527</span></code></pre>\n<p>¬†</p>\n<h2 id=\"itogo\" tabindex=\"-1\">–ò—Ç–æ–≥–æ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#itogo\" aria-hidden=\"true\">#</a></h2>\n<p>–í —Å—Ç–∞—Ç—å–µ —Ä–∞–∑–æ–±—Ä–∞–ª–∏ –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ Environment Variables –≤ ash, –±–æ–ª—å—à–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –ª–æ–≥–∏–∫–∏ –±—É–¥–µ—Ç –≤ bash</p>\n<p>¬†</p>\n<p>–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/\">shells, ash #5 - ash functions</a></p>\n<p>¬†</p>\n<h2 id=\"ssylki\" tabindex=\"-1\">–°—Å—ã–ª–∫–∏ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/#ssylki\" aria-hidden=\"true\">#</a></h2>\n<ul>\n<li><a href=\"https://man7.org/linux/man-pages/man1/dash.1.html\" target=\"_blank\" rel=\"noopener\">https://man7.org/linux/man-pages/man1/dash.1.html</a></li>\n<li><a href=\"https://man7.org/linux/man-pages/man1/login.1.html\" target=\"_blank\" rel=\"noopener\">https://man7.org/linux/man-pages/man1/login.1.html</a></li>\n<li><a href=\"https://github.com/mandober/enwars#mail\" target=\"_blank\" rel=\"noopener\">https://github.com/mandober/enwars#mail</a></li>\n<li><a href=\"https://unix.stackexchange.com/questions/528323/what-uses-the-term-variable\" target=\"_blank\" rel=\"noopener\">https://unix.stackexchange.com/questions/528323/what-uses-the-term-variable</a></li>\n</ul>\n<p>¬†</p>\n<hr />\n<p><a href=\"https://rootaround.github.io/tags/linux-tools\">–í—Å–µ —Å—Ç–∞—Ç—å–∏ —Å–µ—Ä–∏–∏ ‚ÄúLinux Tools‚Äù</a></p>\n",
      "date_published": "2021-06-16T20:00:00Z"
    },{
      "id": "https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/",
      "url": "https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/",
      "title": "Linux Tools: shells, ash #5 - ash syntax, functions",
      "content_html": "<p>–í –ø—Ä–æ—à–ª–æ–π —Å—Ç–∞—Ç—å–µ –ø—Ä–æ—à–ª–∏ –ø–æ —Å–ª–æ–∂–Ω—ã–º –∫–æ–º–∞–Ω–¥–∞–º, —Ü–∏–∫–ª–∞–º –∏ —É—Å–ª–æ–≤–∏—è–º. –¢–µ–ø–µ—Ä—å —É—Å–ª–æ–∂–Ω—è–µ–º. –ß—Ç–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏ –µ—â–µ —Ö–æ—á–µ—Ç—Å—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–∏ –∫–æ–º–∞–Ω–¥?</p>\n<!-- more -->\n<p>–ù–∞ –ø–æ–º–æ—â—å –ø—Ä–∏—Ö–æ–¥—è—Ç —Ñ—É–Ω–∫—Ü–∏–∏</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function-name function\">name</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token builtin class-name\">command</span><br />  <span class=\"token punctuation\">..</span>.<br />  <span class=\"token builtin class-name\">return</span> <span class=\"token punctuation\">[</span>exitstatus<span class=\"token punctuation\">]</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>–§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ–≥–æ –æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É –∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –±–µ–∑ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–æ–∫</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ hello<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'Hello'</span><br />$ hello<br />Hello</code></pre>\n<p>–ò–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function-name function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'Hello'</span><br />  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'World'</span><br /><span class=\"token punctuation\">}</span><br />$ hello<br />Hello<br />World</code></pre>\n<p>–ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞-–ø—Ä–æ–≥—Ä–∞–º–º–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç exit-–∫–æ–¥. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è 0, –Ω–æ –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –Ω—É–∂–Ω—ã–π exit-–∫–æ–¥ c –ø–æ–º–æ—â—å—é return. –ü—Ä–∏ —ç—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ return.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function-name function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'Hello'</span><br /><span class=\"token builtin class-name\">return</span> <span class=\"token number\">100</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'World'</span><br /><span class=\"token punctuation\">}</span><br /><br /><span class=\"token comment\"># World –Ω–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è</span><br />$ hello<br />Hello<br /><br /><span class=\"token comment\"># $? —Å–æ–¥–µ—Ä–∂–∏—Ç exit-–∫–æ–¥ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$?</span><br /><span class=\"token number\">100</span></code></pre>\n<h2 id=\"parametry-i-peremennye\" tabindex=\"-1\"><a id=\"parameters-variables\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/#parameters-variables\"></a> –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/#parametry-i-peremennye\" aria-hidden=\"true\">#</a></h2>\n<p>–í 3 —Å—Ç–∞—Ç—å–µ —Å–µ—Ä–∏–∏ –º—ã —É–∂–µ –Ω–µ–º–Ω–æ–≥–æ <a href=\"https://rootaround.github.io/2020-12-linux-tools-shells-part-3-ash-commands/#variables\">–≥–æ–≤–æ—Ä–∏–ª–∏ –æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö</a>, —Å–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä–µ–º—Å—è —Å –Ω–∏–º–∏ –ø–æ–¥—Ä–æ–±–Ω–æ.</p>\n<p>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (Parameters) –º–æ–≥—É—Ç –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–º–∏ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏, –∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å –∏–º–µ–Ω–µ–º –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ (Variables).</p>\n<h3 id=\"poziczionnye-parametry-positional-parameters\" tabindex=\"-1\"><a id=\"postional-parameters\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/#postional-parameters\"></a> –ü–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã - Positional Parameters <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/#poziczionnye-parametry-positional-parameters\" aria-hidden=\"true\">#</a></h3>\n<p>–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–∞ –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã —è–≤–ª—è—é—Ç—Å—è –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ ash –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –Ω–∏–º –ø–æ –Ω–æ–º–µ—Ä–∞–º, –Ω–∞—á–∏–Ω–∞—è —Å 1.</p>\n<p>–í –ø–∞—Ä–∞–º–µ—Ç—Ä–µ <code>$0</code> —Ö—Ä–∞–Ω–∏—Ç—Å—è –ø—É—Ç—å –∫ —Ç–µ–∫—É—â–µ–º—É —Å–∫—Ä–∏–ø—Ç—É –∏–ª–∏ –ø—É—Ç—å –∫ shell, –µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –ø–∞—Ä–∞–º–µ—Ç—Ä $0 —Å–∞–º–æ–≥–æ shell —Ö—Ä–∞–Ω–∏—Ç –ø—É—Ç—å –∫ shell-–ø—Ä–æ–≥—Ä–∞–º–º–µ</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$0</span><br />/usr/bin/ash<br /><br />$ <span class=\"token function\">cat</span> ./test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'$0='</span><span class=\"token variable\">$0</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'$1='</span><span class=\"token variable\">$1</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'$2='</span><span class=\"token variable\">$2</span><br /><br /><span class=\"token comment\"># –ø–µ—Ä–µ–¥–∞–µ–º –ø–∞—Ä—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–∫—Ä–∏–ø—Ç—É test.sh</span><br />$ ash ./test.sh first second<br /><span class=\"token variable\">$0</span><span class=\"token operator\">=</span>./test.sh<br /><span class=\"token variable\">$1</span><span class=\"token operator\">=</span>first<br /><span class=\"token variable\">$2</span><span class=\"token operator\">=</span>second</code></pre>\n<p>–¢–æ—á–Ω–æ —Ç–∞–∫–∞—è –∂–µ –ª–æ–≥–∏–∫–∞ —Å –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π. –í <code>$0</code> –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è –ø—É—Ç—å –∫ shell, –∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å–∫—Ä–∏–ø—Ç–∞–º</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function-name function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'$0='</span><span class=\"token variable\">$0</span><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Hello, <span class=\"token variable\">$1</span>\"</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><br /><br />$ hello World<br /><span class=\"token variable\">$0</span><span class=\"token operator\">=</span>/usr/bin/ash<br />Hello, World</code></pre>\n<p>–ü–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö –∏ —Ñ—É–Ω–∫—Ü–∏—è—Ö –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å –ø–æ–º–æ—â—å—é builtin-–∫–æ–º–∞–Ω–¥—ã <code>set</code> (–ø–æ–¥—Ä–æ–±–Ω–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å set —Ä–∞–∑–±–µ—Ä–µ–º –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç–∞—Ç—å–µ –ø—Ä–æ builtin-–∫–æ–º–∞–Ω–¥—ã)</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function-name function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Hello, <span class=\"token variable\">$1</span> and <span class=\"token variable\">$2</span>\"</span><span class=\"token punctuation\">;</span><br /><span class=\"token builtin class-name\">set</span> Beavis Butthead<span class=\"token punctuation\">;</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Hello, <span class=\"token variable\">$1</span> and <span class=\"token variable\">$2</span>\"</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span><br /><br />$ hello Rick Morty<br />Hello, Rick and Morty<br />Hello, Beavis and Butthead</code></pre>\n<h3 id=\"peremennye-variables\" tabindex=\"-1\"><a id=\"variables\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/#variables\"></a> –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ - Variables <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/#peremennye-variables\" aria-hidden=\"true\">#</a></h3>\n<p>Shell-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token assign-left variable\">a</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><br />$ <span class=\"token assign-left variable\">b</span><span class=\"token operator\">=</span><span class=\"token number\">2</span><br />$ <span class=\"token assign-left variable\">TEST</span><span class=\"token operator\">=</span><span class=\"token number\">100500</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$a</span>-<span class=\"token variable\">$b</span>-<span class=\"token variable\">$TEST</span>\"</span><br /><span class=\"token number\">1</span>-2-100500</code></pre>\n<p>–ù–æ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã–∑–æ–≤–∞—Ö –∫–æ–º–∞–Ω–¥ –≤ environment-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤—Ä—É—á–Ω—É—é –∑–∞–¥–∞–≤–∞—Ç—å environment-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> ./test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'$TEST='</span><span class=\"token variable\">$TEST</span><br /><br /><span class=\"token comment\"># –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è TEST –±—É–¥–µ—Ç –ø—É—Å—Ç–∞</span><br />$ ./test.sh<br /><span class=\"token variable\">$TEST</span><span class=\"token operator\">=</span><br /><br /><span class=\"token comment\"># –ø–µ—Ä–µ–¥–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π TEST –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞</span><br />$ <span class=\"token assign-left variable\">TEST</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> ./test.sh<br /><span class=\"token variable\">$TEST</span><span class=\"token operator\">=</span><span class=\"token number\">1</span></code></pre>\n<p>–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã shell-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏—Å—å –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (environment) –≤—Å–µ–º –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–º –∫–æ–º–∞–Ω–¥–∞–º, –Ω—É–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">TEST</span><span class=\"token operator\">=</span><span class=\"token number\">100500</span><br /><br />$ ./test.sh<br /><span class=\"token variable\">$TEST</span><span class=\"token operator\">=</span><span class=\"token number\">100500</span></code></pre>\n<h3 id=\"peremennye-v-funkcziyah\" tabindex=\"-1\"><a id=\"function-variables\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/#function-variables\"></a> –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/#peremennye-v-funkcziyah\" aria-hidden=\"true\">#</a></h3>\n<p>–í —Ñ—É–Ω–∫—Ü–∏—è—Ö –≤–∏–¥–Ω—ã –≤—Å–µ shell-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–∏ environment-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ–∂–µ) ‚Äî –∏—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–∏.</p>\n<p>–¢–∞–∫–∂–µ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–π –≤–ª–∏—è—é—Ç –Ω–∞ shell, –≤ –æ–±—â–µ–º –≤—Å–µ —Ç–æ—á–Ω–æ —Ç–∞–∫–∂–µ –∫–∞–∫ –∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ–±—ã—á–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –±–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏. –ß—Ç–æ–±—ã –∫–æ–º–∞–Ω–¥—ã –Ω–µ –≤–ª–∏—è–ª–∏ –Ω–∞ —Ç–µ–∫—É—â–∏–π shell –º–æ–∂–Ω–æ <a href=\"https://rootaround.github.io/2021-01-linux-tools-shells-part-5-ash-complex-commands/#grouping-parentheses\">–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ –∫—Ä—É–≥–ª—ã—Ö —Å–∫–æ–±–∫–∞—Ö </a>.</p>\n<h3 id=\"lokalnye-peremennye-v-funkcziyah\" tabindex=\"-1\"><a id=\"local-function-variables\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/#local-function-variables\"></a> –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/#lokalnye-peremennye-v-funkcziyah\" aria-hidden=\"true\">#</a></h3>\n<p>–ï—Å–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è builtin-—Ñ—É–Ω–∫—Ü–∏–µ–π local.</p>\n<p>–ö–æ–º–∞–Ω–¥–∞ <code>local</code> –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–∞ –≤ –Ω–∞—á–∞–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–º—è –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π. –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∏–∫–∞–∫ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –∏ –∑–∞–¥–∞–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–º –Ω—É–∂–Ω–æ –æ—Ç–¥–µ–ª—å–Ω–æ.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –≤ shell —Å–≤–æ—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è name</span><br />$ <span class=\"token assign-left variable\">name</span><span class=\"token operator\">=</span>Pachino<br /><br />$ <span class=\"token function-name function\">hello</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br /><span class=\"token builtin class-name\">local</span> name <span class=\"token comment\"># –≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–≤–æ—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è name</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'local name='</span><span class=\"token variable\">$name</span><br /><span class=\"token assign-left variable\">name</span><span class=\"token operator\">=</span>DeNiro<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'local name='</span><span class=\"token variable\">$name</span><br /><span class=\"token punctuation\">}</span><br /><br />$ hello<br /><span class=\"token builtin class-name\">local</span> <span class=\"token assign-left variable\">name</span><span class=\"token operator\">=</span>Pachino<br /><span class=\"token builtin class-name\">local</span> <span class=\"token assign-left variable\">name</span><span class=\"token operator\">=</span>DeNiro<br /><br /><span class=\"token comment\"># –≤ shell –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –ø–æ–º–µ–Ω—è–ª–∞—Å—å</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'name='</span><span class=\"token variable\">$name</span><br /><span class=\"token assign-left variable\">name</span><span class=\"token operator\">=</span>Pachino</code></pre>\n<p>–ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ scope –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π - —Ç–æ –µ—Å—Ç—å –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥–µ—Ç —Å–≤–æ—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –∞ –Ω–µ –≥–ª–æ–±–∞–ª—å–Ω–∞—è.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token assign-left variable\">name</span><span class=\"token operator\">=</span>Pachino<br /><br />$ <span class=\"token function-name function\">hello</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token builtin class-name\">local</span> name<br />  <span class=\"token assign-left variable\">name</span><span class=\"token operator\">=</span>DeNiro<br />  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'name='</span><span class=\"token variable\">$name</span><br /><br />  <span class=\"token function-name function\">bang</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'bang name='</span><span class=\"token variable\">$name</span> <span class=\"token punctuation\">}</span><br /><br />  bang<br /><span class=\"token punctuation\">}</span><br /><br /><br />$ hello<br /><span class=\"token assign-left variable\">name</span><span class=\"token operator\">=</span>DeNiro<br /><span class=\"token comment\"># –≤ —Ñ—É–Ω–∫—Ü–∏–∏ bang –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è name</span><br /><span class=\"token comment\"># –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ hello</span><br />bang <span class=\"token assign-left variable\">name</span><span class=\"token operator\">=</span>DeNiro<br /><br /><span class=\"token comment\"># –≤ shell –æ—Å—Ç–∞–ª–∞—Å—å —Å–≤–æ—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$name</span><br />Pachino</code></pre>\n<p>–í–º–µ—Å—Ç–æ –∏–º–µ–Ω–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ <code>local</code> –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å <code>-</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function-name function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br /><span class=\"token builtin class-name\">local</span> -<br /><span class=\"token comment\"># ...</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤—Å–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –æ–ø—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã <code>set</code> –±—É–¥—É—Ç –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–≤–æ–∏–º –∑–Ω–∞—á–µ–Ω–∏—è–º –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏. –ü—Ä–æ —É—Å—Ç–∞–Ω–æ–≤–∫—É –æ–ø—Ü–∏–π —Å –ø–æ–º–æ—â—å—é <code>set</code> –≥–æ–≤–æ—Ä–∏–ª–∏ –≤–æ <a href=\"https://rootaround.github.io/2020-12-linux-tools-shells-part-2-ash-startup/#xtrace-arg-adv\">2 —Å—Ç–∞—Ç—å–µ —Å–µ—Ä–∏–∏</a>.</p>\n<h2 id=\"potoki-v-funkcziyah\" tabindex=\"-1\"><a id=\"function-streams\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/#function-streams\"></a> –ü–æ—Ç–æ–∫–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/#potoki-v-funkcziyah\" aria-hidden=\"true\">#</a></h2>\n<p>–†–∞–∑ —Ñ—É–Ω–∫—Ü–∏—è –≤–µ–¥–µ—Ç —Å–µ–±—è –∫–∞–∫ –∫–æ–º–∞–Ω–¥–∞, –∑–Ω–∞—á–∏—Ç –≤–Ω—É—Ç—Ä–∏ –Ω–µ–µ –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–æ—Ç–æ–∫–∞–º–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –ø–∞–π–ø–ª–∞–π–Ω–∞—Ö</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –ø–µ—Ä–µ–¥–∞–µ–º –≤ cat –¥–∞–Ω–Ω—ã–µ –∏–∑ stdin-–ø–æ—Ç–æ–∫–∞</span><br />$ hello <span class=\"token punctuation\">{</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'Hello'</span><span class=\"token punctuation\">;</span> <span class=\"token function\">cat</span> <span class=\"token operator\">&lt;</span><span class=\"token file-descriptor important\">&amp;0</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><br /><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'World'</span> <span class=\"token operator\">|</span> hello<br />Hello<br />World</code></pre>\n<p>stdout –∏ stderr- –ø–æ—Ç–æ–∫–∏ —É —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–∞–∫–∂–µ —Å–≤–æ–∏</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function-name function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'Hello'</span> <span class=\"token operator\">></span><span class=\"token file-descriptor important\">&amp;1</span><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'World'</span> <span class=\"token operator\">></span><span class=\"token file-descriptor important\">&amp;2</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><br /><br />$ hello<br />Hello<br />World<br /><br /><span class=\"token comment\"># –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º stderr –≤ /dev/null</span><br />$ hello <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span>/dev/null<br />Hello</code></pre>\n<p>¬†</p>\n<h1 id=\"itogo\" tabindex=\"-1\">–ò—Ç–æ–≥–æ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/#itogo\" aria-hidden=\"true\">#</a></h1>\n<p>–°–µ–≥–æ–¥–Ω—è —É–∑–Ω–∞–ª–∏ –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å shell-—Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø–æ—Ç–æ–∫–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ shell-—Ñ—É–Ω–∫—Ü–∏–π.</p>\n<p>–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª ash –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏, –Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –µ—â–µ —É–¥–æ–±–Ω–µ–µ ‚Äì –∏—Ö –∏ –æ–±—Å—É–¥–∏–º –≤ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç–∞—Ç—å–µ.</p>\n<p>¬†</p>\n<p>–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/\">shells, ash #4 - ash syntax, complex commands, pipelines, conditions and loops</a></p>\n<p>–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2021-06-linux-tools-shells-ash-6-environment-variables/\">shells, ash #6 - environment variables</a></p>\n<p>¬†</p>\n<h2 id=\"ssylki\" tabindex=\"-1\">–°—Å—ã–ª–∫–∏ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/#ssylki\" aria-hidden=\"true\">#</a></h2>\n<ul>\n<li><a href=\"https://man7.org/linux/man-pages/man1/dash.1.html\" target=\"_blank\" rel=\"noopener\">https://man7.org/linux/man-pages/man1/dash.1.html</a></li>\n</ul>\n<hr />\n<p><a href=\"https://rootaround.github.io/tags/linux-tools\">–í—Å–µ —Å—Ç–∞—Ç—å–∏ —Å–µ—Ä–∏–∏ ‚ÄúLinux Tools‚Äù</a></p>\n",
      "date_published": "2021-01-20T19:03:00Z"
    },{
      "id": "https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/",
      "url": "https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/",
      "title": "Linux Tools: shells, ash #4 - ash syntax, complex commands, pipelines, conditions and loops",
      "content_html": "<p>–í –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å—Ç–∞—Ç—å–µ –∏–∑—É—á–∏–ª–∏ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤, —Å–µ–≥–æ–¥–Ω—è –Ω–∞—á–Ω–µ–º —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è –∫–∞–∫ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∫–æ–º–∞–Ω–¥, –Ω–æ —Å–ø–µ—Ä–≤–∞ –æ–±—Å—É–¥–∏–º –∫–∞–∫–∏–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–æ–º–∞–Ω–¥—ã.</p>\n<!-- more -->\n<p>–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/\">shells, ash #3 - ash syntax, redirections</a></p>\n<p>–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/\">shells, ash #5 - ash syntax, functions\n</a></p>\n<h1 id=\"tipy-komand\" tabindex=\"-1\"><a id=\"command-types\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#command-types\"></a> –¢–∏–ø—ã –∫–æ–º–∞–Ω–¥ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#tipy-komand\" aria-hidden=\"true\">#</a></h1>\n<p>–í ash —Å—É—â–µ—Å—Ç–≤—É—é—Ç 3 —Ç–∏–ø–∞ –∫–æ–º–∞–Ω–¥: shell-—Ñ—É–Ω–∫—Ü–∏–∏, buildin-–∫–æ–º–∞–Ω–¥—ã –∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã. –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–æ–∏—Å–∫ –∫–æ–º–∞–Ω–¥—ã –∏–º–µ–Ω–Ω–æ –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ.</p>\n<h2 id=\"vypolnenie-shell-funkczij\" tabindex=\"-1\"><a id=\"command-types-shell-functions\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#command-types-shell-functions\"></a> –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ shell-—Ñ—É–Ω–∫—Ü–∏–π <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#vypolnenie-shell-funkczij\" aria-hidden=\"true\">#</a></h2>\n<p>–í—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ —Å –≤—ã–∑–æ–≤–æ–º —Ñ—É–Ω–∫—Ü–∏–∏, –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏—é. –í—Å–µ environment-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏. –°–∞–º–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–º —à–µ–ª–ª–µ.\n–°–µ–π—á–∞—Å –≤–∞–∂–Ω–æ —Ç–æ —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–∞–∫–∂–µ –∫–∞–∫ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫–∂–µ –∫–∞–∫ –∏ –∫–æ–º–∞–Ω–¥—ã-–ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ builtin-—Ñ—É–Ω–∫—Ü–∏–∏, —Ç–æ –µ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–æ–º–∞–Ω–¥.</p>\n<p>–§—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç–∞—Ç—å—è—Ö. –°–µ–π—á–∞—Å –Ω–µ–±–æ–ª—å—à–æ–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ hello <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Hello, <span class=\"token variable\">$1</span>\"</span><br /><span class=\"token comment\"># stdout –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å</span><br />$ hello Kenneth <span class=\"token operator\">></span> ./tmp.txt<br /><span class=\"token comment\"># –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ø–∞–π–ø–ª–∞–π–Ω–∞—Ö</span><br /><span class=\"token comment\">#  - –ø–∞–π–ø–ª–∞–π–Ω—ã —Ä–∞–∑–±–µ—Ä–µ–º –≤ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ</span><br />$ hello Kenneth <span class=\"token operator\">|</span> <span class=\"token function\">cat</span><br />hello, Kenneth</code></pre>\n<h2 id=\"vypolnenie-builtin-komand\" tabindex=\"-1\"><a id=\"command-types-builtin\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#command-types-builtin\"></a> –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ builtin-–∫–æ–º–∞–Ω–¥ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#vypolnenie-builtin-komand\" aria-hidden=\"true\">#</a></h2>\n<p>builtin-–∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ç–µ–∫—É—â–µ–≥–æ shell, –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞.\nbuiltin-–∫–æ–º–∞–Ω–¥—ã –≤ ash —Ç–∞–∫–∂–µ —Ä–∞–∑–±–µ—Ä–µ–º –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç–∞—Ç—å–µ–π, –∏—Ö –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–Ω–æ–≥–æ, –Ω–æ –≤ –æ–±—â–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–±—â–∏–µ –∫–æ–º–∞–Ω–¥—ã —Ç–∞–∫–∏–µ –∫–∞–∫ <code>echo</code>, <code>ls</code> –∏ –¥—Ä—É–≥–∏–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ shell.</p>\n<h2 id=\"vypolnenie-komand-programm\" tabindex=\"-1\"><a id=\"command-types-programs\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#command-types-programs\"></a> –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥-–ø—Ä–æ–≥—Ä–∞–º–º <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#vypolnenie-komand-programm\" aria-hidden=\"true\">#</a></h2>\n<p>–ï—Å–ª–∏ –∏–º—è –∫–æ–º–∞–Ω–¥—ã –Ω–µ —è–≤–ª—è–µ—Ç—Å—è shell-—Ñ—É–Ω–∫—Ü–∏–µ–π –∏–ª–∏ builtin-–∫–æ–º–∞–Ω–¥–æ–π, –∑–Ω–∞—á–∏—Ç —ç—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –∏ –µ–µ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å.</p>\n<p>–ï—Å–ª–∏ –∏–º—è –∫–æ–º–∞–Ω–¥—ã —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª—ç—à <code>/</code>, —Ç–æ –∫–æ–º–∞–Ω–¥–∞ —Å—Ä–∞–∑—É –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ –ø–æ–∏—Å–∫–∞ –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ ‚Äì –∏–º—è –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –ø—É—Ç—å –∫ –ø—Ä–æ–≥—Ä–∞–º–º–µ</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ /usr/bin/htop<br /><span class=\"token comment\"># –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è —Å—Ä–∞–∑—É</span></code></pre>\n<p>–ï—Å–ª–∏ —Å–ª—ç—à–µ–π –≤ –∏–º–µ–Ω–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–µ—Ç, —Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–∏—Å–∫ —Ñ–∞–π–ª–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ –∏–º–µ–Ω–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö –∏–∑ environment-–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π PATH.</p>\n<p>–í –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π PATH —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è —Å–ø–∏—Å–æ–∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã—Ö –¥–≤–æ–µ—Ç–æ—á–∏–µ–º <code>:</code>, –∫–æ–Ω–µ—á–Ω–æ –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é PATH –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π —Å–ø–∏—Å–æ–∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –∏–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token environment constant\">$PATH</span><br />/sbin:/usr/sbin:/bin:/usr/bin<br /><br />$ <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span>:/home/ubuntu/bin<br /><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token environment constant\">$PATH</span><br />/sbin:/usr/sbin:/bin:/usr/bin:/home/ubuntu/bin</code></pre>\n<p>–¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (PWD) —Ç–æ–∂–µ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è –≤ PATH, –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –º–µ–∂–¥—É –¥–≤–æ–µ—Ç–æ—á–∏—è–º–∏ –∏–ª–∏ –≤ –∫–æ–Ω—Ü–µ</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –≤ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫–∏</span><br />$ <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span>/sbin:/bin:<br /><br /><span class=\"token comment\"># –ø—É—Å—Ç–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è</span><br />$ <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span>/sbin:/bin::<br /><br /><span class=\"token comment\"># –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏</span><br />$ <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span>:/sbin:/bin</code></pre>\n<p>–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –ø–µ—Ä–≤–∞—è –Ω–∞–π–¥–µ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞, —Ç–æ –µ—Å—Ç—å –ø–æ—Ä—è–¥–æ–∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –≤–∞–∂–µ–Ω.</p>\n<p>–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∏ –≤ –æ–¥–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –ø–æ–ª—É—á–∏–º –æ—à–∏–±–∫—É not found</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ noop<br />/usr/bin/ash: noop: not found</code></pre>\n<h1 id=\"vypolnenie-komand-programm-1\" tabindex=\"-1\"><a id=\"command-exec\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#command-exec\"></a> –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥-–ø—Ä–æ–≥—Ä–∞–º–º <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#vypolnenie-komand-programm-1\" aria-hidden=\"true\">#</a></h1>\n<p>–ö–æ–≥–¥–∞ –∫–æ–º–∞–Ω–¥–∞ –Ω–∞–π–¥–µ–Ω–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ —Ç—É—Ç —Å–Ω–æ–≤–∞ –≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:</p>\n<h2 id=\"magic-number\" tabindex=\"-1\"><a id=\"command-exec-magic-number\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#command-exec-magic-number\"></a> magic_number <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#magic-number\" aria-hidden=\"true\">#</a></h2>\n<p>–∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª-–ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å magic number. –¢—É—Ç –∏–º–µ–µ—Ç—Å—è –≤–≤–∏–¥—É ELF-–∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∏ –¥–∞–ª—å—à–µ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á—Ç–µ–Ω–∏–µ –∏–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É—è ELF-—Ñ–æ—Ä–º–∞—Ç.</p>\n<p>–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ—Ç–æ—Ä–æ–º—É –ø–µ—Ä–µ–¥–∞–Ω—ã –≤—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.</p>\n<h2 id=\"shebang\" tabindex=\"-1\"><a id=\"command-exec-shebang\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#command-exec-shebang\"></a> shebang <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#shebang\" aria-hidden=\"true\">#</a></h2>\n<p>–ï—Å–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –∏–º–µ–µ—Ç ELF-–∑–∞–≥–æ–ª–æ–≤–∫–∞, –Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å <code>#!</code> –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π shell. –ü—Ä–∏—á–µ–º –ø–æ—Å–ª–µ <code>#!</code> —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω—Ç—Ä–µ–ø—Ä–µ—Ç–∞—Ç–æ—Ä –∏ –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç</p>\n<p>–°–∏—Ç–∞–∫—Å–∏—Å</p>\n<pre><code>#!interprer [optional-arg]\n</code></pre>\n<p>–ü—Ä–∏–º–µ—Ä</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/usr/bin/ash</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token number\">123</span></code></pre>\n<p>–°–∫—Ä–∏–ø—Ç –≤—ã—à–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –∏–Ω—Ç–µ—Ä–ø–µ—Ä—Ç–∞—Ç–æ—Ä–æ–º ash. –ö—Ä–æ–º–µ shell —Ç–∞–∫–æ–º –æ–±—Ä–∞–∑–æ–º –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã—Ö —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, python –∏–ª–∏ php</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/usr/bin/python</span><br />print<span class=\"token punctuation\">(</span><span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span></code></pre>\n<p>–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –∫–∞–∫ –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω—É–∂–Ω–æ —á—Ç–æ–±—ã –¥–ª—è —Ñ–∞–π–ª–∞ –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∞—Ç—Ä–∏–±—É—Ç eXecutable</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">chmod</span> +x ./test.sh<br />$ ./test.sh<br /><span class=\"token number\">123</span></code></pre>\n<h2 id=\"exit-status\" tabindex=\"-1\"><a id=\"exit-status\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#exit-status\"></a> Exit status <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#exit-status\" aria-hidden=\"true\">#</a></h2>\n<p>–í Linux –∫–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º —á–∏—Å–ª–æ–≤—ã–º —Å—Ç–∞—Ç—É—Å–æ–º, exit-—Å—Ç–∞—Ç—É—Å–æ–º –∏–ª–∏ exit-–∫–æ–¥–æ–º.</p>\n<p>–ï—Å–ª–∏ exit-–∫–æ–¥ —Ä–∞–≤–µ–Ω 0 ‚Äî –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ, –¥—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–∑–Ω–∞—á–∞—é—Ç –æ—à–∏–±–∫—É.\n–£ –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã —Å–≤–æ–π —Å–ø–∏—Å–æ–∫ exit-–∫–æ–¥–æ–≤ –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (man) –∫–æ–º–∞–Ω–¥—ã.</p>\n<p>Builtin-–∫–æ–º–∞–Ω–¥—ã –∏ shell-—Ñ—É–Ω–∫—Ü–∏–∏ —Ç–∞–∫–∂–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç exit-–∫–æ–¥—ã.</p>\n<p>–ó–∞–±–µ–≥–∞—è –Ω–µ–º–Ω–æ–≥–æ –≤–ø–µ—Ä–µ–¥ - exit-–∫–æ–¥ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å –ø–æ–º–æ—â—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π shell-–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <code>$?</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">env</span><br /><span class=\"token comment\"># ...</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$?</span><br /><span class=\"token number\">0</span></code></pre>\n<p>–í —Å–ª—É—á–∞–µ —Å–ø–∏—Å–∫–æ–≤ –∫–æ–º–∞–Ω–¥ –∏—Ç–æ–≥–æ–≤—ã–º –±—É–¥–µ—Ç exit-–∫–æ–¥ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–º–∞–Ω–¥—ã.</p>\n<h1 id=\"complex-commands\" tabindex=\"-1\"><a id=\"complex-commands\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#complex-commands\"></a> Complex Commands <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#complex-commands\" aria-hidden=\"true\">#</a></h1>\n<p>–í—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã –±—ã–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–æ–π –∫ –ø–æ–Ω–∏–º–∞–Ω–∏—é –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –∏–∑ –∫–æ–º–∞–Ω–¥.</p>\n<p>–ò—Ç–∞–∫ –∫–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö:</p>\n<ul>\n<li>–ø—Ä–æ—Å—Ç–æ–π –∫–æ–º–∞–Ω–¥–æ–π (simple command)</li>\n<li>–ø–∞–π–ø–ª–∞–π–Ω–æ–º (pipeline)</li>\n<li>—Å–ø–∏—Å–∫–æ–º –∫–æ–º–∞–Ω–¥ (list)</li>\n<li>—Å–æ—Å—Ç–∞–≤–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (compound command)</li>\n<li>–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ (function definition)</li>\n</ul>\n<h1 id=\"pipelines\" tabindex=\"-1\"><a id=\"complex-commands-pipelines\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#complex-commands-pipelines\"></a> Pipelines <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#pipelines\" aria-hidden=\"true\">#</a></h1>\n<p>Pipeline - –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥ —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã—Ö —É–ø—Ä–∞–≤–ª—è—é—â–∏–º –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º <code>|</code>.</p>\n<p>Stdout –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ stdin —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥—ã, –∞ –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–º–∞–Ω–¥—ã stdout —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ. –ö–∞–∫ –∏—Ç–æ–≥–æ–≤—ã–π exit-–∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è exit-–∫–æ–¥ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–º–∞–Ω–¥—ã.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> abc <span class=\"token operator\">|</span> <span class=\"token function\">head</span> -c <span class=\"token number\">1</span><br />a</code></pre>\n<p>–í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ stdout –∫–æ–º–∞–Ω–¥—ã <code>echo abc</code> –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ stdin –∫–æ–º–∞–Ω–¥—ã <code>head</code>, –∫–æ—Ç–æ—Ä–∞—è –±–µ—Ä–µ—Ç –∏–∑ —Å–≤–æ–µ–≥–æ stdin —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª.</p>\n<p>–î–ª—è –ø—Ä–∏–º–µ—Ä–∞ —Å exit-–∫–æ–¥–æ–º –Ω–µ –±—É–¥–µ–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ <code>-c</code>, –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∫–æ–º–∞–Ω–¥–∞ <code>head</code> –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> abc <span class=\"token operator\">|</span> <span class=\"token function\">head</span> -c<br />head: option requires an argument -- <span class=\"token string\">'c'</span><br /><span class=\"token comment\"># ... —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$?</span><br /><span class=\"token number\">1</span>  <span class=\"token comment\"># &lt;&lt;&lt; –∫–æ–º–∞–Ω–¥–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π</span></code></pre>\n<p>Exit-–∫–æ–¥ –ø–∞–π–ø–ª–∞–π–Ω–∞ –º–æ–∂–Ω–æ –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, –µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–¥ –ø–∞–π–ø–ª–∞–π–Ω–æ–º –≤–æ—Å–∫–ª–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –∑–Ω–∞–∫ <code>!</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token operator\">!</span> <span class=\"token builtin class-name\">echo</span> abc <span class=\"token operator\">|</span> <span class=\"token function\">head</span> -c<br />head: option requires an argument -- <span class=\"token string\">'c'</span><br /><span class=\"token comment\"># ... —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$?</span><br /><span class=\"token number\">0</span></code></pre>\n<p>–î–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –≤–æ–∑—å–º–µ–º –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã <code>head -c</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">head</span> -c <span class=\"token operator\">|</span> <span class=\"token function\">cat</span><br />head: option requires an argument -- <span class=\"token string\">'c'</span><br /><span class=\"token comment\"># ...</span></code></pre>\n<p><code>head -c</code> –ø–µ—Ä–µ–¥–∞–µ—Ç stdout –∫–æ–º–∞–Ω–¥–µ <code>cat</code>, –∞ —É–∂–µ stdout –∫–æ–º–∞–Ω–¥—ã <code>cat</code> –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª</p>\n<p>–ï—Å–ª–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç cat –≤ /dev/null ‚Ä¶</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">head</span> -c <span class=\"token operator\">|</span> <span class=\"token function\">cat</span> <span class=\"token operator\">></span> /dev/null<br />head: option requires an argument -- <span class=\"token string\">'c'</span><br /><span class=\"token comment\"># ...</span></code></pre>\n<p>‚Ä¶ —Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–µ–Ω—è–µ—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ stderr-–ø–æ—Ç–æ–∫, —Ç—É—Ç –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Äî –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º stderr –≤ stdout ‚Äî –≤ –∏—Ç–æ–≥–µ –∏ stderr –∏ stdout –∫–æ–º–∞–Ω–¥—ã <code>head</code> –ø–æ–ø–∞–¥–∞—é—Ç –≤ stdin –∫–æ–º–∞–Ω–¥—ã <code>cat</code>, –∞ –ø–æ—Ç–æ–º –≤ /dev/null</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">head</span> -c <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span> <span class=\"token operator\">|</span> <span class=\"token function\">cat</span> <span class=\"token operator\">></span> /dev/null</code></pre>\n<h1 id=\"spiski-lists\" tabindex=\"-1\"><a id=\"lists\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#lists\"></a> –°–ø–∏—Å–∫–∏ - Lists <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#spiski-lists\" aria-hidden=\"true\">#</a></h1>\n<p>–î–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –±–µ–∑ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ø–∏—Å–∫–∏ –∫–æ–º–∞–Ω–¥.</p>\n<h2 id=\"simple-list\" tabindex=\"-1\"><a id=\"simple-lists\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#simple-lists\"></a> Simple List - <code>;</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#simple-list\" aria-hidden=\"true\">#</a></h2>\n<p>–°–∞–º—ã –ø—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç —Å–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –±–µ–∑ —Å–≤—è–∑–∏ –∫–æ–º–∞–Ω–¥ —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–∂–¥—É –∫–æ–º–∞–Ω–¥–∞–º–∏ <code>;</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span><br /><span class=\"token number\">1</span><br /><span class=\"token number\">2</span><br /><span class=\"token number\">3</span></code></pre>\n<p>–ö–æ–º–∞–Ω–¥—ã –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –æ–¥–Ω–∞ –∑–∞ –¥—Ä—É–≥–æ–π –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –ø—Ä–∏ —ç—Ç–æ–º –¥–∞–∂–µ –µ—Å–ª–∏ –ø–µ—Ä–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –Ω–µ–Ω—É–ª–µ–≤—ã–º exit-–∫–æ–¥–æ–º, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≤—Å–µ —Ä–∞–≤–Ω–æ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.</p>\n<h2 id=\"and-list-and-and\" tabindex=\"-1\"><a id=\"and-lists\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#and-lists\"></a> AND-List - <code>&amp;&amp;</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#and-list-and-and\" aria-hidden=\"true\">#</a></h2>\n<p>–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>&amp;&amp;</code>.</p>\n<p>–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Å–ª–µ–¥—É—é—â–∞—è –∫–æ–º–∞–Ω–¥–∞ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∞—è –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å exit-–∫–æ–¥–æ–º —Ä–∞–≤–Ω—ã–º 0.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –µ—Å—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª abc.txt, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è 3 —Å–∏–º–≤–æ–ª–∞ 'abc'</span><br />$ <span class=\"token function\">cat</span> abc.txt<br />abc<br /><br /><span class=\"token comment\"># —Å–æ—Å—Ç–∞–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –∫–æ–º–∞–Ω–¥:</span><br /><span class=\"token comment\"># - head —á–∏—Ç–∞–µ—Ç –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª –∏–∑ —Ñ–∞–π–ª–∞</span><br /><span class=\"token comment\"># - echo –≤—ã–≤–æ–¥–∏—Ç '- first char in file'</span><br /><span class=\"token comment\">#   –µ—Å–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —É—Å–ø–µ—à–Ω–æ</span><br />$ <span class=\"token function\">head</span> -c <span class=\"token number\">1</span> <span class=\"token operator\">&lt;</span>abc.txt <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">' - first char in file'</span><br />a - first char <span class=\"token keyword\">in</span> <span class=\"token function\">file</span><br /><br /><span class=\"token comment\"># head –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å —É—Å–ø–µ—à–Ω–æ –∏ –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å –∫–æ–º–∞–Ω–¥–∞ echo</span><br /><br /><span class=\"token comment\"># –µ—Å–ª–∏ —É–±—Ä–∞—Ç—å —á–∏—Å–ª–æ —Å–∏–º–≤–æ–ª–æ–≤ –≤ –∫–æ–º–∞–Ω–¥–µ head - –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –æ—à–∏–±–∫–∞ -</span><br /><span class=\"token comment\"># head –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å exit-–∫–æ–¥–æ–º 1 –∏ echo –Ω–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</span><br />$ <span class=\"token function\">head</span> -c <span class=\"token operator\">&lt;</span>abc.txt <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">' - first char in file'</span><br />head: option requires an argument -- <span class=\"token string\">'c'</span><br /><span class=\"token comment\"># ...</span></code></pre>\n<h2 id=\"or-list\" tabindex=\"-1\"><a id=\"or-lists\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#or-lists\"></a> OR-List - <code>||</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#or-list\" aria-hidden=\"true\">#</a></h2>\n<p>–í OR-List –∫–æ–º–∞–Ω–¥–∞ —Å–ª–µ–¥—É—é—â–∞—è –∑–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º <code>||</code> –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ exit-–∫–æ–¥ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã –±–æ–ª—å—à–µ 0.</p>\n<p>–í–æ–∑—å–º–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –∫–æ–º–∞–Ω–¥—É –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –∏ –Ω–µ–º–Ω–æ–≥–æ –∏–∑–º–µ–Ω–∏–º</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># —É–±–∏—Ä–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ -—Å</span><br /><span class=\"token comment\"># –º–µ–Ω—è–µ–º &amp;&amp; –Ω–∞ ||</span><br /><span class=\"token comment\"># –º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è</span><br />$ <span class=\"token function\">head</span> -c <span class=\"token operator\">&lt;</span>abc.txt <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'it is failed'</span><br />head: option requires an argument -- <span class=\"token string\">'c'</span><br /><span class=\"token comment\"># ...</span><br />it is failed<br /><br /><span class=\"token comment\"># echo –≤—ã–ø–æ–ª–Ω–∏–ª–æ—Å—å –ø–æ—Ç–æ–º—É —á—Ç–æ exit-–∫–æ–¥ –ø–µ—Ä–≤–æ–π –∫–æ–º–∞–Ω–¥—ã –±–æ–ª—å—à–µ 0</span><br /><br /><span class=\"token comment\"># –µ—Å–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–µ—Ä–≤—É—é –∫–æ–º–∞–Ω–¥—É - echo –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è</span><br />$ <span class=\"token function\">head</span> -c <span class=\"token number\">1</span> <span class=\"token operator\">&lt;</span>abc.txt <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'it is failed'</span><br />a</code></pre>\n<h1 id=\"gruppirovka-spiskov-komand\" tabindex=\"-1\"><a id=\"grouping\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#grouping\"></a> –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–ø–∏—Å–∫–æ–≤ –∫–æ–º–∞–Ω–¥ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#gruppirovka-spiskov-komand\" aria-hidden=\"true\">#</a></h1>\n<p>–ö–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:</p>\n<h2 id=\"pervyj-ispolzuya-kruglye-skobki\" tabindex=\"-1\"><a id=\"grouping-parentheses\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#grouping-parentheses\"></a> –ü–µ—Ä–≤—ã–π - –∏—Å–ø–æ–ª—å–∑—É—è –∫—Ä—É–≥–ª—ã–µ —Å–∫–æ–±–∫–∏ <code>()</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#pervyj-ispolzuya-kruglye-skobki\" aria-hidden=\"true\">#</a></h2>\n<p>–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∫–æ–º–∞–Ω–¥—ã –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º shell –∏ –∫–æ–º–∞–Ω–¥—ã –Ω–µ –±—É–¥—É—Ç –≤–ª–∏—è—Ç—å –Ω–∞ —Ç–µ–∫—É—â–∏–π shell</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token punctuation\">(</span>echo <span class=\"token string\">'abc'</span> <span class=\"token operator\">|</span> <span class=\"token function\">head</span> -c <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><br />a<br /><br />$ <span class=\"token punctuation\">(</span>export <span class=\"token assign-left variable\">TEST</span><span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><br /><span class=\"token comment\"># –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è TEST –Ω–µ –ø–æ—è–≤–∏—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–º shell</span></code></pre>\n<h2 id=\"vtoroj-sposob-figurnye-skobki\" tabindex=\"-1\"><a id=\"grouping-curly\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#grouping-curly\"></a> –í—Ç–æ—Ä–æ–π —Å–ø–æ—Å–æ–± - —Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ - <code>{}</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#vtoroj-sposob-figurnye-skobki\" aria-hidden=\"true\">#</a></h2>\n<p>–≠—Ç–æ—Ç —Å–ø–æ—Å–æ–± —Ç–∞–∫–∂–µ –∫–∞–∫ –∏ –ø–µ—Ä–≤—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å stdout —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥, –∫–∞–∫ –±—É–¥—Ç–æ —ç—Ç–æ –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞, –Ω–æ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–º shell.</p>\n<p>–ü–µ—Ä–≤–æ–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ —ç—Ç–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ - —ç—Ç–æ –Ω–∞–ª–∏—á–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∏ –ø–µ—Ä–µ–¥ –≤—Ç–æ—Ä–æ–π —Ñ–∏–≥—É—Ä–Ω—ã–º–∏ —Å–∫–æ–±–æ–∫.\n–í—Ç–æ—Ä—ã–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º —É—Å–ª–æ–≤–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —Ç–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π <code>;</code> –ø–µ—Ä–µ–¥ –≤—Ç–æ—Ä–æ–π, –∑–∞–≤–µ—Ä—à–∞—é—â–µ–π —Å–∫–æ–±–∫–æ–π <code>}</code>.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token punctuation\">{</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span> <span class=\"token function\">head</span> -n <span class=\"token number\">2</span><br /><span class=\"token number\">1</span><br /><span class=\"token number\">2</span><br /><span class=\"token comment\"># —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Å–ø–∏—Å–∫–∏, –ø–∞–π–ø–ª–∞–π–Ω—ã</span><br />$ <span class=\"token punctuation\">{</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'abc'</span> <span class=\"token operator\">|</span> <span class=\"token function\">head</span> -c <span class=\"token number\">1</span> <span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><br />a</code></pre>\n<h1 id=\"uslovnye-konstrukczii-i-czikly\" tabindex=\"-1\"><a id=\"conditions-and-loops\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#conditions-and-loops\"></a> –£—Å–ª–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ —Ü–∏–∫–ª—ã <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#uslovnye-konstrukczii-i-czikly\" aria-hidden=\"true\">#</a></h1>\n<p>–° —ç—Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –ø—Ä–æ—Å—Ç–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å—Å—è –≤ shell-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ üòÉ</p>\n<h2 id=\"if-then\" tabindex=\"-1\"><a id=\"if\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#if\"></a> if ‚Ä¶ then <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#if-then\" aria-hidden=\"true\">#</a></h2>\n<p>–°–∏–Ω—Ç–∞–∫—Å–∏—Å</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">if</span> list<br /><span class=\"token keyword\">then</span> list<br /><span class=\"token punctuation\">[</span> <span class=\"token keyword\">elif</span> list<br /><span class=\"token keyword\">then</span>    list <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">..</span>.<br /><span class=\"token punctuation\">[</span> <span class=\"token keyword\">else</span> list <span class=\"token punctuation\">]</span><br /><span class=\"token keyword\">fi</span></code></pre>\n<p>–ï—Å–ª–∏ list –≤ <code>if</code> –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å exit-–∫–æ–¥–æ–º 0 - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π <code>then list</code>, –∞ –µ—Å–ª–∏ exit-–∫–æ–¥ –±–æ–ª—å—à–µ 0 –∏ –µ—Å—Ç—å <code>else list</code> - —Ç–æ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –æ–Ω, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è <code>elif .. then</code>.</p>\n<p>–í—Å–µ —á—Ç–æ –ø–æ—Å–ª–µ if, then, else, elif —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ —Å–ø–∏—Å–∫–∞–º–∏ –∫–æ–º–∞–Ω–¥.</p>\n<p>–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º —É—Å–ª–æ–≤–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥ –æ—Ç —Å–ª—É–∂–µ–±–Ω—ã—Ö —Å–ª–æ–≤ —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫–∏, –ª–∏–±–æ —Ç–æ—á–∫–æ–π —Å –∑–∞–ø—è—Ç–æ–π <code>;</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token keyword\">if</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1</span><br /><span class=\"token operator\">></span> <span class=\"token keyword\">then</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">2</span><br /><span class=\"token operator\">></span> <span class=\"token keyword\">fi</span><br /><span class=\"token number\">1</span><br /><span class=\"token number\">2</span><br /><br /><span class=\"token comment\"># —Ç–æ –∂–µ —Å–∞–º–æ–µ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É</span><br />$ <span class=\"token keyword\">if</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">fi</span><br /><span class=\"token number\">1</span><br /><span class=\"token number\">2</span><br /><br /><span class=\"token comment\"># —á—É—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ –≤—ã–≥–ª—è–¥—è—â–∏–π –ø—Ä–∏–º–µ—Ä</span><br />$ <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span> <span class=\"token function\">head</span> -n <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">then</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">fi</span><br /><span class=\"token number\">1</span><br /><span class=\"token number\">3</span><br /><br /><span class=\"token comment\"># –ø–µ—Ä–≤—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å exit-–∫–æ–¥–æ–º –±–æ–ª—å—à–µ 0</span><br />$ <span class=\"token keyword\">if</span> <span class=\"token function\">ls</span> /nowhere <span class=\"token operator\">></span>/dev/null <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'good'</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">else</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'bad'</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">fi</span><br />bad<br /><span class=\"token comment\"># –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è else</span></code></pre>\n<p>–í –ø—Ä–∏–º–µ—Ä–∞—Ö –º—ã –≤–∏–¥–∏–º stdout –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω—è—é—â–∏—Ö—Å—è –∫–æ–º–∞–Ω–¥. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è stdout –∏–ª–∏ stderr –Ω–µ –Ω—É–∂–Ω—ã - –∏—Ö –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –≤ —Ñ–∞–π–ª—ã –∏–ª–∏ –≤ /dev/null.</p>\n<p>–ü–æ—Å–ª–µ –æ–ø–∏—Å–∞–Ω–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∏ –ø—Ä–∏–º–µ—Ä–æ–≤ –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –≤–æ–ø—Ä–æ—Å –ø—Ä–æ —É—Å–ª–æ–≤–∏—è –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token assign-left variable\">TEST</span><span class=\"token operator\">=</span><span class=\"token number\">100</span><br />$ <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$TEST</span> <span class=\"token operator\">==</span> <span class=\"token string\">'100'</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'good'</span><br /><span class=\"token keyword\">else</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'bad'</span><br /><span class=\"token keyword\">fi</span></code></pre>\n<p>–†–∞–∑–≤–µ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç—å—é —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞?</p>\n<p>–ù–µ—Ç, –Ω–µ —è–≤–ª—è—é—Ç—Å—è. –ò —ç—Ç–æ –æ–¥–Ω–∞ –∏–∑ ‚Äú–º–∞–≥–∏—á–µ—Å–∫–∏—Ö‚Äù —à—Ç—É–∫, –∫–æ—Ç–æ—Ä—ã–µ —Å —Ö–æ–¥—É –∫–∞–∂—É—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–º–∏, –Ω–æ –≤ –∏—Ç–æ–≥–µ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ —Ç–∞–∫ –∫–∞–∫ –æ–∂–∏–¥–∞–µ—à—å.</p>\n<p>–û–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã–≤–∞—é—â—è—è —Å–∫–æ–±–∫–∞ <code>[</code> —ç—Ç–æ –∫–æ–º–∞–Ω–¥–∞ <code>test</code>.</p>\n<p>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ <code>man [</code> –∏ <code>man test</code> –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.</p>\n<p>–ï—Å–ª–∏ –ø–æ–∏—Å–∫–∞—Ç—å —Ç–∞–∫—É—é –∫–æ–º–∞–Ω–¥—É —Å –ø–æ–º–æ—â—å—é <code>which</code> (which –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ –Ω–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –∏—Å–ø–æ–ª—å–∑—É—è PATH)</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">which</span> <span class=\"token punctuation\">[</span><br />/usr/bin/<span class=\"token punctuation\">[</span></code></pre>\n<p>–ó–∞–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞ <code>]</code> —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –∑–∞–≤–µ—Ä—à–∞—é—â–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –¥–ª—è –∫–æ–º–∞–Ω–¥—ã <code>[</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token punctuation\">[</span><br />ash: missing <span class=\"token punctuation\">]</span></code></pre>\n<p>–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ –≤ —Å–ª—É—á–∞–µ ash –∫–æ–º–∞–Ω–¥—ã <code>[</code>, <code>test</code> –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥—Ä—É–≥–∏–µ —è–≤–ª—è—é—Ç—Å—è builtin-–∫–æ–º–∞–Ω–¥–∞–º–∏, –º—ã —Ä–∞–∑–±–µ—Ä–µ–º –∏—Ö —á–µ—Ä–µ–∑ –ø–∞—Ä—É —Å—Ç–∞—Ç–µ–π —ç—Ç–æ–π —Å–µ—Ä–∏–∏.</p>\n<p>–¢–µ–ø–µ—Ä—å <code>if</code> –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–º–∏ —Å–∫–æ–±–∫–∞–º–∏ ‚Ä¶</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$TEST</span> <span class=\"token operator\">==</span> <span class=\"token string\">'100'</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'good'</span><br /><span class=\"token keyword\">fi</span></code></pre>\n<p>‚Ä¶ –ø—Ä–æ—Å—Ç–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ –∏–∑ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">if</span> <span class=\"token builtin class-name\">test</span> <span class=\"token variable\">$TEST</span> <span class=\"token operator\">==</span> <span class=\"token string\">'100'</span> <span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'good'</span><br /><span class=\"token keyword\">fi</span></code></pre>\n<p>–∏ —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π –≤ –∫–æ–Ω—Ü–µ –Ω—É–∂–Ω–∞ —á—Ç–æ–±—ã —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥—ã <code>test</code> –æ—Ç —Å–ª—É–∂–µ–±–Ω–æ–≥–æ —Å–ª–æ–≤–∞ <code>then</code></p>\n<h2 id=\"while\" tabindex=\"-1\"><a id=\"while\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#while\"></a> while <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#while\" aria-hidden=\"true\">#</a></h2>\n<p>C —Ü–∏–∫–ª–æ–º <code>while</code> –≤—Å–µ –µ—â–µ –ø—Ä–æ—â–µ —á–µ–º <code>if</code></p>\n<p>–°–∏–Ω—Ç–∞–∫—Å–∏—Å</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">while</span> list<br /><span class=\"token keyword\">do</span> list<br /><span class=\"token keyword\">done</span></code></pre>\n<p>–ü–æ–∫–∞ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –ø–æ—Å–ª–µ <code>while</code> –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å exit-code —Ä–∞–≤–Ω—ã–º 0 –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –ø–æ—Å–ª–µ <code>do</code>.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1</span> <span class=\"token operator\">></span> <span class=\"token number\">1</span>.txt<br />$ <span class=\"token keyword\">while</span> <span class=\"token function\">cat</span> <span class=\"token number\">1</span>.txt <span class=\"token operator\">></span>/dev/null <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span><br /><span class=\"token keyword\">do</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'has file'</span> <span class=\"token punctuation\">;</span> <span class=\"token function\">rm</span> <span class=\"token number\">1</span>.txt<br /><span class=\"token keyword\">done</span><br />has <span class=\"token function\">file</span><br /><br /><span class=\"token comment\"># has file - –≤—ã–≤–æ–¥–∏—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–ª–µ–¥—É–µ—Ç –≤—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞</span></code></pre>\n<h2 id=\"until\" tabindex=\"-1\"><a id=\"until\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#until\"></a> until <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#until\" aria-hidden=\"true\">#</a></h2>\n<p><code>until</code> —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ <code>while</code>, —Ç–æ–ª—å–∫–æ —Ü–∏–∫–ª –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–∫–∞ exit-–∫–æ–¥ –ø–µ—Ä–≤–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥ <strong>–Ω–µ —Ä–∞–≤–µ–Ω</strong> 0.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –ø–æ–∫–∞ –Ω–µ—Ç —Ñ–∞–π–ª–∞ 2.txt —Ü–∏–∫–ª –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å</span><br />$ <span class=\"token keyword\">until</span> <span class=\"token function\">cat</span> <span class=\"token number\">2</span>.txt <span class=\"token operator\">></span>/dev/null <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span><br /><span class=\"token keyword\">do</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'has no file'</span> <span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">2</span> <span class=\"token operator\">></span> <span class=\"token number\">2</span>.txt <span class=\"token punctuation\">;</span><br /><span class=\"token keyword\">done</span><br /><br />has no <span class=\"token function\">file</span></code></pre>\n<h2 id=\"for\" tabindex=\"-1\"><a id=\"for\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#for\"></a> for <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#for\" aria-hidden=\"true\">#</a></h2>\n<p>–°–∏—Ç–∞–∫—Å–∏—Å</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">for</span> variable <span class=\"token punctuation\">[</span> <span class=\"token keyword\">in</span> <span class=\"token punctuation\">[</span> word <span class=\"token punctuation\">..</span>. <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">]</span><br /><span class=\"token keyword\">do</span>   list<br /><span class=\"token keyword\">done</span></code></pre>\n<p>–¶–∏–∫–ª <code>for</code> –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤ –∏ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ —á—Ç–æ-—Ç–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å —ç–ª–µ–º–µ–Ω—Ç–æ–º</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">i</span> <span class=\"token keyword\">in</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"i = <span class=\"token variable\">$i</span>\"</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">done</span><br />i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><br />i <span class=\"token operator\">=</span> <span class=\"token number\">2</span><br />i <span class=\"token operator\">=</span> <span class=\"token number\">3</span></code></pre>\n<p>–° –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∫–æ–º–∞–Ω–¥—ã (command substitution) - <code>$(command)</code> - —Ü–∏–∫–ª <code>for</code> –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å –≤—Å–µ —á—Ç–æ —É–≥–æ–¥–Ω–æ. Command substitution –∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª–µ–∑–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –≤ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç–∞—Ç—å–µ.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –∫–æ–º–∞–Ω–¥–∞ ls –≤—ã–¥–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏</span><br /><span class=\"token comment\"># –≤—ã–¥–∞–µ—Ç –≤ —Å—Ç—Ä–æ–∫—É —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª–∞–º–∏</span><br />$ <span class=\"token function\">ls</span><br /><span class=\"token number\">1</span>.txt <span class=\"token number\">2</span>.txt <span class=\"token number\">3</span>.txt<br /><br /><span class=\"token comment\"># –∏—Å–ø–æ–ª—å–∑—É—è for –∏ command substitution</span><br /><span class=\"token comment\"># –º–æ–∂–µ–º –ø–µ—Ä–µ–±—Ä–∞—Ç—å –≤ —Ü–∏–∫–ª–µ —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤</span><br />$ <span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">file</span> <span class=\"token keyword\">in</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">ls</span><span class=\"token variable\">)</span></span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"file = <span class=\"token variable\">$file</span>\"</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">done</span><br /><span class=\"token function\">file</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span>.txt<br /><span class=\"token function\">file</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span>.txt<br /><span class=\"token function\">file</span> <span class=\"token operator\">=</span> <span class=\"token number\">3</span>.txt</code></pre>\n<h2 id=\"break-continue\" tabindex=\"-1\"><a id=\"break-continue\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#break-continue\"></a> break, continue <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#break-continue\" aria-hidden=\"true\">#</a></h2>\n<p>—Å–∏–Ω—Ç–∞–∫—Å–∏—Å</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">break</span> <span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span><br /><span class=\"token builtin class-name\">continue</span> <span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span></code></pre>\n<ul>\n<li><code>break</code> - –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç —Ü–∏–∫–ª <code>for</code> –∏–ª–∏ <code>while</code> (<code>until</code>)</li>\n<li><code>continue</code> - –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é —Ü–∏–∫–ª–∞</li>\n</ul>\n<p>–ï—Å–ª–∏ –µ—Å—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã, —Ç–æ –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—è n –ø—Ä–∏–º–µ–Ω—è—Ç—å <code>break</code> –∏–ª–∏ <code>continue</code> –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ü–∏–∫–ª–æ–≤</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">i</span> <span class=\"token keyword\">in</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> <span class=\"token number\">3</span><br /><span class=\"token operator\">></span> <span class=\"token keyword\">do</span> <span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">j</span> <span class=\"token keyword\">in</span> a b c<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$i</span> - <span class=\"token variable\">$j</span>\"</span><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">break</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">;</span> <span class=\"token keyword\">done</span><br /><span class=\"token operator\">></span> <span class=\"token keyword\">done</span><br /><span class=\"token number\">1</span> - a<br /><span class=\"token number\">2</span> - a<br /><span class=\"token number\">3</span> - a<br /><span class=\"token comment\"># –∫–∞–∂–¥—ã–π —Ä–∞–∑ –≤—Ç–æ—Ä–æ–π —Ü–∏–∫–ª –±—É–¥–µ—Ç –ø—Ä–µ—Ä—ã–≤–∞—Ç—å—Å—è –Ω–∞ –ø–µ—Ä–≤–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏</span><br /><span class=\"token comment\"># –µ—Å–ª–∏ –ø–æ–º–µ–Ω—è—Ç—å –Ω–∞ break 2 —Ç–æ –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ —Ç–æ–ª—å–∫–æ 1 - a</span></code></pre>\n<h2 id=\"case\" tabindex=\"-1\"><a id=\"case\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#case\"></a> case <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#case\" aria-hidden=\"true\">#</a></h2>\n<p>–°–∏–Ω—Ç–∞–∫—Å–∏—Å</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">case</span> word <span class=\"token keyword\">in</span><br /><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">]</span>pattern<span class=\"token punctuation\">)</span> list <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">..</span>.<br /><span class=\"token keyword\">esac</span></code></pre>\n<p>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ word –æ–¥–Ω–æ–º—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ —É –ø–∞—Ç—Ç–µ—Ä–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–≤–ø–∞–¥–∞–µ—Ç –ø–µ—Ä–≤—ã–º.</p>\n<p>–∑–∞–≤–µ—Ä—à–∞—é—â–∏–π <code>esac</code> —ç—Ç–æ <code>case</code> –Ω–∞–æ–±–æ—Ä–æ—Ç, —Ç–∞–∫–∂–µ –∫–∞–∫ <code>if</code> –∏ <code>fi</code>, –∫—Ç–æ-—Ç–æ –ø—Ä–∏–¥—É–º–∞–ª - —Ç–∞–∫ –∏ –æ—Å—Ç–∞–ª–æ—Å—å (–∏–ª–∏ —Ç–∞–º –∫–∞–∫–∞—è-—Ç–æ –¥—Ä—É–≥–∞—è –∏—Å—Ç–æ—Ä–∏—è) üòÉ</p>\n<p>–í —Å–∞–º–æ–º –ø—Ä–æ—Å—Ç–æ–º –≤–∏–¥–µ –≤ <code>case</code> –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–ª–∏ –∏ —Ç–æ –∏ –¥—Ä—É–≥–æ–µ –≤–º–µ—Å—Ç–µ</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">i</span><span class=\"token operator\">=</span><span class=\"token number\">2</span><br /><span class=\"token keyword\">case</span> <span class=\"token variable\">$i</span> <span class=\"token keyword\">in</span><br /><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><br />  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'1'</span><br />  <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'2'</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><br /><span class=\"token keyword\">esac</span></code></pre>\n<p>–ü–µ—Ä–≤—É—é –∫—Ä—É–≥–ª—É—é —Å–∫–æ–±–∫—É –º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å. –ö—Ä–æ–º–µ —É–∫–∞–∑–∞–Ω–∏—è –ø–æ–ª–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Shell Patterns.</p>\n<p>Shell patterns –ø–æ–∑–≤–æ–ª—è—é—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –Ω–µ—Å—Ç—Ä–æ–≥–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¥–ª—è —Å—Ç—Ä–æ–∫.</p>\n<p>–í Shell Patterns –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–µ—Ç–∞-—Å–∏–º–≤–æ–ª—ã <code>! * ? [</code></p>\n<p><a id=\"case-asterisk\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#case-asterisk\"></a> <code>*</code> - —Å–æ–æ—Ç–≤–µ—Ç–≤—É–µ—Ç –ª—é–±–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏–º–≤–æ–ª–æ–≤, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ <code>case</code> –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">i <span class=\"token operator\">=</span> <span class=\"token number\">100</span><br /><span class=\"token keyword\">case</span> <span class=\"token variable\">$i</span> <span class=\"token keyword\">in</span><br /><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><br /><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><br />*<span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'default'</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><br /><span class=\"token keyword\">esac</span></code></pre>\n<p><a id=\"case-question\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#case-question\"></a> <code>?</code> - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–æ–º—É –ª—é–±–æ–º—É —Å–∏–º–≤–æ–ª—É</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">i <span class=\"token operator\">=</span> <span class=\"token number\">100</span><br /><span class=\"token keyword\">case</span> <span class=\"token variable\">$i</span> <span class=\"token keyword\">in</span><br /><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><br /><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><br /><span class=\"token number\">1</span>??<span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'100 or 1??'</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><br /><span class=\"token keyword\">esac</span></code></pre>\n<p><a id=\"case-bracket\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#case-bracket\"></a> <code>[</code> - –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∫–∞–∑–∞—Ç—å –∫–ª–∞—Å—Å —Å–∏–º–≤–æ–ª–æ–≤, –≤–Ω—É—Ç—Ä–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –∏–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω —Å–∏–º–≤–æ–ª–æ–≤, —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ –º–µ—Ç–∞-—Å–∏–º–≤–æ–ª–∞–º–∏</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">i <span class=\"token operator\">=</span> a100<br /><span class=\"token keyword\">case</span> <span class=\"token variable\">$i</span> <span class=\"token keyword\">in</span><br /><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><br /><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">[</span>ab<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span>-9<span class=\"token punctuation\">]</span>*<span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'ab1-9'</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><br /><span class=\"token keyword\">esac</span></code></pre>\n<p>C–∏–º–≤–æ–ª—ã <code>]</code> –∏ <code>-</code> —Ç–æ–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —Å–∏–º–≤–æ–ª—ã –≤–Ω—É—Ç—Ä–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –î–ª—è —ç—Ç–æ–≥–æ —Å–∏–º–≤–æ–ª <code>]</code> –Ω—É–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã–≤–∞—é—â–µ–π —Ñ–∏–≥—É—Ä–Ω–æ–π —Å–∫–æ–±–∫–∏ <code>[</code> (–Ω–æ –ø–æ—Å–ª–µ <code>!</code>, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è). –°–∏–º–≤–æ–ª <code>-</code> –Ω—É–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –ø–µ—Ä–≤—ã–º –∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–º –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ —Å–∏–º–≤–æ–ª–æ–≤.</p>\n<p><a id=\"case-excl-mark\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#case-excl-mark\"></a> <code>!</code> - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ —Å–∏–º–≤–æ–ª–æ–≤ –∏ –æ–∑–Ω–∞—á–∞–µ—Ç <strong>–Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ</strong> –∫–ª–∞—Å—Å—É.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">i <span class=\"token operator\">=</span> a100<br /><span class=\"token keyword\">case</span> <span class=\"token variable\">$i</span> <span class=\"token keyword\">in</span><br /><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><br /><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">[</span><span class=\"token operator\">!</span>ab<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span>-9<span class=\"token punctuation\">]</span>*<span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'c1-9'</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><br /><span class=\"token keyword\">esac</span><br /><br /><span class=\"token comment\"># –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≤—ã–≤–µ–¥–µ—Ç c1-9 –µ—Å–ª–∏ i –±—É–¥–µ—Ç —Ä–∞–≤–Ω–æ c100</span></code></pre>\n<p>¬†</p>\n<h1 id=\"itogo\" tabindex=\"-1\">–ò—Ç–æ–≥–æ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#itogo\" aria-hidden=\"true\">#</a></h1>\n<p>–í —Å—Ç–∞—Ç—å–µ —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å –∫–∞–∫ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã, —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –ø–∞–π–ø–ª–∞–π–Ω—ã, —Å–ø–∏—Å–∫–∏ –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –∫–æ–º–∞–Ω–¥, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–≤—è–∑–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ AND-, OR- —Å–ø–∏—Å–∫–∏, —É—Å–ª–æ–≤–∏—è –∏ —Ü–∏–∫–ª—ã. –í—Ä–æ–¥–µ –±—ã —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π shell, –Ω–æ –≤–Ω—É—Ç—Ä–∏ –µ—â–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è.</p>\n<p>–î–∞–ª—å—à–µ —Ä–∞–∑–±–µ—Ä–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏.</p>\n<p>–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-6-ash-functions/\">shells, ash #5 - ash syntax, functions\n</a></p>\n<p>¬†</p>\n<h2 id=\"ssylki\" tabindex=\"-1\">–°—Å—ã–ª–∫–∏ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/#ssylki\" aria-hidden=\"true\">#</a></h2>\n<ul>\n<li><a href=\"https://man7.org/linux/man-pages/man1/dash.1.html\" target=\"_blank\" rel=\"noopener\">https://man7.org/linux/man-pages/man1/dash.1.html</a></li>\n<li><a href=\"https://ru.wikipedia.org/wiki/Executable_and_Linkable_Format\" target=\"_blank\" rel=\"noopener\">https://ru.wikipedia.org/wiki/Executable_and_Linkable_Format</a></li>\n<li><a href=\"https://ru.wikipedia.org/wiki/%D0%A8%D0%B5%D0%B1%D0%B0%D0%BD%D0%B3_(Unix)\" target=\"_blank\" rel=\"noopener\">https://ru.wikipedia.org/wiki/–®–µ–±–∞–Ω–≥_(Unix)</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Exit_status\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Exit_status</a></li>\n</ul>\n<hr />\n<p><a href=\"https://rootaround.github.io/tags/linux-tools\">–í—Å–µ —Å—Ç–∞—Ç—å–∏ —Å–µ—Ä–∏–∏ ‚ÄúLinux Tools‚Äù</a></p>\n",
      "date_published": "2021-01-13T08:00:00Z"
    },{
      "id": "https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/",
      "url": "https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/",
      "title": "Linux Tools: shells, ash #3 - ash syntax, redirections",
      "content_html": "<p>–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø—Ä–æ ash –∏ –ø—Ä–æ—Å—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã, —Å–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä–µ–º—Å—è —Å –ø–æ—Ç–æ–∫–∞–º–∏ –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–æ—Ç–æ–∫–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞.</p>\n<!--more-->\n<p>–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/\">shells, ash #2 - ash syntax, simple commands</a></p>\n<p>–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/\">shells, ash #4 - ash syntax, complex commands, pipelines, conditions and loops</a></p>\n<p>–í –æ–¥–Ω–æ–π –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å—Ç–∞—Ç–µ–π —è –Ω–µ–º–Ω–æ–≥–æ —Ä–∞—Å—Å–∫–∞–∑–∞–ª –ø—Ä–æ –ø–æ—Ç–æ–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ –∏—Ö –Ω—É–º–µ—Ä–∞—Ü–∏—é:</p>\n<ul>\n<li>0 - stdin - –≤—Ö–æ–¥–Ω–æ–π –ø–æ—Ç–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞, —á–µ—Ä–µ–∑ –Ω–µ–≥–æ –º–æ–≥—É—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥—Ä—É–≥–æ–π –∫–æ–º–∞–Ω–¥—ã</li>\n<li>1 - stdout - –≤—ã—Ö–æ–¥–Ω–æ–π –ø–æ—Ç–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞, –≤ —ç—Ç–æ—Ç –ø–æ—Ç–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</li>\n<li>2 - stderr - –ø–æ—Ç–æ–∫ –¥–ª—è –æ—à–∏–±–æ–∫ –∏ –æ—Ç–ª–∞–¥–∫–∏</li>\n</ul>\n<p>–í—Å–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–≤, —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ –¥–∞–ª—å—à–µ, –¥–µ–π—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã –∏–ª–∏ –Ω–∞–±–æ—Ä–∞ –∫–æ–º–∞–Ω–¥.</p>\n<h3 id=\"operator-n-file\" tabindex=\"-1\"><a id=\"operator-n-to-file\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#operator-n-to-file\"></a> –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>[n]&gt; file</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#operator-n-file\" aria-hidden=\"true\">#</a></h3>\n<p>–ü–æ—Ç–æ–∫–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –≤ —Ñ–∞–π–ª—ã</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 123 –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ –≤ —Ñ–∞–π–ª</span><br /><span class=\"token comment\"># —Ç—É—Ç –º—ã –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏–ª–∏ –ø–æ—Ç–æ–∫ stdout –≤ —Ñ–∞–π–ª tmp.txt</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">123</span> <span class=\"token operator\">></span> tmp.txt</code></pre>\n<p>–û–ø–µ—Ä–∞—Ç–æ—Ä <code>&gt;</code> –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –ø–æ—Ç–æ–∫ –≤ —Ñ–∞–π–ª –ø–æ –Ω–æ–º–µ—Ä—É –ø–æ—Ç–æ–∫–∞. –ü—Ä–∏–≤–µ–¥–µ–Ω–Ω–∞—è –≤—ã—à–µ –∫–æ–º–∞–Ω–¥–∞ —ç—Ç–æ –∫—Ä–∞—Ç–∫–∞—è –∑–∞–ø–∏—Å—å –∫–æ–º–∞–Ω–¥—ã. –ü–æ–ª–Ω–∞—è –∑–∞–ø–∏—Å—å –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º stdout –≤ —Ñ–∞–π–ª tmp.txt</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">123</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">1</span>></span> tmp.txt</code></pre>\n<p>–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å stderr</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'error'</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span> errors.log</code></pre>\n<p>–û–ø–µ—Ä–∞—Ç–æ—Ä <code>&gt;</code> –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –µ—Å–ª–∏ —Ñ–∞–π–ª —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç - —Å–æ–∑–¥–∞–µ—Ç –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ.</p>\n<p>–î–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ –∫–∞–∫–∏—Ö-—Ç–æ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç <code>-–°</code> (<a href=\"https://rootaround.github.io/2020-12-linux-tools-shells-part-2-ash-startup/#noclobber-arg\">noclobber</a>), –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞ ‚Äî —Å —ç—Ç–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º ash –±—É–¥–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å –æ—à–∏–±–∫—É, –µ—Å–ª–∏ —Ñ–∞–π–ª —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.</p>\n<h3 id=\"operator-n-file-1\" tabindex=\"-1\"><a id=\"operator-n-to-stick-file\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#operator-n-to-stick-file\"></a> –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>[n]&gt;| file</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#operator-n-file-1\" aria-hidden=\"true\">#</a></h3>\n<p>–î–µ–ª–∞–µ—Ç –≤—Å–µ —Ç–æ –∂–µ —Å–∞–º–æ–µ —á—Ç–æ –∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –æ–ø–µ—Ä–∞—Ç–æ—Ä, –Ω–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º <code>-C</code> (<a href=\"https://rootaround.github.io/2020-12-linux-tools-shells-part-2-ash-startup/#noclobber-arg\">noclobber</a>) —Ñ–∞–π–ª –≤—Å–µ —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω ‚Äî —Ç–∞–∫–æ–π force –¥–ª—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞ –≤ —Ñ–∞–π–ª.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># —Å–∫—Ä–∏–ø—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –≤ —Ñ–∞–π–ª —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ ></span><br />$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token number\">123</span> <span class=\"token operator\">></span> tmp.txt<br /><br /><span class=\"token comment\"># –≤—ã–ø–æ–ª–Ω—è–µ–º - –≤ —Ñ–∞–π–ª tmp.txt –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è 123</span><br />$ ash test.sh<br /><br /><span class=\"token comment\"># –µ—â–µ —Ä–∞–∑ –≤—ã–ø–æ–ª–Ω—è–µ–º —Ç–æ—Ç –∂–µ —Å–∫—Ä–∏–ø—Ç,</span><br /><span class=\"token comment\"># —Ñ–∞–π–ª tmp.txt –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω —Å —Ç–µ–º –∂–µ —Ç–µ–∫—Å—Ç–æ–º 123</span><br />$ ash test.sh<br /><br /><span class=\"token comment\"># —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º -C –ø—Ä–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º > –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞</span><br />$ ash -C test.sh<br />test.sh: line <span class=\"token number\">1</span>: can't create tmp.txt: File exists<br /><br /><span class=\"token comment\"># –µ—Å–ª–∏ –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä > –Ω–∞ >|</span><br />$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1234</span> <span class=\"token operator\">>|</span> tmp.txt<br /><br /><span class=\"token comment\"># —Ç–æ –¥–∞–∂–µ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º -C —Ñ–∞–π–ª –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω</span><br />$ ash -C test.sh</code></pre>\n<h3 id=\"operator-n-file-2\" tabindex=\"-1\"><a id=\"operator-n-double-to-file\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#operator-n-double-to-file\"></a> –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>[n]&gt;&gt; file</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#operator-n-file-2\" aria-hidden=\"true\">#</a></h3>\n<p>–î–æ–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–æ—Ç–æ–∫–∞ –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞, –µ—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç - —Ç–æ —Å–æ–∑–¥–∞–µ—Ç</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">567</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">1</span>>></span> tmp.txt<br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">890</span> <span class=\"token operator\">>></span> tmp.txt<br />$ <span class=\"token function\">cat</span> tmp.txt<br /><span class=\"token number\">1234</span><br /><span class=\"token number\">567</span><br /><span class=\"token number\">890</span></code></pre>\n<h3 id=\"operator-n-file-3\" tabindex=\"-1\"><a id=\"operator-n-from-file\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#operator-n-from-file\"></a> –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>[n]&lt; file</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#operator-n-file-3\" aria-hidden=\"true\">#</a></h3>\n<p>—á—Ç–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ –∏–∑ —Ñ–∞–π–ª–∞</p>\n<p>–í –æ—Å–Ω–æ–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —á—Ç–µ–Ω–∏—è stdin</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –∫–æ–º–∞–Ω–¥–∞ cat –≤—ã–≤–æ–¥–∏—Ç stdin</span><br /><span class=\"token comment\"># –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É)</span><br /><span class=\"token comment\"># –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ stdin,</span><br /><span class=\"token comment\"># –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –ø—Ä–æ—á–∏—Ç–∞–Ω–æ –∏–∑ —Ñ–∞–π–ª–∞ tmp.txt</span><br />$ <span class=\"token function\">cat</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">0</span>&lt;</span> tmp.txt<br /><span class=\"token number\">1234</span><br /><span class=\"token number\">567</span><br /><span class=\"token number\">890</span><br /><br /><span class=\"token comment\"># —Å–æ–∫—Ä–∞—â–µ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –Ω–æ–º–µ—Ä–∞ –ø–æ—Ç–æ–∫–∞</span><br />$ <span class=\"token function\">cat</span> <span class=\"token operator\">&lt;</span> tmp.txt<br /><span class=\"token comment\"># –≤—ã–≤–æ–¥ —Ç–∞–∫–æ–π –∂–µ</span></code></pre>\n<p>–û–ø–µ—Ä–∞—Ç–æ—Ä –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω –∏ –¥–æ –∫–æ–º–∞–Ω–¥—ã</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token operator\">&lt;</span> tmp.txt <span class=\"token function\">cat</span><br /><span class=\"token comment\"># –∫–æ–º–∞–Ω–¥–æ–π cat –∏–∑ stdin –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ tmp.txt</span></code></pre>\n<h3 id=\"operator-n1-and-n2\" tabindex=\"-1\"><a id=\"operator-n-to-descriptor\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#operator-n-to-descriptor\"></a> –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>[n1]&gt;&amp;n2</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#operator-n1-and-n2\" aria-hidden=\"true\">#</a></h3>\n<p>–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Ç–æ–∫ n1 (–∏–ª–∏ stdout - 1 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –≤ –ø–æ—Ç–æ–∫ —Å –Ω–æ–º–µ—Ä–æ–º n2</p>\n<p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —à–µ–ª–ª —Ç–æ–∂–µ –ø—Ä–æ—Ü–µ—Å—Å –∏ —É –Ω–µ–≥–æ –µ—Å—Ç—å —Å–≤–æ–∏ stdin, stdout, stderr</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –ø–∏—à–µ–º –≤ stdout - –ø–æ—Ç–æ–∫ —Å –Ω–æ–º–µ—Ä–æ–º 1</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'out'</span> <span class=\"token operator\">></span><span class=\"token file-descriptor important\">&amp;1</span><br />out<br /><br /><span class=\"token comment\"># –ø–∏—à–µ–º –≤ stderr - –ø–æ—Ç–æ–∫ —Å –Ω–æ–º–µ—Ä–æ–º 2</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'error'</span> <span class=\"token operator\">></span><span class=\"token file-descriptor important\">&amp;2</span><br />error</code></pre>\n<p>–í—ã–≤–æ–¥ –æ–±–µ–∏—Ö –∫–æ–º–∞–Ω–¥ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω –≤ –∫–æ–Ω—Å–æ–ª–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —à–µ–ª–ª–∞ –≤–µ—Å—å –≤—ã–≤–æ–¥ –∏–¥–µ—Ç –Ω–∞ —ç–∫—Ä–∞–Ω.</p>\n<p>–î–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤ —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –≤ stdout –∏ stderr</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># —Å–∫—Ä–∏–ø—Ç –ø–∏—à–µ—Ç —Ä–∞–∑–¥–µ–ª—å–Ω–æ –≤ stdout –∏ –≤ stderr</span><br />$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'out'</span> <span class=\"token operator\">></span><span class=\"token file-descriptor important\">&amp;1</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'error'</span> <span class=\"token operator\">></span><span class=\"token file-descriptor important\">&amp;2</span><br /><br /><span class=\"token comment\"># –µ—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø—Ç, —Ç–æ –≤—Å—ë —É–≤–∏–¥–∏–º –≤ –∫–æ–Ω—Å–æ–ª–∏</span><br />$ ash test.sh<br />out<br />error<br /><br /><span class=\"token comment\"># –° –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ ></span><br /><span class=\"token comment\"># –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å stdout –∏ stderr –≤ —Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã</span><br />$ ash test.sh <span class=\"token operator\"><span class=\"token file-descriptor important\">1</span>></span> stdout.txt <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span>stderr.txt<br />$ <span class=\"token function\">cat</span> stdout.txt<br />out<br />$ <span class=\"token function\">cat</span> stderr.txt<br />error</code></pre>\n<p>–ï—â–µ —Å –ø–æ–º–æ—â—å—é —ç—Ç–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –º–æ–∂–Ω–æ –Ω–∞–æ–±–æ—Ä–æ—Ç —Å–≤–æ–¥–∏—Ç—å –ø–æ—Ç–æ–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, stdout –∏ stderr –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ ash test.sh <span class=\"token operator\"><span class=\"token file-descriptor important\">1</span>></span> stdout.txt<br />error<br /><br /><span class=\"token comment\"># –≤ –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–≤–µ–ª–æ—Å—å error,</span><br /><span class=\"token comment\"># –ø–æ—Ç–æ–º—É —á—Ç–æ sterr –Ω–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å</span><br /><br /><span class=\"token comment\"># –∑–∞–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –ø–æ—Ç–æ–∫ stderr –≤ stdout</span><br />$ ash test.sh <span class=\"token operator\"><span class=\"token file-descriptor important\">1</span>></span> stdout.txt <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span><br /><br /><span class=\"token comment\"># –∏ stdout –∏ stderr –∑–∞–ø–∏—Å–∞–ª–∏—Å—å –≤ —Ñ–∞–π–ª stdout.txt</span><br />$ <span class=\"token function\">cat</span> stdout.txt<br />out<br />error</code></pre>\n<h3 id=\"mnogostrochnye-dannye-dlya-potoka-here-document-heredoc\" tabindex=\"-1\"><a id=\"heredoc\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#heredoc\"></a> –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ—Ç–æ–∫–∞ - here-document, heredoc <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#mnogostrochnye-dannye-dlya-potoka-here-document-heredoc\" aria-hidden=\"true\">#</a></h3>\n<p>–í–æ –≤—Å–µ—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö –¥–æ —ç—Ç–æ–≥–æ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ —Ñ–∞–π–ª –∏ –∏–∑ —Ñ–∞–π–ª–∞. –° –ø–æ–º–æ—â—å—é backslash(/) –º–æ–∂–Ω–æ –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –∏—Ö –Ω–∞ –≤—Ö–æ–¥ –¥—Ä—É–≥–æ–π –∫–æ–º–∞–Ω–¥–µ (–æ–± —ç—Ç–æ–º –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç–∞—Ç—å—è—Ö). –ù–æ –ø—Ä–∏ —ç—Ç–æ–º –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –Ω–µ –±—É–¥—É—Ç –≤—ã–≤–æ–¥–∏—Ç—Å—è</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"very very very \\<br />long long long \\<br />text text text\"</span><br />very very very long long long text text text</code></pre>\n<p>–î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –≤ ash —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å here-document, –∫–æ—Ç–æ—Ä—ã–π –≤ –æ–±—â–µ–º –≤–∏–¥–µ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫</p>\n<pre><code>[n]&lt;&lt; delimiter\n    here-doc-text ...\ndelimiter\n</code></pre>\n<p>delimiter –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é —Å–∏–º–≤–æ–ª–æ–≤, –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –ø–æ—Å–ª–µ —É–∫–∞–∑–∞–Ω–∏—è delimiter –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–µ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–µ, –ø–æ—Å–ª–µ –≤—Ç–æ—Ä–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è delimiter —Å –Ω–∞—á–∞–ª–∞ —Å—Ç—Ä–æ–∫–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å. –û–±—ã—á–Ω–æ delimiter —É–∫–∞–∑—ã–≤–∞—é—Ç EOL - –∫–∞–∫ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ End Of Line, –Ω–æ –æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –∏ –¥—Ä—É–≥–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é —Å–∏–º–≤–æ–ª–æ–≤.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">0</span>&lt;</span><span class=\"token operator\">&lt;</span> EOL<br /><span class=\"token operator\">></span> very very very<br /><span class=\"token operator\">></span> long long long<br /><span class=\"token operator\">></span> text text text<br /><span class=\"token operator\">></span> EOL<br />very very very<br />long long long<br />text text text</code></pre>\n<p>–í –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ –ø–æ—Å–ª–µ EOL –∏ –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫–∏ shell —Å–∏–º–≤–æ–ª–æ–º <code>&gt;</code> –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ –≤–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è.</p>\n<p>–î–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤ heredoc –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token function\">cat</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">EOL<br />1<br />2<br />3<br />EOL</span><br />$ ash test.sh<br /><span class=\"token number\">1</span><br /><span class=\"token number\">2</span><br /><span class=\"token number\">3</span></code></pre>\n<p>–ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤ —Å–∫—Ä–∏–ø—Ç–µ –≤–∏–∑—É–∞–ª—å–Ω–æ –æ—Ç–¥–µ–ª–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ heredoc, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏–º–≤–æ–ª —Ç–∞–±—É–ª—è—Ü–∏–∏ –∏ –¥–æ–±–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>&lt;&lt;-</code> ‚Äì –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ shell —É–¥–∞–ª–∏—Ç –≤—Å–µ —Ç–∞–±—ã —Å –Ω–∞—á–∞–ª–∞ —Å—Ç—Ä–æ–∫</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token function\">cat</span> <span class=\"token operator\">&lt;&lt;-</span> <span class=\"token string\">EOL<br />&lt;tab>1<br />&lt;tab>2<br />&lt;tab>3<br />EOL</span><br />$ ash test.sh<br /><span class=\"token number\">1</span><br /><span class=\"token number\">2</span><br /><span class=\"token number\">3</span></code></pre>\n<p>–ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ heredoc –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å shell-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token function\">cat</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">EOL<br />pwd = <span class=\"token environment constant\">$PWD</span><br />EOL</span><br />$ ash test.sh<br /><span class=\"token builtin class-name\">pwd</span> <span class=\"token operator\">=</span> /home/ubuntu</code></pre>\n<p>–ß—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –≤–Ω—É—Ç—Ä–∏ heredoc –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª—Å—è –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –±–µ–∑ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –Ω—É–∂–Ω–æ –ø–µ—Ä–≤—ã–π delimiter –∑–∞–∫–ª—é—á–∏—Ç—å –≤ –∫–∞–≤—ã—á–∫–∏ (–¥–≤–æ–π–Ω—ã–µ –∏–ª–∏ –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ)</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token function\">cat</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">'EOL'<br />pwd = $PWD<br />EOL</span><br />$ ash test.sh<br /><span class=\"token builtin class-name\">pwd</span> <span class=\"token operator\">=</span> <span class=\"token environment constant\">$PWD</span></code></pre>\n<h3 id=\"rabota-s-deskriptorami\" tabindex=\"-1\"><a id=\"descriptors\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#descriptors\"></a> –†–∞–±–æ—Ç–∞ —Å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞–º–∏ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#rabota-s-deskriptorami\" aria-hidden=\"true\">#</a></h3>\n<p>–ï—â–µ –æ–¥–Ω–∞ —Ñ–∏—á–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞–º–∏ —Ñ–∞–π–ª–æ–≤ ‚Äî —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –≤ –∫–∞–∫–æ–π-—Ç–æ –Ω–æ–º–µ—Ä –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞, –Ω–æ–º–µ—Ä–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç 0 –¥–æ 9.</p>\n<p>–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–º–µ—Ä –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞ –≤ —Å–∫—Ä–∏–ø—Ç–µ –∏–ª–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º shell –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–∞–Ω–¥ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å builtin-–∫–æ–º–∞–Ω–¥—É exec (–ø–æ–¥—Ä–æ–±–Ω–µ–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –µ–µ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç–∞—Ç—å—è—Ö).</p>\n<p>–°–µ–π—á–∞—Å –Ω–∞–º –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –≤ exec —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ (permanant) –≤ —Ä–∞–º–∫–∞—Ö —à–µ–ª–ª–∞ –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç–∞, —Ç–æ –µ—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∫–æ–º–∞–Ω–¥.</p>\n<h3 id=\"operator-n-file-4\" tabindex=\"-1\"><a id=\"operator-open-descriptor\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#operator-open-descriptor\"></a> –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>[n]&lt;&gt; file</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#operator-n-file-4\" aria-hidden=\"true\">#</a></h3>\n<p>–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Ñ–∞–π–ª–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –æ—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ—Ç–æ–∫ (–¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Ñ–∞–π–ª–∞) —Å –Ω–æ–º–µ—Ä–æ–º 3 –¥–ª—è —Ñ–∞–π–ª–∞ tmp.txt</span><br />$ <span class=\"token builtin class-name\">exec</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">3</span>&lt;></span> ./tmp.txt<br /><span class=\"token comment\"># —Ç–∞–∫ –∫–∞–∫ –∫–æ–º–∞–Ω–¥–∞ –±—ã–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Å –ø–æ–º–æ—â—å—é exec</span><br /><span class=\"token comment\"># –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –∫–æ–º–∞–Ω–¥</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'1'</span> <span class=\"token operator\">></span><span class=\"token file-descriptor important\">&amp;3</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'2'</span> <span class=\"token operator\">></span><span class=\"token file-descriptor important\">&amp;3</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'3'</span> <span class=\"token operator\">></span><span class=\"token file-descriptor important\">&amp;3</span><br />$ <span class=\"token function\">cat</span> ./tmp.txt<br /><span class=\"token number\">1</span><br /><span class=\"token number\">2</span><br /><span class=\"token number\">3</span></code></pre>\n<h3 id=\"operator-n\" tabindex=\"-1\"><a id=\"operator-close-descriptor\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#operator-close-descriptor\"></a> –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>[n]&gt;-</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#operator-n\" aria-hidden=\"true\">#</a></h3>\n<p>–ó–∞–∫—Ä—ã—Ç—å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Ñ–∞–π–ª–∞</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –ø—Ä–æ–¥–æ–ª–∂–∞—è –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø—Ä–∏–º–µ—Ä</span><br />$ <span class=\"token builtin class-name\">exec</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">3</span>></span>-<br /><span class=\"token comment\"># –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Ñ–∞–π–ª–∞ tmp.txt –∑–∞–∫—Ä—ã—Ç</span><br /><span class=\"token comment\"># –µ—Å–ª–∏ —Å–Ω–æ–≤–∞ –æ—Ç–∫—Ä—ã—Ç—å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä,</span><br /><span class=\"token comment\"># —Ç–æ –∑–∞–ø–∏—Å—å –∏–ª–∏ —á—Ç–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞ –Ω–∞—á–Ω–µ—Ç—Å—è —Å –Ω–∞—á–∞–ª–∞</span><br />$ <span class=\"token builtin class-name\">exec</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">3</span>&lt;></span> ./tmp.txt<br /><span class=\"token comment\"># —á–∏—Ç–∞–µ–º –∏–∑ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞ 2 –±–∞–π—Ç–∞ (1\\n) - –µ–¥–∏–Ω–∏—Ü—É –∏ –ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫–∏</span><br />$ <span class=\"token builtin class-name\">read</span> -n <span class=\"token number\">2</span> <span class=\"token operator\">&lt;</span><span class=\"token file-descriptor important\">&amp;3</span><br /><span class=\"token comment\"># —Å–µ–π—á–∞—Å —É–∫–∞–∑–∞—Ç–µ–ª—å –¥–µ–∫—Å—Ä–∏–ø—Ç–æ—Ä–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤—Ç–æ—Ä—É—é —Å—Ç—Ä–æ–∫—É (2\\n)</span><br /><span class=\"token comment\"># –∑–∞–ø–∏—à–µ–º 9</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">9</span> <span class=\"token operator\">></span><span class=\"token file-descriptor important\">&amp;3</span><br />$ <span class=\"token function\">cat</span> ./tmp.txt<br /><span class=\"token number\">1</span><br /><span class=\"token number\">9</span><br /><span class=\"token number\">3</span></code></pre>\n<p>–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å input —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ <code>[n1]&lt;&amp;n2</code>, <code>[n]&lt;-</code></p>\n<p>¬†</p>\n<h1 id=\"\" tabindex=\"-1\">= <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#\" aria-hidden=\"true\">#</a></h1>\n<p>–°–µ–≥–æ–¥–Ω—è –º—ã —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å —Å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–æ—Ç–æ–∫–æ–≤ stdin, stdout, stderr –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã —Ñ–∞–π–ª–æ–≤ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö. –í —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç–∞—Ç—å—è—Ö –ø–æ–≥–æ–≤–æ—Ä–∏–º –ø—Ä–æ —Å–ª–æ–∂–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã, –ø–∞–π–ø—ã, —É—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ —Ü–∏–∫–ª—ã.</p>\n<p>–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-5-ash-complex-commands/\">shells, ash #4 - ash syntax, complex commands, pipelines, conditions and loops</a></p>\n<p>¬†</p>\n<h2 id=\"ssylki\" tabindex=\"-1\">–°—Å—ã–ª–∫–∏ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/#ssylki\" aria-hidden=\"true\">#</a></h2>\n<ul>\n<li><a href=\"https://www.gnu.org/software/bash/manual/html_node/Redirections.html\" target=\"_blank\" rel=\"noopener\">https://www.gnu.org/software/bash/manual/html_node/Redirections.html</a></li>\n<li><a href=\"https://tldp.org/LDP/abs/html/io-redirection.html\" target=\"_blank\" rel=\"noopener\">https://tldp.org/LDP/abs/html/io-redirection.html</a></li>\n<li><a href=\"https://man7.org/linux/man-pages/man1/dash.1.html\" target=\"_blank\" rel=\"noopener\">https://man7.org/linux/man-pages/man1/dash.1.html</a></li>\n</ul>\n<hr />\n<p><a href=\"https://rootaround.github.io/tags/linux-tools\">–í—Å–µ —Å—Ç–∞—Ç—å–∏ —Å–µ—Ä–∏–∏ ‚ÄúLinux Tools‚Äù</a></p>\n",
      "date_published": "2021-01-02T20:22:00Z"
    },{
      "id": "https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/",
      "url": "https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/",
      "title": "Linux Tools: shells, ash #2 - ash syntax, simple commands",
      "content_html": "<p>–í –ø—Ä–æ—à–ª–æ–π —Å—Ç–∞—Ç—å–µ –ø–æ–≥–æ–≤–æ—Ä–∏–ª–∏ –ø—Ä–æ –∑–∞–ø—É—Å–∫ ash, –≤ —ç—Ç–æ–π –Ω–∞—á–Ω–µ–º —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è —Å —Å–∞–º—ã–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º - —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ shell-—Å–∫—Ä–∏–ø—Ç–æ–≤. –î–ª—è –∏–∑—É—á–µ–Ω–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ash –∏–∑ busybox.</p>\n<!--more -->\n<p>–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/\">shells, ash #1 - ash startup and arguments</a></p>\n<p>–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/\">shells, ash #3 - ash syntax, redirections</a></p>\n<p>–¢—É—Ç –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–µ–±–æ–ª—å—à–æ–µ –æ—Ç—Å—Ç—É–ø–ª–µ–Ω–∏–µ –ø—Ä–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã. –°—É—â–µ—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç POSIX 1003.2, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–Ω–æ–≥–æ —á–µ–≥–æ, –Ω–æ —Å–µ–π—á–∞—Å –Ω–∞–º –≤–∞–∂–Ω–æ —á—Ç–æ –æ–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–º–∞–Ω–¥–Ω–∞—è –æ–±–æ–ª–æ—á–∫–∞, –∫–∞–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å.</p>\n<p>–¢–∞–∫ –≤–æ—Ç ash –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –µ–µ –ø–æ–¥–¥–µ—Ä–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—É–¥—è –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">..</span>. is <span class=\"token keyword\">in</span> the process of being changed to conform<br />with the POSIX <span class=\"token number\">1003.2</span> and <span class=\"token number\">1003</span>.2a specifications <span class=\"token keyword\">for</span> the shell.<br /><br /><span class=\"token punctuation\">..</span>.<br /><br />Only features designated by POSIX, plus a few Berkeley extensions,<br />are being incorporated into this shell.<br /><br /><span class=\"token punctuation\">..</span>.</code></pre>\n<p>–í–∏–¥–∏–º–æ –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ –¥–æ–≤–æ–ª—å–Ω–æ —Ç—Ä—É–¥–æ–µ–º–∫–æ–µ (–∏ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤–æ–µ) –∑–∞–Ω—è—Ç–∏–µ, –ø–æ—ç—Ç–æ–º—É –¥–∞–∂–µ —ç—Ç–æ—Ç —à–µ–ª–ª –∏–º–µ–µ—Ç –∫–∞–∫–∏–µ-—Ç–æ —Å–≤–æ–∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ–∏—á–∏. –ö —Å–ª–æ–≤—É —É bash –∏—Ö –µ—â–µ –±–æ–ª—å—à–µ –∏ –Ω–∞–∑—ã–≤–∞—é—Ç –∏—Ö bashisms, –Ω–æ –≤ –Ω–µ–º –µ—Å—Ç—å —Ä–µ–∂–∏–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å POSIX.</p>\n<p>–í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ ash –∏ —Å–µ–≥–æ–¥–Ω—è –ø–æ–≥–æ–≤–æ—Ä–∏–º –ø—Ä–æ —Ç–æ –∫–∞–∫ –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏ –∫–∞–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ —É–¥–æ–±—Å—Ç–≤–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–º —à–µ–ª–ª.</p>\n<p>ash —á–∏—Ç–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –ø–æ—Å—Ç—Ä–æ—á–Ω–æ, —Ä–∞–∑–±–∏–≤–∞–µ—Ç –µ–≥–æ –Ω–∞ —Å–ª–æ–≤–∞ –ø–æ –ø—Ä–æ–±–µ–ª–∞–º –∏ —Ç–∞–±–∞–º. –î–∞–ª—å—à–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏–º–≤–æ–ª–æ–≤ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∫–∞–∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã. –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –±—ã–≤–∞—é—Ç –¥–≤—É—Ö –≤–∏–¥–æ–≤:</p>\n<ol>\n<li>Control operators ‚Äî –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –≤ –≥—Ä—É–ø–ø—ã, —Ü–µ–ø–æ—á–∫–∏-–ø–∞–π–ø–ª–∞–Ω—ã –∏ —É—Å–ª–æ–≤–∏—è</li>\n</ol>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">&amp;</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span> <span class=\"token operator\">|</span> <span class=\"token operator\">||</span> <span class=\"token operator\">&lt;</span>newline<span class=\"token operator\">></span></code></pre>\n<ol start=\"2\">\n<li>Redirection operators ‚Äî –¥–ª—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–≤ –º–µ–∂–¥—É –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ –Ω–µ —Ç–æ–ª—å–∫–æ</li>\n</ol>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">&lt;</span> <span class=\"token operator\">></span> <span class=\"token operator\">>|</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token operator\">>></span> <span class=\"token operator\">&lt;&amp;</span> <span class=\"token operator\">>&amp;</span> <span class=\"token operator\">&lt;&lt;-</span> <span class=\"token operator\">&lt;></span></code></pre>\n<p>–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π –≤ —à–µ–ª–ª–∞—Ö –∏ –≤ —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ (–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π) –∫–∞–∫ –æ–±—ã—á–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ ‚Äì —ç—Ç–æ –Ω–∞–∑—ã–≤–∞—é—Ç —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º (escape special chars). –í ash —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü —Å–∏–º–≤–æ–ª–æ–≤ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å 3 —Å–ø–æ—Å–æ–±–∞–º–∏:</p>\n<ul>\n<li>–æ–±—Ä–∞—Ç–Ω—ã–π —Å–ª—ç—à ‚Äî backslash</li>\n<li>–ø–∞—Ä–Ω—ã–µ –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ ‚Äî matched single quotes</li>\n<li>–ø–∞—Ä–Ω—ã–µ –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ ‚Äî matched double qoutes</li>\n</ul>\n<h3 id=\"obratnyj-slesh-backslash\" tabindex=\"-1\"><a id=\"backslash\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/#backslash\"></a> –æ–±—Ä–∞—Ç–Ω—ã–π —Å–ª—ç—à ‚Äî backslash <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/#obratnyj-slesh-backslash\" aria-hidden=\"true\">#</a></h3>\n<p>Backslash –ø–µ—Ä–µ–¥ —Å–ø–µ—Ü —Å–∏–º–≤–æ–ª–æ–º –¥–µ–ª–∞–µ—Ç –µ–≥–æ –æ–±—ã—á–Ω—ã–º —Å–∏–º–≤–æ–ª–æ–º</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –∫–æ–º–∞–Ω–¥–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–≤–µ–¥–µ—Ç,</span><br /><span class=\"token comment\"># –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π –∏–Ω—Ç–µ—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –∫–æ–º–∞–Ω–¥</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token punctuation\">;</span><br /><br /><span class=\"token comment\"># –≤—ã–≤–µ–¥–µ—Ç—Å—è —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π, –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Å–∏–º–≤–æ–ª</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<p>–ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ backslash –ø–µ—Ä–µ–¥ —Å–∏–º–≤–æ–ª–æ–º –∫–æ–Ω—Ü–∞ —Å—Ç—Ä–æ–∫–∏ (–ø–µ—Ä–µ–≤–æ–¥–æ–º —Å—Ç—Ä–æ–∫–∏) –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1</span><span class=\"token punctuation\">\\</span><br /><span class=\"token number\">2</span><span class=\"token punctuation\">\\</span><br /><span class=\"token number\">3</span><br /><span class=\"token number\">123</span></code></pre>\n<h3 id=\"parnye-odinarnye-kavychki-matched-single-quotes\" tabindex=\"-1\"><a id=\"single-quotes\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/#single-quotes\"></a> –ø–∞—Ä–Ω—ã–µ –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ ‚Äî matched single quotes <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/#parnye-odinarnye-kavychki-matched-single-quotes\" aria-hidden=\"true\">#</a></h3>\n<p>–í—Å–µ —á—Ç–æ –≤–Ω—É—Ç—Ä–∏ –æ–¥–∏–Ω–∞—Ä–Ω—ã—Ö –∫–∞–≤—ã—á–µ–∫, –∫—Ä–æ–º–µ –æ–¥–∏–Ω–∞—Ä–Ω—ã—Ö –∫–∞–≤—ã—á–µ–∫, —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–±—ã—á–Ω—ã–º —Å–∏–º–≤–æ–ª–æ–º</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'&amp;;|>>'</span><br /><span class=\"token operator\">&amp;</span><span class=\"token punctuation\">;</span><span class=\"token operator\">|</span><span class=\"token operator\">>></span></code></pre>\n<p>–û–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –æ—Ç–¥–µ–ª—å–Ω–æ —Å –ø–æ–º–æ—â—å—é <a href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/#backslash\">backslash</a></p>\n<pre><code># –ø–æ—Å–ª–µ–¥–Ω—è—è –∫–∞–≤—ã—á–∫–∞ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ —Å –ø–æ–º–æ—â—å—é backslash\n# –∏ —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–±—ã—á–Ω—ã–º —Å–∏–º–≤–æ–ª–æ–º\n$ echo '&amp;|$'\\'\n&amp;|$'\n\n$ echo '$PATH'\n$PATH\n</code></pre>\n<h3 id=\"parnye-dvojnye-kavychki-matched-double-qoutes\" tabindex=\"-1\"><a id=\"double-quotes\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/#double-quotes\"></a> –ø–∞—Ä–Ω—ã–µ –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ ‚Äî matched double qoutes <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/#parnye-dvojnye-kavychki-matched-double-qoutes\" aria-hidden=\"true\">#</a></h3>\n<p>–° –¥–≤–æ–π–Ω—ã–º–∏ –∫–∞–≤—ã—á–∫–∞–º–∏ –≤—Å–µ –Ω–µ–º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–µe. –í—Å–µ —Å–∏–º–≤–æ–ª—ã –≤–Ω—É—Ç—Ä–∏ –¥–≤–æ–π–Ω—ã—Ö –∫–∞–≤—ã—á–µ–∫ —Å—á–∏—Ç–∞—é—Ç—Å—è –æ–±—ã—á–Ω—ã–º–∏, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å–∏–º–≤–æ–ª–æ–≤ –∑–Ω–∞–∫–∞ –¥–æ–ª–ª–∞—Ä–∞ (dollarsign) - <code>$</code>, –æ–±—Ä–∞—Ç–Ω–æ–π –∫–∞–≤—ã—á–∫–∏ (backquote) - <code>`</code> –∏ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ —Å–ª—ç—à–∞ (backslash) - <code>\\</code></p>\n<p>backslash –≤–Ω—É—Ç—Ä–∏ –¥–≤–æ–π–Ω—ã—Ö –∫–∞–≤—ã—á–µ–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–∏–º–≤–æ–ª—ã: <code>$ ` &quot; \\ &lt;newline&gt;</code></p>\n<p>–ö—Ä–∞—Ç–∫–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∑–∞—á–µ–º –≤–æ–æ–±—â–µ –Ω—É–∂–Ω—ã —ç—Ç–∏ —Å–∏–º–≤–æ–ª—ã ‚Äì –¥–∞–ª—å—à–µ –æ–Ω–∏ –±—É–¥—É—Ç —Ä–∞–∑–æ–±—Ä–∞–Ω—ã –ø–æ–¥—Ä–æ–±–Ω–µ–µ.</p>\n<p><code>$</code> - dollarsign</p>\n<p>—Å –ø–æ–º–æ—â—å—é <code>$</code> –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å shell-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–æ–æ–±—â–µ –±–µ–∑ –∫–∞–≤—ã—á–µ–∫</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token environment constant\">$PATH</span><br />/sbin:/usr/sbin:/bin:/usr/bin<br /><br /><span class=\"token comment\"># –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ $ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –¥–≤–æ–π–Ω—ã—Ö –∫–∞–≤—ã—á–∫–∞—Ö</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token environment constant\">$PATH</span>\"</span><br />/sbin:/usr/sbin:/bin:/usr/bin</code></pre>\n<p><code>`</code> - backquote</p>\n<p>–∫–æ–º–∞–Ω–¥–∞, –∑–∞–∫–ª—é—á–µ–Ω–Ω–∞—è –≤ –æ–±—Ä–∞—Ç–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏ output –∫–æ–º–∞–Ω–¥—ã –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∫–∞–≤—ã—á–µ–∫. –†–∞–±–æ—Ç–∞–µ—Ç –∏ –±–µ–∑ –¥–≤–æ–π–Ω—ã—Ö –∫–∞–≤—ã—á–µ–∫.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token builtin class-name\">pwd</span><span class=\"token variable\">`</span></span><br />/home/ubuntu<br /><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"current directory is <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token builtin class-name\">pwd</span><span class=\"token variable\">`</span></span>\"</span><br />current directory is /home/ubuntu</code></pre>\n<p><code>\\</code> - backslash</p>\n<p>—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∏ —Ä–∞–Ω—å—à–µ, —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç —Å–∏–º–≤–æ–ª—ã: <code>$ ` &quot; \\ </code> –∏ backslash –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–≤–æ–¥–æ–º —Å—Ç—Ä–æ–∫–∏ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º —Å—Ç—Ä–æ–∫–∏ –±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å–∞</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"\\<span class=\"token environment constant\">$PWD</span> = \\<br /><span class=\"token entity\" title=\"\\&quot;\">\\\"</span><span class=\"token environment constant\">$PWD</span><span class=\"token entity\" title=\"\\&quot;\">\\\"</span>\"</span><br /><span class=\"token environment constant\">$PWD</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"/home/ubuntu\"</span></code></pre>\n<h3 id=\"kombinirovanie-raznyh-kavychek-dlya-komand-i-argumentov\" tabindex=\"-1\"><a id=\"combine-quotes\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/#combine-quotes\"></a> –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –∫–∞–≤—ã—á–µ–∫ –¥–ª—è –∫–æ–º–∞–Ω–¥ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/#kombinirovanie-raznyh-kavychek-dlya-komand-i-argumentov\" aria-hidden=\"true\">#</a></h3>\n<p>–í—Å–µ —Å–ø–æ—Å–æ–±—ã —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–æ—á–µ—Ä–µ—Ä–¥–Ω–æ —Ä–∞–∑–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> my<span class=\"token string\">' path is '</span><span class=\"token string\">\" = \"</span><span class=\"token environment constant\">$PWD</span><span class=\"token string\">\"\"</span><br />my path is  <span class=\"token operator\">=</span> /home/ubuntu</code></pre>\n<p>–ì–ª–∞–≤–Ω–æ–µ —á—Ç–æ–±—ã –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Å—Ç—Ä–æ–∫–∏ —Å–æ–µ–¥–∏–Ω—è–ª–∏—Å—å –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤, –∏–Ω–∞—á–µ –ø–æ—Å–ª–µ –ø—Ä–æ–±–µ–ª–∞ shell –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å —Å—Ç—Ä–æ–∫—É —É–∂–µ –¥—Ä—É–≥–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º.</p>\n<h2 id=\"komandy\" tabindex=\"-1\"><a id=\"commands\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/#commands\"></a> –ö–æ–º–∞–Ω–¥—ã <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/#komandy\" aria-hidden=\"true\">#</a></h2>\n<p>–í–æ—Ç –º—ã –∏ –ø–æ–¥–æ–±—Ä–∞–ª–∏—Å—å –∫ —Å—É—Ç–∏, –≤–µ–¥—å shell –Ω—É–∂–µ–Ω –∫–∞–∫ —Ä–∞–∑ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥.</p>\n<p>–ï—Å–ª–∏ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å—Ç—Ä–æ–∫–∏ —Å–∫—Ä–∏–ø—Ç–∞ –ø–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–≤–∞–Ω–Ω—ã–º, —Ç–æ ash –Ω–∞—á–∏–Ω–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏ –∫–∞–∫ –∫–æ–º–∞–Ω–¥—ã.</p>\n<p>–ö–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ—Å—Ç—ã–º–∏ ‚Äî –≤—ã–∑–æ–≤ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã, –∏–ª–∏ —Å–ª–æ–∂–Ω—ã–º–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ —Å —É—Å–ª–æ–≤–∏—è–º–∏ –∏–ª–∏ –±–µ–∑. –ù–∞—á–Ω–µ–º –ø–æ –ø–æ—Ä—è–¥–∫—É —Å –ø—Ä–æ—Å—Ç—ã—Ö –∫–æ–º–∞–Ω–¥.</p>\n<p>–î–ª—è –ø—Ä–∏–º–µ—Ä–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–æ–º–∞–Ω–¥—É <code>env</code>, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç —Ç–µ–∫—É—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (environment variables).</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">env</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">SHLVL</span></span><span class=\"token operator\">=</span><span class=\"token number\">1</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span>/sbin:/usr/sbin:/bin:/usr/bin<br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">PWD</span></span><span class=\"token operator\">=</span>/home/ubuntu</code></pre>\n<p>–ö–æ–º–∞–Ω–¥–∞ –≤—ã–≤–µ–ª–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–Ω–µ–Ω–∏—è:</p>\n<ul>\n<li><code>SHLVL</code> - —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å ‚Äú–≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏‚Äù —à–µ–ª–ª–æ–≤, –µ—Å–ª–∏ –≤ —ç—Ç–æ–º —à–µ–ª–ª –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ—â–µ —Ä–∞–∑ –∫–æ–º–∞–Ω–¥—É ash - SHLVL –±—É–¥–µ—Ç —Ä–∞–≤–µ–Ω 2, –∞ –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —à–µ–ª–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ—â–µ –æ–¥–∏–Ω, —Ç–æ –≤ –Ω–µ–º –±—É–¥–µ—Ç SHLVL=3 –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ</li>\n<li><code>PATH</code> - –ø—É—Ç–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –¥–≤–æ–µ—Ç–æ—á–∏—è–º–∏ –≥–¥–µ –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã ‚Äî –æ–± —ç—Ç–æ–º –ø–æ–≥–æ–≤–æ—Ä–∏–º —á—É—Ç—å –¥–∞–ª—å—à–µ</li>\n<li><code>PWD</code> - —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–π –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –º—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è, —ç—Ç–∞ env-–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ–Ω—è—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –º–µ–∂–¥—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏ –∫–æ–º–∞–Ω–¥–æ–π <code>cd</code></li>\n</ul>\n<h3 id=\"neskolko-slov-pro-peremennye-variables\" tabindex=\"-1\"><a id=\"variables\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/#variables\"></a> –ù–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ–≤ –ø—Ä–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ - variables <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/#neskolko-slov-pro-peremennye-variables\" aria-hidden=\"true\">#</a></h3>\n<p>–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å, —É –ø—Ä–æ—Ü–µ—Å—Å–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (environment variables, env vars). –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token assign-left variable\">a</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token function\">env</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">SHLVL</span></span><span class=\"token operator\">=</span><span class=\"token number\">1</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span>/sbin:/usr/sbin:/bin:/usr/bin<br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">PWD</span></span><span class=\"token operator\">=</span>/home/ubuntu<br /><span class=\"token assign-left variable\">a</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token comment\"># &lt;&lt;&lt; –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è 'a' –µ—Å—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è</span></code></pre>\n<p>–í–æ–æ–±—â–µ –∏ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —à–µ–ª–ª–µ –∏ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö –≤—Å–µ —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä—Ç–Ω—É <code>name=value</code> —Å –Ω–∞—á–∞–ª–∞ —Å—Ç—Ä–æ–∫–∏ (–∏–ª–∏ –ø–æ—Å–ª–µ —Å–ª—É–∂–µ–±–Ω–æ–≥–æ —Å–ª–æ–≤–∞) —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏ –µ—Å–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ª–µ–¥—É–µ—Ç –∫–æ–º–∞–Ω–¥–∞, —Ç–æ –≤—Å–µ —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–ø–∞–¥—É—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥–æ–π:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token assign-left variable\">a</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token assign-left variable\">b</span><span class=\"token operator\">=</span><span class=\"token number\">2</span> <span class=\"token function\">env</span><br /><span class=\"token comment\"># ...</span><br /><span class=\"token assign-left variable\">a</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><br /><span class=\"token assign-left variable\">b</span><span class=\"token operator\">=</span><span class=\"token number\">2</span></code></pre>\n<p>–ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–∫–∞–∑–∞–Ω—ã –±–µ–∑ –∫–æ–º–∞–Ω–¥—ã, —Ç–æ –æ–Ω–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —à–µ–ª–ª–∞ - shell variables.</p>\n<p>Shell variables –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ —Å–∞–º–æ–º —à–µ–ª–ª–µ, –Ω–æ –≤–æ –≤—Å–µ –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ environment variables.</p>\n<p>Shell-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–≤ —Ç–æ–º —á–∏—Å–ª–µ environment-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ) –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å builtin-–∫–æ–º–∞–Ω–¥–æ–π <code>set</code>, –∞ env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥–æ–π <code>env</code> –∏–ª–∏ <code>export</code>.</p>\n<p>–ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ —á—Ç–æ–±—ã —Å—Ç–∞–ª–æ –ø–æ–Ω—è—Ç–Ω–µ–µ</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># –æ–ø—Ä–µ–¥–µ–ª—è–µ–º shell-–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é my_test_var</span><br />$ <span class=\"token assign-left variable\">my_test_var</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><br /><br /><span class=\"token comment\"># —Å–º–æ—Ç—Ä–∏–º —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∞—Å—å</span><br /><span class=\"token comment\"># –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö set –≤—ã–≤–æ–¥—è—Ç—Å—è –≤–æ–æ–±—â–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ,</span><br /><span class=\"token comment\"># –≤ —Ç–æ–º —á–∏—Å–ª–µ environment variables</span><br />$ <span class=\"token builtin class-name\">set</span><br /><span class=\"token comment\"># ...</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">PS4</span></span><span class=\"token operator\">=</span><span class=\"token string\">'+ '</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">PWD</span></span><span class=\"token operator\">=</span><span class=\"token string\">'/home/ubuntu'</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">SHLVL</span></span><span class=\"token operator\">=</span><span class=\"token string\">'1'</span><br /><span class=\"token assign-left variable\">my_test_var</span><span class=\"token operator\">=</span><span class=\"token string\">'1'</span> <span class=\"token comment\"># &lt;&lt;&lt; —Ç—É—Ç –µ—Å—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è 'my_test_var'</span><br /><br /><span class=\"token comment\"># —Ç–∞–∫ –∫–∞–∫ my_test_var –µ—â–µ –Ω–µ environment variable,</span><br /><span class=\"token comment\"># –µ–µ –Ω–µ—Ç –≤ –≤—ã–≤–æ–¥–µ –∫–æ–º–∞–Ω–¥—ã env</span><br />$ <span class=\"token function\">env</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">SHLVL</span></span><span class=\"token operator\">=</span><span class=\"token number\">1</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span>/sbin:/usr/sbin:/bin:/usr/bin<br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">PWD</span></span><span class=\"token operator\">=</span>/home/ubuntu<br /><br /><span class=\"token comment\"># –Ω–æ –µ–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–∞–º–æ–º —à–µ–ª–ª–µ</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'my_test_var = '</span><span class=\"token variable\">$my_test_var</span><br />my_test_var <span class=\"token operator\">=</span> <span class=\"token number\">1</span><br /><br /><span class=\"token comment\"># –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Ç–∞–ª–∞ environment-–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π</span><br /><span class=\"token comment\"># –µ–µ –Ω—É–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</span><br />$ <span class=\"token builtin class-name\">export</span> my_test_var<br /><br /><span class=\"token comment\"># —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è my_test_var —è–≤–ª—è–µ—Ç—Å—è environment-–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π</span><br /><span class=\"token comment\"># –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ environment –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –≤ —à–µ–ª–ª–µ</span><br />$ <span class=\"token function\">env</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">SHLVL</span></span><span class=\"token operator\">=</span><span class=\"token number\">1</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span>/sbin:/usr/sbin:/bin:/usr/bin<br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">PWD</span></span><span class=\"token operator\">=</span>/home/ubuntu<br /><span class=\"token assign-left variable\">my_test_var</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token comment\"># &lt;&lt;&lt;</span><br /><br /><span class=\"token comment\"># –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –∫–æ–º–∞–Ω–¥—ã</span><br /><span class=\"token comment\"># environment-–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å</span><br />$ <span class=\"token assign-left variable\">my_test_var</span><span class=\"token operator\">=</span><span class=\"token number\">100500</span> <span class=\"token function\">env</span><br /><span class=\"token comment\"># ...</span><br /><span class=\"token assign-left variable\">my_test_var</span><span class=\"token operator\">=</span><span class=\"token number\">100500</span></code></pre>\n<p>–ü—Ä–∏–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–Ω—É—Ç—Ä–∏ shell, –Ω–æ —Ç–æ–ª—å–∫–æ environment-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–º –≤ shell.</p>\n<p>–í –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–∏–º–≤–æ–ª—ã –ª–∞—Ç–∏–Ω—Å–∫–æ–≥–æ –∞–ª—Ñ–∞–≤–∏—Ç–∞, —á–∏—Å–ª–∞ –∏ —Å–∏–º–≤–æ–ª –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è, –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–µ –º–æ–∂–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å —á–∏—Å–ª–∞.</p>\n<p>–î–ª—è –±–æ–ª–µ–µ —è–≤–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ–≥–ª–∞—Å–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ:</p>\n<blockquote>\n<p>environment-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∏—à—É—Ç—Å—è –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏ –±—É–∫–≤–∞–º–∏, –∞ –æ–±—ã—á–Ω—ã–µ shell-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ—á–Ω—ã–º–∏</p>\n</blockquote>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># PATH - environment-–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token environment constant\">$PATH</span><br /><br /><span class=\"token comment\"># my_test_var - –æ–±—ã—á–Ω–∞—è shell-–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è</span><br />$ <span class=\"token assign-left variable\">my_test_var</span><span class=\"token operator\">=</span><span class=\"token number\">1</span></code></pre>\n<p>¬†</p>\n<h1 id=\"itogo\" tabindex=\"-1\">–ò—Ç–æ–≥–æ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/#itogo\" aria-hidden=\"true\">#</a></h1>\n<p>–°–µ–≥–æ–¥–Ω—è –Ω–∞—á–∞–ª–∏ —Ä–∞–∑–±–∏—Ä–∞—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –ø–æ—Å–º–æ—Ç—Ä–µ–ª–∏ –∫–∞–∫ –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Å –ø–æ–º–æ—â—å—é –∫–∞–≤—ã—á–µ–∫, –∫–∞–∫ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –≤ –æ–±—â–µ–º –∏ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏. –í —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç–∞—Ç—å–µ —Ä–∞–∑–±–µ—Ä–µ–º—Å—è –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–æ—Ç–æ–∫–æ–≤ stdin, stdout –∏ stderr —Å –ø–æ–º–æ—â—å—é redirection operators.</p>\n<p>–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2021-01-linux-tools-shells-part-4-ash-redirections/\">shells, ash #3 - ash syntax, redirections</a></p>\n<p>¬†</p>\n<h2 id=\"ssylki\" tabindex=\"-1\">–°—Å—ã–ª–∫–∏ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/#ssylki\" aria-hidden=\"true\">#</a></h2>\n<ul>\n<li><a href=\"https://man7.org/linux/man-pages/man1/dash.1.html\" target=\"_blank\" rel=\"noopener\">https://man7.org/linux/man-pages/man1/dash.1.html</a></li>\n</ul>\n<hr />\n<p><a href=\"https://rootaround.github.io/tags/linux-tools\">–í—Å–µ —Å—Ç–∞—Ç—å–∏ —Å–µ—Ä–∏–∏ ‚ÄúLinux Tools‚Äù</a></p>\n",
      "date_published": "2020-12-29T20:12:00Z"
    },{
      "id": "https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/",
      "url": "https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/",
      "title": "Linux Tools: shells, ash #1 - ash startup and arguments",
      "content_html": "<p>ash - —ç—Ç–æ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π shell, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ–Ω—å—à–µ —É–¥–æ–±—Å—Ç–≤ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å bash, –Ω–æ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É –¥–ª—è —Å–∫—Ä–∏–ø—Ç–∏–Ω–≥–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º —Å bash.</p>\n<!-- more -->\n<p>–ü–µ—Ä–≤–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-1-historical/\">Linux Tools: shells - –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å</a></p>\n<p>–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/\">Linux Tools: shells, , ash #2 - ash syntax, simple commands</a></p>\n<p>–í –ø–µ—Ä–≤–æ–π —Å—Ç–∞—Ç—å–µ —Å–µ—Ä–∏–∏ –Ω–µ–º–Ω–æ–≥–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –∏—Å—Ç–æ—Ä–∏—é —Ä–∞–∑–≤–∏—Ç–∏—è —à–µ–ª–ª–æ–≤, –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –≤ —Å—Ç–∞—Ç—å–µ <a href=\"https://rootaround.github.io/posts/blog/linux-first-boot-mbr\">‚ÄúLinux First: –ó–∞–≥—Ä—É–∑–∫–∞ —è–¥—Ä–∞‚Äù</a> –º—ã —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ ash –≤ –∫–∞—á–µ—Å—Ç–≤–µ login shell –∏ –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –ø–æ–¥—Ä–æ–±–Ω–µ–µ —Å —Ä–µ–∂–∏–º–∞–º–∏ –∑–∞–ø—É—Å–∫–∞ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏.</p>\n<p>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–∞ ash –≤ busybox –Ω–µ—Ç, –ø–æ—ç—Ç–æ–º—É —Å–º–æ—Ç—Ä–µ—Ç—å –º–æ–∂–Ω–æ –¥–æ–∫—É –Ω–∞ dash ‚Äî <a href=\"https://man7.org/linux/man-pages/man1/dash.1.html\" target=\"_blank\" rel=\"noopener\">https://man7.org/linux/man-pages/man1/dash.1.html</a>, —Ç–µ–º –±–æ–ª–µ–µ —á—Ç–æ —Å–µ–π—á–∞—Å –≤ busybox –∑–∞ –æ—Å–Ω–æ–≤—É –≤–∑—è—Ç–∞ –∏–º–µ–Ω–Ω–æ <a href=\"https://git.busybox.net/busybox/tree/shell/ash.c#n28\" target=\"_blank\" rel=\"noopener\">—ç—Ç–∞ –≤–µ—Ä—Å–∏—è</a>.</p>\n<h1 id=\"interactive-shell\" tabindex=\"-1\"><a id=\"interactive-shell\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#interactive-shell\"></a> Interactive shell <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#interactive-shell\" aria-hidden=\"true\">#</a></h1>\n<p>–®–µ–ª–ª –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –∏ –Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–∞—Ö. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ash –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ, –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º –æ–ø—Ü–∏–µ–π <code>-i</code>. –í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –∫–æ–º–∞–Ω–¥—ã –æ–∂–∏–¥–∞—é—Ç—Å—è –∏–∑ stdin - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ input –ø–æ—Ç–æ–∫–∞.</p>\n<p>–ü–∞—Ä–∞ —Å–ª–æ–≤ –ø—Ä–æ –ø–æ—Ç–æ–∫–∏ (streams), –∫–∞–∂–¥—ã–π linux-–ø—Ä–æ—Ü–µ—Å—Å –∏–º–µ–µ—Ç —Ç—Ä–∏ –ø–æ—Ç–æ–∫–∞: stdin, stdout, stderr.</p>\n<ul>\n<li>–∏–∑ <strong>stdin</strong> –º–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥—Ä—É–≥–æ–π –∫–æ–º–∞–Ω–¥—ã. –£–ø—Ä–æ—â–µ–Ω–Ω–æ - —á–µ—Ä–µ–∑ stdin –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤–≤–æ–¥ –∫–æ–º–∞–Ω–¥ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ;</li>\n<li>–≤ <strong>stdout</strong> –ø—Ä–æ—Ü–µ—Å—Å –ø–∏—à–µ—Ç —Å–≤–æ–π –≤—ã–≤–æ–¥, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã;</li>\n<li>–≤ <strong>stderr</strong> –¥–æ–ª–∂–Ω—ã –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∏ –æ—Ç–ª–∞–¥–∫–µ.</li>\n</ul>\n<p>–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å –ø–æ—Ç–æ–∫–∞–º–∏ –∏ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞–º–∏ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è –±—É–¥–µ–º –≤ —Å–µ—Ä–∏–∏ Linux First.</p>\n<p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–≤–æ–¥–∏—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã —Å–Ω–æ–≤–∞, –≤–∏–¥–µ—Ç—å –æ—à–∏–±–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥, –≤ –æ–±—â–µ–º –Ω–∞–ø—Ä—è–º—É—é –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å —Å–∏—Å—Ç–µ–º–æ–π.</p>\n<h1 id=\"zapusk-shell-skriptov-non-interactive-shell\" tabindex=\"-1\"><a id=\"script-shell\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#script-shell\"></a> –ó–∞–ø—É—Å–∫ shell-—Å–∫—Ä–∏–ø—Ç–æ–≤ - non-interactive shell <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#zapusk-shell-skriptov-non-interactive-shell\" aria-hidden=\"true\">#</a></h1>\n<p>–ü—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º—É —Ä–µ–∂–∏–º—É - –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é ash, —ç—Ç–æ —Ä–µ–∂–∏–º –≤–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ –ø—É—Ç–∏ –∫ —Å–∫—Ä–∏–ø—Ç—É –∏–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ <code>-c</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ ash ./test.sh<br /><br />$ ash -c <span class=\"token string\">'echo 100500'</span></code></pre>\n<p>–° —ç—Ç–∏–º —Ä–µ–∂–∏–º–æ–º —Å–≤—è–∑–∞–Ω–æ –¥–æ–≤–æ–ª—å–Ω–æ –º–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ ash, –ø–æ–º–æ–≥–∞—é—â–∏—Ö —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã.</p>\n<h2 id=\"noexec-argument-n\" tabindex=\"-1\"><a id=\"noexec-arg-adv\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#noexec-arg-adv\"></a> noexec - –∞—Ä–≥—É–º–µ–Ω—Ç <code>-n</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#noexec-argument-n\" aria-hidden=\"true\">#</a></h2>\n<p>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥. –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞-—Å–∫—Ä–∏–ø—Ç–∞, –Ω–æ <strong>–Ω–µ</strong> —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ –∫–æ–º–∞–Ω–¥ —á–µ—Ä–µ–∑ <code>-c</code>.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token number\">123</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">0</span><br /><br />$ ash test.sh<br /><span class=\"token number\">123</span><br /><br />$ ash -n test.sh</code></pre>\n<p>–£ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–º–∞–Ω–¥—ã –Ω–µ –±—É–¥–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ —É–∫–∞–∑–∞–Ω –∞—Ä–≥—É–º–µ–Ω—Ç <code>-n</code> –∏ –∫–æ–º–∞–Ω–¥—ã echo –∏ exit –Ω–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –Ω–æ –≤ —Å–ª—É—á–∞–µ –∏–º–µ–Ω–Ω–æ –æ—à–∏–±–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤—ã–≤–µ–¥–µ—Ç—Å—è —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –∏ –Ω–µ–Ω—É–ª–µ–≤–æ–π exit code.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token operator\">&amp;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">123</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">0</span><br /><br /><span class=\"token comment\"># '&amp;' –≤ –Ω–∞—á–∞–ª–µ —ç—Ç–æ –æ—à–∏–±–∫–∞ –≤ shell-—Å–∫—Ä–∏–ø—Ç–µ</span><br /><br />$ ash -n test.sh<br />./test.sh: line <span class=\"token number\">1</span>: syntax error: unexpected <span class=\"token string\">\"&amp;\"</span></code></pre>\n<p>–ö–æ–Ω–µ—á–Ω–æ —ç—Ç–æ—Ç —Ä–µ–∂–∏–º –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Å–∞–º–∏—Ö –∫–æ–º–∞–Ω–¥, –Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ —É–¥–æ–±–Ω–æ.</p>\n<h2 id=\"verbose-argument-v\" tabindex=\"-1\"><a id=\"verbose-arg-adv\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#verbose-arg-adv\"></a> verbose - –∞—Ä–≥—É–º–µ–Ω—Ç <code>-v</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#verbose-argument-v\" aria-hidden=\"true\">#</a></h2>\n<p>–í stderr –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ –≤—Å–µ —á—Ç–æ ash —á–∏—Ç–∞–µ—Ç –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã.</p>\n<p>–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ login-—Ä–µ–∂–∏–º–µ (–ø—Ä–æ –Ω–µ–≥–æ –¥–∞–ª–µ–µ) —á–∏—Ç–∞–µ—Ç—Å—è —Ñ–∞–π–ª <code>$HOME/.profile</code> –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã –∏–∑ –Ω–µ–≥–æ ‚Äì —Å –æ–ø—Ü–∏–µ–π <code>-v</code> –≤—Å–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ <code>.profile</code> –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ –≤ stderr –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.</p>\n<h2 id=\"xtrace-argument-x\" tabindex=\"-1\"><a id=\"xtrace-arg-adv\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#xtrace-arg-adv\"></a> xtrace - –∞—Ä–≥—É–º–µ–Ω—Ç <code>-x</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#xtrace-argument-x\" aria-hidden=\"true\">#</a></h2>\n<p>–° —ç—Ç–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –∫–∞–∂–¥–∞—è –≤—ã–ø–æ–ª–Ω—è–µ–º–∞—è –∫–æ–º–∞–Ω–¥–∞ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ –≤ stderr</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token number\">123</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">0</span><br /><br />$ ash -x test.sh<br />+ <span class=\"token builtin class-name\">echo</span> <span class=\"token number\">123</span><br /><span class=\"token number\">123</span><br />+ <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">0</span></code></pre>\n<p>–í–æ–æ–±—â–µ –≤—Å–µ –æ–ø—Ü–∏–∏ –≤–∫–ª—é—á–∞—Ç—Å—è —á–µ—Ä–µ–∑ <code>-</code> , –∞ –≤—ã–∫–ª—é—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ <code>+</code> <em>// –∫–∞–∂–µ—Ç—Å—è —á—Ç–æ –Ω–µ–ª–æ–≥–∏—á–Ω–æ –∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–æ–±–æ—Ä–æ—Ç</em></p>\n<p>–í –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ —Ç–æ–∂–µ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å –æ–ø—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é builtin-–∫–æ–º–∞–Ω–¥—ã set</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">set</span> -x<br /><br /><span class=\"token comment\"># xtrace –í–ö–õ—é—á–µ–Ω</span><br /><br />$ <span class=\"token builtin class-name\">set</span> +x<br /><br /><span class=\"token comment\"># xtrace –í–´–ö–õ—é—á–µ–Ω</span></code></pre>\n<h2 id=\"errexit-argument-e\" tabindex=\"-1\"><a id=\"errexit-arg-adv\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#errexit-arg-adv\"></a> errexit - –∞—Ä–≥—É–º–µ–Ω—Ç <code>-e</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#errexit-argument-e\" aria-hidden=\"true\">#</a></h2>\n<p>–° <code>-e</code> –≤—Å–µ –Ω–µ–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ exit-–∫–æ–¥–∞ —á–µ—Ä–µ–∑ <code>if</code>, <code>elif</code>) –±—É–¥—É—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–∞.</p>\n<p>–î–ª—è –ø—Ä–∏–º–µ—Ä–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å–∫—Ä–∏–ø—Ç —Å –ª–∏—Å—Ç–∏–Ω–≥–æ–º –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token function\">ls</span> /none<span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'good'</span><br /><br />$ ash test.sh<br />ls: /none: No such <span class=\"token function\">file</span> or directory<br />good<br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$?</span><br /><span class=\"token number\">0</span></code></pre>\n<p>–ü—Ä–∏ –æ–±—ã—á–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –∫–æ–º–∞–Ω–¥—ã <code>ls</code> –∏ <code>echo</code> –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ –∏ <code>echo</code> –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –ø–æ—Å–ª–µ <code>ls</code> <em>// –∫–æ–Ω–µ—á–Ω–æ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>&amp;&amp;</code>, –Ω–æ –æ–± —ç—Ç–æ–º –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç–∞—Ç—å—è—Ö</em></p>\n<p>–° –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º <code>-e</code> –≤—ã—Ö–æ–¥ –∏–∑ —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø–æ—Å–ª–µ <code>ls</code> –∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –Ω–µ–Ω—É–ª–µ–≤—ã–º exit-–∫–æ–¥–æ–º.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ ash -e test.sh<br />ls: /none: No such <span class=\"token function\">file</span> or directory<br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$?</span><br /><span class=\"token number\">1</span></code></pre>\n<p>–ï—â–µ –æ–¥–∏–Ω –ø–æ–ª–µ–∑–Ω—ã–π –º–æ–º–µ–Ω—Ç ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–∞. –í—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–æ—Å–ª–µ —É–∫–∞–∑–∞–Ω–∏—è –ø—É—Ç–∏ –∫ —Å–∫—Ä–∏–ø—Ç—É —Å—á–∏—Ç–∞—é—Ç—Å—è –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ—á–∏—Ç–∞–Ω—ã –≤ —Å–∫—Ä–∏–ø—Ç–µ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö $1, $2</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$1</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$11</span><br /><br />$ ash test.sh <span class=\"token number\">1</span> <span class=\"token number\">2</span> <span class=\"token number\">3</span> <span class=\"token number\">4</span> <span class=\"token number\">5</span> <span class=\"token number\">6</span> <span class=\"token number\">7</span> <span class=\"token number\">8</span> <span class=\"token number\">9</span> <span class=\"token number\">10</span> <span class=\"token number\">11</span><br /><span class=\"token number\">1</span><br /><span class=\"token number\">11</span></code></pre>\n<p>–û—Ç–¥–µ–ª—å–Ω–æ —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å $0 - —ç—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—É—Ç—å –∫ —Å–∫—Ä–∏–ø—Ç—É</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$0</span><br /><br />$ ash ./test.sh<br />./test.sh</code></pre>\n<h2 id=\"login-shell\" tabindex=\"-1\"><a id=\"login-shell\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#login-shell\"></a> login shell <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#login-shell\" aria-hidden=\"true\">#</a></h2>\n<p>–ï—â–µ –æ–¥–Ω–∏–º —Ä–µ–∂–∏–º–æ–º –∑–∞–ø—É—Å–∫–∞ —è–≤–ª—è–µ—Ç—Å—è login, –≤–∫–ª—é—á–∞–µ—Ç—Å—è –æ–ø—Ü–∏–µ–π <code>-l</code> –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—á–µ–π –ø–µ—Ä–≤—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º —Å–∏–º–≤–æ–ª–∞ <code>-</code>.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ ash -l<br /><br />$ ash -</code></pre>\n<p>–†–∞–±–æ—Ç–∞–µ—Ç –≤ interactive –∏ non-interactive —Ä–µ–∂–∏–º–∞—Ö.</p>\n<p>–°–º—ã—Å–ª —Ä–µ–∂–∏–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –í login-—Ä–µ–∂–∏–º–µ ash –∏—â–µ—Ç –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç shell-—Å–∫—Ä–∏–ø—Ç—ã <code>/etc/profile</code> –∏ <code>$HOME/.profile</code>. –ï—Å–ª–∏ –≤ —ç—Ç–∏—Ö —Ñ–∞–π–ª–∞—Ö —É–∫–∞–∑–∞—Ç—å –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é ENV, –≤ –∫–æ—Ç–æ—Ä–æ–π —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É, –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∫–∞–∫ shell-—Å–∫—Ä–∏–ø—Ç –Ω–∞ —ç—Ç–∞–ø–µ –∑–∞–ø—É—Å–∫–∞.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">ENV</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$HOME</span>/.shinit<span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">export</span> ENV</code></pre>\n<p>¬†</p>\n<h1 id=\"arguments\" tabindex=\"-1\"><a id=\"args\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#args\"></a> Arguments <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#arguments\" aria-hidden=\"true\">#</a></h1>\n<p>–î–ª—è –ø–æ–ª–Ω–æ—Ç—ã –∫–∞—Ä—Ç–∏–Ω—ã –ø—Ä–æ–π–¥–µ–º—Å—è –ø–æ –≤—Å–µ–º –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º –∫–æ–º–∞–Ω–¥—ã bash</p>\n<p>¬†</p>\n<h2 id=\"a\" tabindex=\"-1\"><a id=\"allexport-arg\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#allexport-arg\"></a> <code>-a</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#a\" aria-hidden=\"true\">#</a></h2>\n<p>allexport</p>\n<p>–≠–∫—Å–ø–æ—Ä—Ç env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö <em>// –Ω–µ —É–≤–∏–¥–µ–ª —Ä–∞–∑–Ω–∏—Ü—ã —Å –æ–±—ã—á–Ω—ã–º —Ä–µ–∂–∏–º–æ–º, –≤—Å–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —Ç–∞–∫ –≤–∏–¥–Ω—ã –≤–Ω—É—Ç—Ä–∏ shell –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ</em></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">env</span> -i <span class=\"token assign-left variable\">TEST</span><span class=\"token operator\">=</span><span class=\"token number\">100</span> ash -c <span class=\"token string\">'echo $TEST'</span><br /><span class=\"token number\">100</span><br /><br />$ <span class=\"token function\">env</span> -i <span class=\"token assign-left variable\">TEST</span><span class=\"token operator\">=</span><span class=\"token number\">100</span> ash -a -c <span class=\"token string\">'echo $TEST'</span><br /><span class=\"token number\">100</span></code></pre>\n<h2 id=\"c\" tabindex=\"-1\"><a id=\"command-arg\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#command-arg\"></a> <code>-c</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#c\" aria-hidden=\"true\">#</a></h2>\n<p>–†–µ–∂–∏–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥, –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ ash -c <span class=\"token string\">'echo 100500'</span><br /><span class=\"token number\">100500</span></code></pre>\n<h2 id=\"c-1\" tabindex=\"-1\"><a id=\"noclobber-arg\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#noclobber-arg\"></a> <code>-C</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#c-1\" aria-hidden=\"true\">#</a></h2>\n<p>noclobber <em>// –Ω–µ –∫–æ–ª–æ—à–º–∞—Ç–∏—Ç—å üòÉ</em></p>\n<p>—Ç—É—Ç —Ä–µ—á—å –ø—Ä–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>&gt;</code> –ø—Ä–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç—Ç–æ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞, –∞—Ä–≥—É–º–µ–Ω—Ç <code>-C</code> –º–µ–Ω—è–µ—Ç —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ ‚Äî –µ—Å–ª–∏ —Ñ–∞–π–ª —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –æ—à–∏–±–∫–∞.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># —Å–∫—Ä–∏–ø—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ —Ñ–∞–π–ª tmp.txt</span><br />$ <span class=\"token function\">cat</span> ./test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$1</span> <span class=\"token operator\">></span> tmp.txt<br /><br /><span class=\"token comment\"># –≤—ã–ø–æ–ª–Ω—è–µ–º</span><br />$ ash ./test.sh <span class=\"token number\">100</span><br /><br /><span class=\"token comment\"># –≤ —Ñ–∞–π–ª –∑–∞–ø–∏—Å–∞–Ω–æ 100</span><br />$ <span class=\"token function\">cat</span> tmp.txt<br /><span class=\"token number\">100</span><br /><br /><span class=\"token comment\"># –≤—ã–ø–æ–ª–Ω—è–µ–º –µ—â–µ —Ä–∞–∑</span><br />$ ash ./test.txt <span class=\"token number\">101</span><br /><br /><span class=\"token comment\"># —Ñ–∞–π–ª –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º 101</span><br />$ <span class=\"token function\">cat</span> tmp.txt<br /><span class=\"token number\">101</span><br /><br /><span class=\"token comment\"># –≤—ã–ø–æ–ª–Ω—è–µ–º c –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º -C - –ø–æ–ª—É—á–∞–µ–º –æ—à–∏–±–∫—É</span><br />$ ash -C ./test.txt <span class=\"token number\">102</span><br />test.sh: line <span class=\"token number\">1</span>: can't create test.txt: File exists</code></pre>\n<h2 id=\"e\" tabindex=\"-1\"><a id=\"errexit-arg\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#errexit-arg\"></a> <code>-e</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#e\" aria-hidden=\"true\">#</a></h2>\n<p>errexit</p>\n<p>–≠—Ç–æ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç <a href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#errexit-arg-adv\">—Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –≤—ã—à–µ</a> ‚Äî –≤—ã—Ö–æ–¥ –∏–∑ —Å–∫—Ä–∏–ø—Ç–∞, –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –Ω–µ–Ω—É–ª–µ–≤—ã–º exit-–∫–æ–¥–æ–º –∏ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ —É—Å–ª–æ–≤–∏—è–º–∏ —Ç–∏–ø–∞ <code>if</code></p>\n<h2 id=\"f\" tabindex=\"-1\"><a id=\"noglob-arg\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#noglob-arg\"></a> <code>-f</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#f\" aria-hidden=\"true\">#</a></h2>\n<p>noglob</p>\n<p>–í —à–µ–ª–ª–∞—Ö —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è —à—Ç—É–∫–∞ - file globbing - —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∫–∞–∑—ã–≤–∞—Ç—å –ø—É—Ç—å –∫ —Ñ–∞–π–ª–∞–º –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é, –∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ wildcard ‚Äî <code>cat *.txt</code> ‚Äî –≤—ã–≤–µ—Å—Ç–∏ –Ω–∞ —ç–∫—Ä–∞–Ω –≤—Å–µ —Ñ–∞–π–ª—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º txt.</p>\n<p>–¢–∞–∫ –≤–æ—Ç –æ–ø—Ü–∏—è <code>-f</code> –æ—Ç–∫–ª—é—á–∞–µ—Ç file globbing –¥–ª—è –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token comment\"># this is script</span><br /><span class=\"token function\">cat</span> *.sh<br /><br /><span class=\"token comment\"># –≤—ã–≤–æ–¥–∏—Ç –≤—Å–µ —Ñ–∞–π–ª—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º sh</span><br />$ ash test.sh<br /><span class=\"token comment\"># this is script</span><br /><span class=\"token function\">cat</span> *.sh<br /><br /><span class=\"token function\">file</span> globbing –æ—Ç–∫–ª—é—á–µ–Ω - *.sh –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –∏–º—è —Ñ–∞–π–ª–∞<br />$ ash -f test.sh<br />cat: can<span class=\"token string\">'t open '</span>*.sh': No such <span class=\"token function\">file</span> or directory</code></pre>\n<h2 id=\"n\" tabindex=\"-1\"><a id=\"noexec-arg\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#noexec-arg\"></a> <code>-n</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#n\" aria-hidden=\"true\">#</a></h2>\n<p>noexec</p>\n<p>–ù–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã, —É–¥–æ–±–Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞, –ø–æ–¥—Ä–æ–±–Ω–µ–µ <a href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#noexec-arg-adv\">—Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –≤—ã—à–µ</a></p>\n<h2 id=\"u\" tabindex=\"-1\"><a id=\"nounset-arg\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#nounset-arg\"></a> <code>-u</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#u\" aria-hidden=\"true\">#</a></h2>\n<p>nounset</p>\n<p>–ó–∞–≤–µ—Ä—à–∞—Ç—å —Å–∫—Ä–∏–ø—Ç —Å –æ—à–∏–±–∫–æ–π –µ—Å–ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> test.sh<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$SOME</span><br /><br /><span class=\"token comment\"># —Å–∫—Ä–∏–ø—Ç —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω, —Ö–æ—Ç—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è SOME –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞</span><br />$ ash test.sh<br /><br /><span class=\"token comment\"># —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º -u –ø—Ä–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞</span><br />$ ash -u test.sh<br />test.sh: line <span class=\"token number\">1</span>: SOME: parameter not <span class=\"token builtin class-name\">set</span></code></pre>\n<h2 id=\"v\" tabindex=\"-1\"><a id=\"verbose-arg\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#verbose-arg\"></a> <code>-v</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#v\" aria-hidden=\"true\">#</a></h2>\n<p>verbose</p>\n<p>–í—ã–≤–æ–¥–∏—Ç –≤ stderr –≤—Å–µ shell-—Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ ash —á–∏—Ç–∞–µ—Ç –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç</p>\n<h2 id=\"x\" tabindex=\"-1\"><a id=\"xtrace-arg\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#xtrace-arg\"></a> <code>-x</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#x\" aria-hidden=\"true\">#</a></h2>\n<p>xtrace</p>\n<p>–í—ã–≤–æ–¥–∏—Ç –≤ stderr –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ ash –≤—ã–ø–æ–ª–Ω—è–µ—Ç</p>\n<h2 id=\"i\" tabindex=\"-1\"><a id=\"ignoreeof-arg\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#ignoreeof-arg\"></a> <code>-I</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#i\" aria-hidden=\"true\">#</a></h2>\n<p>ignoreeof</p>\n<p>–ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç EOF (—Å–∏–º–≤–æ–ª—ã –∫–æ–Ω—Ü–∞ —Å—Ç—Ä–æ–∫–∏) –∏–∑ stdin</p>\n<p><em>// –ü–æ–∫–∞ –Ω–µ –æ—á–µ–Ω—å –ø–æ–Ω—è—Ç–Ω–æ –∑–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫</em></p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># echo –ø–µ—Ä–µ–¥–∞–µ—Ç EOF (/n) –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ –∏ —Å–∫—Ä–∏–ø—Ç –≤—ã–≤–æ–¥–∏—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'cat *.sh'</span> <span class=\"token operator\">|</span> ash<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$SOME</span><br /><br /><span class=\"token comment\"># —Å -I –∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –∏ –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'cat *.sh'</span> <span class=\"token operator\">|</span> ash -I<br />Use <span class=\"token string\">\"exit\"</span> to leave shell.<br /><br />Use <span class=\"token string\">\"exit\"</span> to leave shell.<br /><br /><span class=\"token punctuation\">..</span>.</code></pre>\n<h2 id=\"i-1\" tabindex=\"-1\"><a id=\"interactive-arg\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#interactive-arg\"></a> <code>-i</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#i-1\" aria-hidden=\"true\">#</a></h2>\n<p>interactive</p>\n<p>–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º</p>\n<h2 id=\"l\" tabindex=\"-1\"><a id=\"login-arg\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#login-arg\"></a> <code>-l</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#l\" aria-hidden=\"true\">#</a></h2>\n<p>login</p>\n<p>–í–∫–ª—é—á–∞–µ—Ç login-—Ä–µ–∂–∏–º</p>\n<h2 id=\"m\" tabindex=\"-1\"><a id=\"monitor-arg\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#monitor-arg\"></a> <code>-m</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#m\" aria-hidden=\"true\">#</a></h2>\n<p>monitor</p>\n<p>–≤–∫–ª—é—á–∞–µ—Ç job control, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ, –≤–∏–¥–∏–º–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∫–ª—é—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å jobs –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö <em>// —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø–æ–∑–∂–µ, –Ω–æ —É–∂–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ ‚Äî –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–¥–∞—á—É —Ñ–æ–Ω–æ–º –≤ —Å–∫—Ä–∏–ø—Ç–µ, –∞ –ø–æ—Ç–æ–º –ø—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –µ–µ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å–∫—Ä–∏–ø—Ç</em></p>\n<h2 id=\"s\" tabindex=\"-1\"><a id=\"stdin-arg\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#stdin-arg\"></a><code>-s</code> <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#s\" aria-hidden=\"true\">#</a></h2>\n<p>stdin</p>\n<p>—á–∏—Ç–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏–∑ stdin. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω –ø—É—Ç—å –∫ —Å–∫—Ä–∏–ø—Ç—É, —Ç–æ –≤–∫–ª—é—á–µ–Ω–æ.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'date'</span> <span class=\"token operator\">|</span> ash<br />Fri Dec <span class=\"token number\">24</span> 00:38:31 UTC <span class=\"token number\">2020</span><br /><br /><span class=\"token comment\"># –∏–¥–µ–Ω—Ç–∏—á–Ω–æ c -s</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'date'</span> <span class=\"token operator\">|</span> ash -s<br />Fri Dec <span class=\"token number\">24</span> 00:38:31 UTC <span class=\"token number\">2020</span><br /><br /><span class=\"token comment\"># –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω —Å–∫—Ä–∏–ø—Ç</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'date'</span> <span class=\"token operator\">|</span> ash -s test.sh<br /><span class=\"token comment\"># test script commands</span><br /><br /><span class=\"token comment\"># –ø—Ä–∏ —ç—Ç–æ–º –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–±–µ –∫–æ–º–∞–Ω–¥—ã —Å -c –∏ -s</span><br />$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'date'</span> <span class=\"token operator\">|</span> ash -s -c <span class=\"token string\">'date'</span><br />Fri Dec <span class=\"token number\">24</span> 00:38:31 UTC <span class=\"token number\">2020</span><br />Fri Dec <span class=\"token number\">24</span> 00:38:31 UTC <span class=\"token number\">2020</span></code></pre>\n<p>¬†</p>\n<h1 id=\"itogo\" tabindex=\"-1\">–ò—Ç–æ–≥–æ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#itogo\" aria-hidden=\"true\">#</a></h1>\n<p>–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–æ–±—Ä–∞–ª–∏ –∑–∞–ø—É—Å–∫ ash, —Ä–µ–∂–∏–º—ã –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç–∞—Ç—å—è—Ö –Ω–∞—á–Ω–µ–º —Ä–∞–∑–±–∏—Ä–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤, —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –∫–æ–º–∞–Ω–¥—ã.</p>\n<p>–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-3-ash-commands/\">Linux Tools: shells, ash #2 - ash syntax, simple commands</a></p>\n<p>¬†</p>\n<h2 id=\"ssylki\" tabindex=\"-1\">–°—Å—ã–ª–∫–∏ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/#ssylki\" aria-hidden=\"true\">#</a></h2>\n<ul>\n<li><a href=\"https://man7.org/linux/man-pages/man1/dash.1.html\" target=\"_blank\" rel=\"noopener\">https://man7.org/linux/man-pages/man1/dash.1.html</a></li>\n</ul>\n<hr />\n<p><a href=\"https://rootaround.github.io/tags/linux-tools\">–í—Å–µ —Å—Ç–∞—Ç—å–∏ —Å–µ—Ä–∏–∏ ‚ÄúLinux Tools‚Äù</a></p>\n",
      "date_published": "2020-12-24T19:21:00Z"
    },{
      "id": "https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-1-historical/",
      "url": "https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-1-historical/",
      "title": "Linux Tools: shells - –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å",
      "content_html": "<p><em>Shell, —à–µ–ª–ª, —Ç–µ—Ä–º–∏–Ω–∞–ª, –∫–æ–Ω—Å–æ–ª—å, Command Line Interface, cli</em> ‚Äì –ø–æ —Å—É—Ç–∏ –≤—Å–µ —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤–æ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Å—ã–ª–∞—Ç—å —Å–∏—Å—Ç–µ–º–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —Å–æ–±–∏—Ä–∞—Ç—å —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –≤ —Å–∫—Ä–∏–ø—Ç—ã –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å —É–∂–µ –Ω–∞–±–æ—Ä—ã –∫–æ–º–∞–Ω–¥.</p>\n<!--more-->\n<p>–ó–≤—É—á–∏—Ç –≤—Å–µ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ, –Ω–æ —Ç–∞–∫ –±—ã–ª–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –∏ –≤—Å–µ —É–¥–æ–±—Å—Ç–≤–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–≤ –ø–æ—è–≤–∏–ª–∏—Å—å –Ω–µ —Å—Ä–∞–∑—É. –°–µ–≥–æ–¥–Ω—è –∫—Ä–∞—Ç–∫–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∏—Å—Ç–æ—Ä–∏—é —Ä–∞–∑–≤–∏—Ç–∏—è —à–µ–ª–ª–æ–≤.</p>\n<p><strong>1971, Thompson shell</strong> - –Ω–∞–ø–∏—Å–∞–Ω –ö–µ–Ω–æ–º (–≤–Ω–µ–∑–∞–ø–Ω–æ) –¢–æ–º–ø—Å–æ–Ω–æ–º –≤ Bell Labs –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ –ø–µ—Ä–≤–æ–π –≤–µ—Ä—Å–∏–∏ Unix. –ö–µ–Ω –¢–æ–º–ø—Å–æ–Ω —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –î–µ–Ω–∏—Å–æ–º –†–∏—Ç—á–∏ —è–≤–ª—è—é—Ç—Å—è –Ω–∏ –º–Ω–æ–≥–æ –Ω–∏ –º–∞–ª–æ —Å–æ–∑–¥–∞—Ç–µ–ª—è–º–∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–∞ Unix –∏ —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è C.</p>\n<p><strong>1975, PWB (Mashey) shell</strong> - —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –î–∂–æ–Ω–æ–º –ú–∞—à–∏ (John Mashey) –≤ Bell Labs –¥–ª—è PWB (Programmer‚Äôs Workbench) Unix - –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (–Ω–æ –Ω–µ –≤–∑–ª–µ—Ç–µ–ª). –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ Thompson Shell c —Ñ–∏—á–∞–º–∏ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.</p>\n<p>–¢—É—Ç —Å–ª–µ–¥—É–µ—Ç —Å–¥–µ–ª–∞—Ç—å –Ω–µ–±–æ–ª—å—à–æ–µ –æ—Ç—Å—Ç—É–ø–ª–µ–Ω–∏–µ ‚Äì –≤—Å–µ —à–µ–ª–ª—ã –¥–æ Borne Shell –±—ã–ª–∏ –±–æ–ª—å—à–µ –Ω–∞—Ü–µ–ª–µ–Ω—ã –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º), –∞ –Ω–µ –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤.</p>\n<p>Thompson Shell —Å–æ–∑–¥–∞–≤–∞–ª—Å—è –æ—á–µ–Ω—å –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º, –≤ –æ–¥–Ω–æ–π –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –±—ã–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–æ–Ω—Ü–µ–ø—Ç –ø–∞–π–ø–æ–≤ (<code>command1 &gt; command2</code>), –Ω–æ –≤ –æ—Å—Ç–∞–ª—å–Ω–æ–º –¥–∞–∂–µ —Ç–∞–∫–∏–µ –ø—Ä–æ—Å—Ç—ã–µ –≤–µ—â–∏ –∫–∞–∫ <code>if</code> –±—ã–ª–∏ —Å–¥–µ–ª–∞–Ω—ã –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±—ã–ª –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –∏–º–µ–Ω–Ω–æ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥.</p>\n<p>–í Mashey shell <code>if</code>, <code>elseif</code>, <code>goto</code> (–∏ –¥—Ä—É–≥–∏–µ) –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–∞–∫ —á–∞—Å—Ç—å —Å–∞–º–æ–≥–æ —à–µ–ª–ª–∞, –ø–æ—è–≤–∏–ª–∏—Å—å –∞–Ω–∞–ª–æ–≥–∏ $HOME, $PATH.</p>\n<p>Bourne Shell –±—ã–ª –Ω–∞–ø–∏—Å–∞–Ω —Å –Ω—É–ª—è, —Ñ–∏—á–∏ –æ–±—Å—É–∂–¥–∞–ª–∏—Å—å —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞, –ø–ª—é—Å –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∫–Ω–∏–≥–∏ The Unix Programming Environment –ë—Ä–∞–π–Ω–∞ –ö–µ—Ä–Ω–∏–≥–∞–Ω–∞ –∏ –†–æ–±–∞ –ü–∞–π–∫–∞ ‚Äî –≤—Å–µ —ç—Ç–æ —Å—ã–≥—Ä–∞–ª–æ –≤ –ø–æ–ª—å–∑—É Borne Shell –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Mashey Shell –±—ã–ª–∞ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∞, —Ö–æ—Ç—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–Ω–æ–≥–æ —Ñ–∏—á –∏–∑ Mashey –±—ã–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ Borne.</p>\n<p><strong>1976, 1979, Bourne Shell (sh)</strong> - –≤ 1976 –°—Ç–∏–≤–µ–Ω –ë–æ—Ä–Ω –Ω–∞—á–∞–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É, –∞ –≤ 1979 Bourne Shell –±—ã–ª –≤–∫–ª—é—á–µ–Ω –≤ Unix –≤–µ—Ä—Å–∏–∏ 7 –∫–∞–∫ —à–µ–ª–ª –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –≠—Ç–æ –ø–µ—Ä–≤—ã–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π —à–µ–ª–ª —Å–æ —Å–∫—Ä–∏–ø—Ç–æ–≤—ã–º —è–∑—ã–∫–æ–º.</p>\n<p><strong>1978, C shell (csh)</strong> ‚Äì —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –ë–∏–ª–ª–æ–º –î–∂–æ–µ–º, —à–µ–ª–ª —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º —Å sh, –±—ã–ª —à–∏—Ä–æ–∫–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω –≤ BSD-–¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞—Ö. –ï—Å–ª–∏ <strong>sh</strong> –ø—Ä–∏–≤–Ω–æ—Å–∏–ª —É–¥–æ–±—Å—Ç–≤–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤, —Ç–æ <strong>—Åsh</strong> –¥–æ–±–∞–≤–ª—è–ª –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–∏—á –∏–º–µ–Ω–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤, –ø–∞–π–ø—ã, –∏—Å—Ç–æ—Ä–∏—è, –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –µ—â–µ –º–Ω–æ–≥–æ —É–¥–æ–±—Å—Ç–≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞.</p>\n<p><strong>1983, Korn Shell (ksh)</strong> - —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –î—ç–≤–∏–¥–æ–º –ö–æ—Ä–Ω–æ–º –∏ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ bash (–≤–∏–¥–∏–º–æ –Ω–∞ –∫–∞–∫–∏—Ö-—Ç–æ –¥–æ—Ä–µ–ª–∏–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö). –ü–æ–∑–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –≤ ksh –º–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã —Å –∑–∞–¥–∞—á–∞–º–∏ (jobs) –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤ bash.</p>\n<p><strong>1989, Born Again Shell (bash)</strong> - –ø–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑ —Ç–æ–≥–æ —Å–∞–º–æ–≥–æ —à–µ–ª–ª–∞. –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–ª—Å—è —Å–Ω–∞—á–∞–ª–∞ –†–∏—á–∞—Ä–¥–æ–º –°—Ç–æ–ª–ª–º–∞–Ω–æ–º, –ø–æ—Ç–æ–º –ë—Ä–∞–π–Ω–æ–º –§–æ–∫—Å–æ–º. bash —Å–æ–≤–º–µ—Å—Ç–∏–ª –ª—É—á—à–µ–µ –∏–∑ sh –∏ csh, –ø—Ä–∏–≤–Ω–µ—Å —Å–≤–æ–µ –∏ —Å—Ç–∞–ª –ø–æ–ø—É–ª—è—Ä–µ–Ω –≤ —Ç–æ–º —á–∏—Å–ª–µ –±–ª–∞–≥–æ–¥–∞—Ä—è –õ–∏–Ω—É—Å—É –¢–æ—Ä–≤–∞–ª—å–¥—Å—É, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å—Ç–∏–ª bash –æ–¥–Ω–æ–π –∏–∑ –ø–µ—Ä–≤—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º –Ω–∞ —Å–≤–æ–µ–º –Ω–æ–≤–æ–º —è–¥—Ä–µ.</p>\n<p><strong>1989, Almquist shell (ash)</strong> - Kenneth Almquist –≤—ã–ø—É—Å—Ç–∏–ª –ø–µ—Ä–≤—É—é –≤–µ—Ä—Å–∏—é –ª–µ–≥–∫–æ–≤–µ—Å–Ω–æ–≥–æ —à–µ–ª–ª–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ —Å Bourne Shell. ash –ø—Ä–∏—à–µ–ª –Ω–∞ –∑–∞–º–µ–Ω—É sh –≤ BSD –≤–µ—Ä—Å–∏—è—Ö Unix. –û—Å–Ω–æ–≤–Ω—ã–º –ø–ª—é—Å–æ–º –±—ã–ª–∞ –µ–≥–æ –º–∞–ª—ã–π —Ä–∞–∑–º–µ—Ä –∏ —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –∏ –∫–æ–Ω–µ—á–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å sh.</p>\n<p><strong>1990, Z Shell (zsh)</strong> - —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –ü–∞—É–ª–µ–º –§–∞–ª—Å—Ç–∞–¥–æ–º (Paul Falstad). –ö—Ä–∞—Ç–∫–æ - —ç—Ç–æ bash —Å –∫—É—á–µ–π —É–ª—É—á—à–µ–Ω–∏–π: –∏—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ —à–∞—Ä–∏—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä—É–µ–º–æ–µ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥, –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –æ–ø–µ—á–∞—Ç–æ–∫ (—ç—Ç–æ –≤—Å–µ –∫–æ–Ω–µ—á–Ω–æ —É–∂–µ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è).</p>\n<p><strong>1997, 2002, Debian Almquist shell (dash)</strong> - –≤ 1997 Herbert Xu –ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∫–æ–¥ –∏–∑ NetBSD –≤ Debian Linux, –∞ –≤ 2002 –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–∏–º–Ω–æ–≤–∞–Ω–∏–µ –≤ dash.</p>\n<p><strong>2001</strong> - –∫–æ–¥ ash <a href=\"https://git.busybox.net/busybox/commit/shell/ash.c?id=cb57d551a207198fabdb8c46f96e6a0932143923\" target=\"_blank\" rel=\"noopener\">–¥–æ–±–∞–≤–ª–µ–Ω</a> –≤ Busybox (—ç—Ç–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä unix-—É—Ç–∏–ª–∏—Ç –≤ –æ–¥–Ω–æ–º –±–∏–Ω–∞—Ä–Ω–∏–∫–µ).</p>\n<p><strong>2005, Friendly interactive shell (fish)</strong> - –Ω–∞—á–∞–ª —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –ê–∫—Å–µ–ª–µ–º –õ–∏–ª—å–µ–Ω–∫—Ä–∞–Ω—Ü–µ–º. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∏ –¥—Ä—É–≥–∏–µ —É–ª—É—á—à–µ–Ω–∏—è –Ω–∞—Ü–µ–ª–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–Ω–æ –Ω–∞ —É–¥–æ–±—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.</p>\n<p><strong>2006</strong> - dash —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º —à–µ–ª–æ–º /bin/sh –≤ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞—Ö Ubuntu –∏ Debian ‚Äî –≤–æ—Ç —Ç–∞–∫ –∏–∑ 1980‚Äô—ã—Ö –≤ 2000‚Äô—ã–µ ash –ø–æ–ø–∞–ª –∫–∞–∫ –±–∞–∑–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç–æ–≤—ã–π —à–µ–ª–ª –≤ –æ–¥–Ω–∏ –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤ Linux.</p>\n<p>–ú–Ω–æ–≥–∏–µ —à–µ–ª–ª—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É, –Ω–æ –≤ –Ω–∏—Ö –±—ã–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω—ã —Ñ–∏—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–Ω–µ—Å–ª–∏ –≤ –±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –° —ç—Ç–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, –≥–ª–æ–±–∞–ª—å–Ω–æ, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∂–¥–æ–≥–æ —à–µ–ª–ª–∞ –≤ —á–µ–º-—Ç–æ —Å–ø–æ—Å–æ–±—Å—Ç–≤–æ–≤–∞–ª–∞ –æ–±—â–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é.</p>\n<p>¬†</p>\n<h1 id=\"itogo\" tabindex=\"-1\">–ò—Ç–æ–≥–æ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-1-historical/#itogo\" aria-hidden=\"true\">#</a></h1>\n<p>–î–∞–ª—å—à–µ –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é ash. –ü–æ —Å–∫—Ä–∏–ø—Ç–æ–≤—ã–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º ash —Å–æ–≤–º–µ—Å—Ç–∏–º —Å bash, –Ω–æ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É (–æ—Å–æ–±–µ–Ω–Ω–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º—É) –≥–æ—Ä–∞–∑–¥–æ –º–µ–Ω—å—à–µ ‚Äî –ø–æ—ç—Ç–æ–º—É –∏–∑—É—á–∏–≤ ash, –∏–∑—É—á–∏–º –æ—Å–Ω–æ–≤—É bash.</p>\n<p>–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è: <a href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-2-ash-startup/\">Linux Tools: shells, ash #1 - ash startup, ash arguments</a></p>\n<p>¬†</p>\n<h2 id=\"ssylki\" tabindex=\"-1\">–°—Å—ã–ª–∫–∏ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-12-linux-tools-shells-part-1-historical/#ssylki\" aria-hidden=\"true\">#</a></h2>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Thompson_shell\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Thompson_shell</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/PWB_shell\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/PWB_shell</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Bourne_shell\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Bourne_shell</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Bash_(Unix_shell)\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Bash_(Unix_shell)</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Almquist_shell\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Almquist_shell</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Z_shell\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Z_shell</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/KornShell\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/KornShell</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Ken_Thompson\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Ken_Thompson</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/John_Mashey\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/John_Mashey</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Stephen_R._Bourne\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Stephen_R._Bourne</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/The_Unix_Programming_Environment\" target=\"_blank\" rel=\"noopener\">The Unix Programming Environment</a> by <a href=\"https://en.wikipedia.org/wiki/Brian_Kernighan\" target=\"_blank\" rel=\"noopener\">Brian Kernighan</a> and <a href=\"https://en.wikipedia.org/wiki/Rob_Pike\" target=\"_blank\" rel=\"noopener\">Rob Pike</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Version_7_Unix\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Version_7_Unix</a></li>\n<li><a href=\"http://gondor.apana.org.au/~herbert/dash/\" target=\"_blank\" rel=\"noopener\">Dash by Herbert Xu</a></li>\n<li><a href=\"https://ru.wikipedia.org/wiki/BusyBox\" target=\"_blank\" rel=\"noopener\">https://ru.wikipedia.org/wiki/BusyBox</a></li>\n<li><a href=\"https://wiki.ubuntu.com/DashAsBinSh\" target=\"_blank\" rel=\"noopener\">https://wiki.ubuntu.com/DashAsBinSh</a></li>\n</ul>\n<hr />\n<p><a href=\"https://rootaround.github.io/tags/linux-tools\">–í—Å–µ —Å—Ç–∞—Ç—å–∏ —Å–µ—Ä–∏–∏ ‚ÄúLinux Tools‚Äù</a></p>\n",
      "date_published": "2020-12-23T18:35:00Z"
    },{
      "id": "https://rootaround.github.io/posts/blog/2020-05-15-linux-first-boot-mbr/",
      "url": "https://rootaround.github.io/posts/blog/2020-05-15-linux-first-boot-mbr/",
      "title": "Linux First: –ó–∞–≥—Ä—É–∑–∫–∞ —è–¥—Ä–∞",
      "content_html": "<p>–ü–æ—Å–ª–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø–æ—Å—Ç–∞ <a href=\"https://rootaround.github.io/posts/blog/2020-05-13-linux-first-shortly-about-kernel/\">‚Äú–ö—Ä–∞—Ç–∫–æ –æ linux-—è–¥—Ä–µ‚Äù</a> –µ—Å—Ç—å –æ–±—â–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–æ —è–¥—Ä–æ. –î–∞–ª—å—à–µ –ø–æ–≥–æ–≤–æ—Ä–∏–º –ø—Ä–æ –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –≤ –æ–±—â–µ–º –∏ —è–¥—Ä–∞ –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏.</p>\n<p>–ü–æ–ø—É—Ç–Ω–æ —Å–æ–∑–¥–∞–¥–∏–º –æ–±—Ä–∞–∑ –∂–µ—Å—Ç–∫–æ–≥–æ –¥–∏—Å–∫–∞, –Ω–∞ –±–∞–∑–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–æ–¥–æ–ª–∂–∏–º —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è —Å linux –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç–∞—Ç—å—è—Ö.</p>\n<!--more-->\n<h2 id=\"zagruzka-ot-vklyucheniya-pk-do-ustrojstva\" tabindex=\"-1\">–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç –≤–∫–ª—é—á–µ–Ω–∏—è –ü–ö –¥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-05-15-linux-first-boot-mbr/#zagruzka-ot-vklyucheniya-pk-do-ustrojstva\" aria-hidden=\"true\">#</a></h2>\n<ul>\n<li>–ü–æ—Å–ª–µ –≤–∫–ª—é—á–µ–Ω–∏—è –∫–æ–¥ BIOS –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å (–û–ó–£) –∏–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏ (–ü–ó–£)</li>\n<li>–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ –û–ó–£ –∫–æ–¥ BIOS –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–µ—Å—Ç –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è Power-On Self-Test (POST-—Ç–µ—Å—Ç)</li>\n<li>–ß–∏—Ç–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ BIOS –∏–∑ –ü–ó–£</li>\n<li>–ò—â–µ—Ç –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å –∫–æ–¥ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞</li>\n<li>–ü–µ—Ä–µ–¥–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑—á–∏–∫—É</li>\n</ul>\n<p>–ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ BIOS –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –µ—â–µ –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π –°–∏—Å—Ç–µ–º—ã</p>\n<p>–ü–æ–¥—Ä–æ–±–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —Å–º—ã—Å–ª–∞ –Ω–µ—Ç,\n–º—ã –±—É–¥–µ–º —Å–æ–±–∏—Ä–∞—Ç—å –æ–±—Ä–∞–∑ –¥–∏—Å–∫–∞ —Å linux –∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—è —ç–º—É–ª—è—Ç–æ—Ä QEMU</p>\n<details><summary>–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ QEMU</summary>\n<p><a href=\"https://www.qemu.org/\" target=\"_blank\" rel=\"noopener\">https://www.qemu.org/</a></p>\n<p>–≠–º—É–ª—è—Ç–æ—Ä –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º, –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã.</p>\n<p>–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å qemu –¥–ª—è x86_64</p>\n</details>\n<h2 id=\"zagruzka-s-ustrojstva\" tabindex=\"-1\">–ó–∞–≥—Ä—É–∑–∫–∞ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-05-15-linux-first-boot-mbr/#zagruzka-s-ustrojstva\" aria-hidden=\"true\">#</a></h2>\n<div class=\"info\">\n<p>–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –Ω–∞ ubuntu 16.04</p>\n</div>\n<p>BIOS –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–≤–æ–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–ª–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤.</p>\n<p>–≤ —Å–ª—É—á–∞–µ —Å QEMU —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ qemu-system-x86_64 <span class=\"token punctuation\">\\</span> <span class=\"token comment\"># –∑–∞–ø—É—Å–∫–∞–µ–º —ç–º—É–ª—è—Ç–æ—Ä —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π x86_64</span><br />    -nographic <span class=\"token punctuation\">\\</span>       <span class=\"token comment\"># –≤–µ—Å—å –≤—ã–≤–æ–¥ –±—É–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å, –∏–Ω–∞—á–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è gui-–æ–∫–Ω–æ</span><br />    -m 128m            <span class=\"token comment\"># –æ–ø–µ—Ä–∞—Ç–∏–≤–∫–∏ –±—É–¥–µ—Ç 128 –ú–± - –Ω–∞–º —Ö–≤–∞—Ç–∏—Ç</span><br /><br /><span class=\"token punctuation\">..</span>.<br /><br />Booting from Hard Disk<span class=\"token punctuation\">..</span>.<br />Boot failed: could not <span class=\"token builtin class-name\">read</span> the boot disk<br /><br />Booting from Floppy<span class=\"token punctuation\">..</span>.<br />Boot failed: could not <span class=\"token builtin class-name\">read</span> the boot disk<br /><br />Booting from DVD/CD<span class=\"token punctuation\">..</span>.<br />Boot failed: Could not <span class=\"token builtin class-name\">read</span> from CDROM <span class=\"token punctuation\">(</span>code 0003<span class=\"token punctuation\">)</span><br />Booting from ROM<span class=\"token punctuation\">..</span>.<br /><br /><span class=\"token punctuation\">..</span>.<br /></code></pre>\n<div class=\"message\">\n<p>–í—ã—Ö–æ–¥ –∏–∑ QEMU –ø–æ <code>CTRL+a x</code></p>\n</div>\n<p>–ù–∏ CDROM, –Ω–∏ –¥–∏—Å–∫ –Ω–µ —É–∫–∞–∑–∞–Ω, –ø–æ—ç—Ç–æ–º—É –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.</p>\n<p>–ò—Å–ø—Ä–∞–≤–ª—è–µ–º —ç—Ç–æ –∏ —Å–æ–∑–¥–∞–µ–º –º–∞–ª–µ–Ω—å–∫–∏–π –ø–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –º–µ—Ä–∫–∞–º –∂–µ—Å—Ç–∫–∏–π –¥–∏—Å–∫ –Ω–∞ 256 mb.</p>\n<p>–ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –æ–±—Ä–∞–∑–∞ —Å—Ç–æ–∏—Ç –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å –ø—Ä–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ç–∞–±–ª–∏—Ü —Ä–∞–∑–¥–µ–ª–æ–≤ –Ω–∞ –¥–∏—Å–∫–µ. –°–µ–π—á–∞—Å –∏—Ö –¥–≤–∞:</p>\n<ul>\n<li>MBR (Main Boot Record) - —Å—Ç–∞—Ä—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç —Ç–∞–±–ª–∏—Ü—ã —Ä–∞–∑–¥–µ–ª–æ–≤ (–∏–∑ 1983 –≥–æ–¥–∞)</li>\n<li>GPT (Guid Partition Table) - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç —Ä–∞–∑–¥–µ–ª–æ–≤, —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ EFI (Extensible Firmware Interface), —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ Intel –¥–ª—è –∑–∞–º–µ–Ω—ã BIOS</li>\n</ul>\n<p>–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –±—É–¥–µ—Ç —Å—Å—ã–ª–∫–∞ –≤ –∫–æ–Ω—Ü–µ —Å—Ç–∞—Ç—å–∏. –°–µ–π—á–∞—Å —Å–¥–µ–ª–∞–µ–º –æ–±—Ä–∞–∑ —Å MBR, –∞ –∫–∞–∫-–Ω–∏–±—É–¥—å –≤ –¥—Ä—É–≥–æ–π —Å–µ—Ä–∏–∏ —Å GPT, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å –Ω–∏–º –≤—Å–µ –Ω–µ–º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–µ–µ</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">dd</span> <span class=\"token assign-left variable\">if</span><span class=\"token operator\">=</span>/dev/zero <span class=\"token assign-left variable\">of</span><span class=\"token operator\">=</span>./mbr_hdd.img <span class=\"token assign-left variable\">bs</span><span class=\"token operator\">=</span>1024k <span class=\"token assign-left variable\">count</span><span class=\"token operator\">=</span><span class=\"token number\">256</span><br /><span class=\"token number\">256</span>+0 records <span class=\"token keyword\">in</span><br /><span class=\"token number\">256</span>+0 records out<br /><span class=\"token number\">268435456</span> bytes transferred <span class=\"token keyword\">in</span> <span class=\"token number\">0.362737</span> secs <span class=\"token punctuation\">(</span><span class=\"token number\">740027899</span> bytes/sec<span class=\"token punctuation\">)</span></code></pre>\n<details><summary>–Ω–µ–º–Ω–æ–≥–æ –ø—Ä–æ dd</summary>\n<p><code>dd</code> –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –±–ª–æ–∫–∞–º–∏ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞</p>\n<p>–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –º—ã –∫–æ–ø–∏—Ä—É–µ–º –Ω—É–ª–∏ –∏–∑ /dev/zero –±–ª–æ–∫–∞–º–∏ –ø–æ 1024 –∫–∏–ª–æ–±–∞–π—Ç (1Mb) 256 —Ä–∞–∑</p>\n<p>–ø—Ä–æ dd –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—É –±—É–¥–µ–º —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç–∞—Ç—å—è—Ö</p>\n</details>\n<p>–ï—Å–ª–∏ —Å—Ä–∞–∑—É –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–¥—Å—É–Ω—É—Ç—å –æ–±—Ä–∞–∑ –¥–∏—Å–∫–∞ –≤ qemu, —Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–µ–Ω—è—Ç—Å—è,\n—Ç–∞–∫ –∫–∞–∫ –Ω–∞ –¥–∏—Å–∫–µ –Ω–µ—Ç —Ç–∞–±–ª–∏—Ü—ã —Ä–∞–∑–¥–µ–ª–æ–≤, –∞ —Ç–æ–ª—å–∫–æ –Ω—É–ª–∏.</p>\n<p>–°–æ–∑–¥–∞–µ–º –æ–¥–∏–Ω –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã–π linux-—Ä–∞–∑–¥–µ–ª, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –ø–æ–º–æ—â—å—é fdisk (–∏–ª–∏ cfdisk –∏–ª–∏ parted)</p>\n<p>–î–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è —Ç–∞–∫:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">fdisk</span> -l ./mbr_hdd.img<br />Disk ./mbr_hdd.img: <span class=\"token number\">256</span> MiB, <span class=\"token number\">268435456</span> bytes, <span class=\"token number\">524288</span> sectors<br />Units: sectors of <span class=\"token number\">1</span> * <span class=\"token number\">512</span> <span class=\"token operator\">=</span> <span class=\"token number\">512</span> bytes<br />Sector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes<br />I/O size <span class=\"token punctuation\">(</span>minimum/optimal<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes<br />Disklabel type: dos<br />Disk identifier: 0x00000000<br /><br />Device         Boot Start    End Sectors  Size Id Type<br />./mbr_hdd.img1 *     <span class=\"token number\">2048</span> <span class=\"token number\">524287</span>  <span class=\"token number\">522240</span>  255M <span class=\"token number\">83</span> Linux</code></pre>\n<p>–¢–µ–ø–µ—Ä—å –Ω–∞ –¥–∏—Å–∫–µ –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞–∑–¥–µ–ª–æ–≤, –ø—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ qemu-system-x86_64 -nographic -m 128m <span class=\"token punctuation\">\\</span><br />  -boot c <span class=\"token punctuation\">\\</span>          <span class=\"token comment\"># –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å –∂–µ—Å—Ç–∫–æ–≥–æ –¥–∏—Å–∫–∞</span><br />  -hda ./mbr_hdd.img <span class=\"token comment\"># —É–∫–∞–∑—ã–≤–∞–µ–º –æ–±—Ä–∞–∑ –ø–µ—Ä–≤–æ–≥–æ –∂–µ—Å—Ç–∫–æ–≥–æ –¥–∏—Å–∫–∞</span><br /><br /><span class=\"token punctuation\">..</span>.<br /><br />Booting from Hard Disk<span class=\"token punctuation\">..</span>.<br /></code></pre>\n<p>–£ –Ω–∞—Å –µ—Å—Ç—å –∂–µ—Å—Ç–∫–∏–π –¥–∏—Å–∫, –Ω–∞ –Ω–µ–º –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞–∑–¥–µ–ª–æ–≤, –µ—Å—Ç—å –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —Ä–∞–∑–¥–µ–ª - –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å –ø—Ä–æ –∑–∞–≥—Ä—É–∑—á–∏–∫–∏.</p>\n<h3 id=\"zagruzchik-bootloader\" tabindex=\"-1\">–ó–∞–≥—Ä—É–∑—á–∏–∫ (bootloader) <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-05-15-linux-first-boot-mbr/#zagruzchik-bootloader\" aria-hidden=\"true\">#</a></h3>\n<p>–î–ª—è linux –ø–æ –±–æ–ª—å—à–æ–º—É —Å—á–µ—Ç—É —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞: LILO –∏ GRUB.</p>\n<p>LILO —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å—Ç–∞—Ä–µ–≤—à–∏–º, –æ–Ω –Ω–µ —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ñ–∞–π–ª–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∏ –¥–ª—è –µ–≥–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –æ–±–Ω–æ–≤–ª—è—Ç—å –∑–∞–≥—Ä—É–∑–æ—á–Ω—É—é –∑–∞–ø–∏—Å—å –Ω–∞ –¥–∏—Å–∫–µ. –ï–≥–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –Ω–µ –±—É–¥–µ–º.</p>\n<p>GRUB —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ —Ñ–∞–π–ª–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏, multiboot, grub-shell, –∫–æ–Ω—Å–æ–ª—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –º–Ω–æ–≥–æ —á–µ–≥–æ –µ—â–µ.</p>\n<p>–ö–æ–Ω—Ñ–∏–≥–∏ GRUB, –∞—Ä—Ö–∏–≤—ã —Å —è–¥—Ä–∞–º–∏ –∏ initrd –º–æ–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –∏ –ø—Ä–∞–≤–∏—Ç—å –≤ –∫–∞—Ç–∞–ª–æ–≥–µ (—Ä–∞–∑–¥–µ–ª–µ) <code>/boot</code>.</p>\n<p>–î–ª—è –Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –≤ —Ä–∞–∑–¥–µ–ª–µ –Ω–∞—à–µ–≥–æ hdd.</p>\n<p>–î–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö hdd —Ä–∞–∑–¥–µ–ª—ã –¥–∏—Å–∫–∞ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—Å—è —Å –Ω–æ–º–µ—Ä–∞–º–∏ –≤ /dev –∏ –≤ –≤—ã–≤–æ–¥–µ –∫–æ–º–∞–Ω–¥—ã <code>lsblk</code> –≤—ã–≥–ª—è–¥—è—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># lsblk –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–ª–æ—á–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Å–∏—Å—Ç–µ–º–µ</span><br /><br />$ lsblk<br /><br /><span class=\"token punctuation\">..</span>.<br />sda         <span class=\"token number\">8</span>:0    <span class=\"token number\">0</span>    10G  <span class=\"token number\">0</span> disk<br />‚îî‚îÄsda1      <span class=\"token number\">8</span>:1    <span class=\"token number\">0</span>    10G  <span class=\"token number\">0</span> part /mnt<br /><span class=\"token punctuation\">..</span>.<br /></code></pre>\n<p>–í–∏–¥–∏–º —á—Ç–æ –ø—Ä–∏–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –¥–∏—Å–∫ sda —Å –æ–¥–Ω–∏–º —Ä–∞–∑–¥–µ–ª–æ–º sda1.\n–î–ª—è –Ω–∞—à–µ–≥–æ –æ–±—Ä–∞–∑–∞ –¥–∏—Å–∫–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –∫–∞–∫-—Ç–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Ñ–∞–π–ª –æ–±—Ä–∞–∑–∞ –∫–∞–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.</p>\n<p>–û–¥–∏–Ω –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ - –∫–æ–º–∞–Ω–¥–∞ <code>losetup</code>, —Å –ø–æ–º–æ—â—å—é –Ω–µ–µ –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –æ–±—Ä–∞–∑—ã –∫–∞–∫ –±–ª–æ—á–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> losetup <span class=\"token punctuation\">\\</span><br />    --find <span class=\"token punctuation\">\\</span>      <span class=\"token comment\"># –∏—â–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã–π id –¥–ª—è –±–ª–æ—á–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</span><br />    --partscan <span class=\"token punctuation\">\\</span>  <span class=\"token comment\"># –∏—â–µ—Ç –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ —Ä–∞–∑–¥–µ–ª—ã, –∞ –Ω–∞—Å –∫–∞–∫ —Ä–∞–∑ –æ–¥–∏–Ω —Ä–∞–∑–¥–µ–ª</span><br />    ./mbr_hdd.img<br /><br />$ lsblk<br /><br /><span class=\"token punctuation\">..</span>.<br />loop0       <span class=\"token number\">7</span>:0    <span class=\"token number\">0</span>  256M  <span class=\"token number\">0</span> loop <span class=\"token comment\"># –≤–∏–¥–∏–º –Ω–∞—à –¥–∏—Å–∫ —Å –æ–¥–Ω–∏–º —Ä–∞–∑–¥–µ–ª–æ–º</span><br />‚îî‚îÄloop0p1 <span class=\"token number\">259</span>:0    <span class=\"token number\">0</span>  255M  <span class=\"token number\">0</span> loop<br /><span class=\"token punctuation\">..</span>.<br /></code></pre>\n<p>–¢–µ–ø–µ—Ä—å –º–æ–∂–µ–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª –≤ ext4:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> mkfs.ext4 /dev/loop0p1<br /><br /><span class=\"token function\">mke2fs</span> <span class=\"token number\">1.42</span>.13 <span class=\"token punctuation\">(</span><span class=\"token number\">17</span>-May-2015<span class=\"token punctuation\">)</span><br /><span class=\"token punctuation\">..</span>.<br />Writing superblocks and filesystem accounting information: <span class=\"token keyword\">done</span><br /></code></pre>\n<p>–ü—Ä–∏–º–æ–Ω—Ç–∏—Ä—É–µ–º —Ä–∞–∑–¥–µ–ª –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º —á—Ç–æ –Ω–∞ –Ω–µ–º –µ—Å—Ç—å.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">mkdir</span> /mnt/hdd               <span class=\"token comment\"># —Å–æ–∑–¥–∞–µ–º —Ç–æ—á–∫—É –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</span><br /><br />$ <span class=\"token function\">mount</span> /dev/loop0p1 /mnt/hdd  <span class=\"token comment\"># –º–æ–Ω—Ç–∏—Ä—É–µ–º —Ä–∞–∑–¥–µ–ª</span><br /><br />$ <span class=\"token function\">ls</span> -l /mnt/hdd               <span class=\"token comment\"># –≤–Ω—É—Ç—Ä–∏ —Ç–æ–ª—å–∫–æ lost+found</span><br /><br />total <span class=\"token number\">12</span><br />drwx------ <span class=\"token number\">2</span> root root <span class=\"token number\">12288</span> May <span class=\"token number\">13</span> <span class=\"token number\">16</span>:45 lost+found<br /></code></pre>\n<p>–í–æ—Ç –º—ã –ø–ª–∞–≤–Ω–æ –∏ –ø–æ–¥–æ—à–ª–∏ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ - –∫–∞–∫ –≥–æ–≤–æ—Ä–∏–ª —Ä–∞–Ω–µ–µ, –±—É–¥–µ–º —Å—Ç–∞–≤–∏—Ç—å grub.</p>\n<p>–ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≥—Ä—É–∑—á–∏–∫ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Ñ–∞–π–ª—ã –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∏ –∏–∑–º–µ–Ω—è—Ç—å MBR –Ω–∞ —Å–∞–º–æ–º –¥–∏—Å–∫–µ.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> grub-install <span class=\"token punctuation\">\\</span><br />    --root-directory<span class=\"token operator\">=</span>/mnt/hdd <span class=\"token punctuation\">\\</span>  <span class=\"token comment\"># —Ç—É—Ç –Ω—É–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –¥–æ –ø—Ä–∏–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞</span><br />     /dev/loop0                  <span class=\"token comment\"># —Ç—É—Ç —É–∫–∞–∑—ã–≤–∞–µ–º —Å–∞–º –¥–∏—Å–∫, –∞ –Ω–µ —Ä–∞–∑–¥–µ–ª</span><br /><br />Installing <span class=\"token keyword\">for</span> i386-pc platform.<br />Installation finished. No error reported.</code></pre>\n<p>–ù–∞ –¥–∏—Å–∫–µ –ø–æ—è–≤–∏–ª–∞—Å—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è <code>boot</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">ls</span> -l /mnt/hdd/boot/grub/<br />total <span class=\"token number\">12</span><br />drwxr-xr-x <span class=\"token number\">2</span> root root <span class=\"token number\">1024</span> May <span class=\"token number\">13</span> <span class=\"token number\">16</span>:50 fonts<br />-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">1024</span> May <span class=\"token number\">13</span> <span class=\"token number\">16</span>:50 grubenv<br />drwxr-xr-x <span class=\"token number\">2</span> root root <span class=\"token number\">9216</span> May <span class=\"token number\">13</span> <span class=\"token number\">16</span>:50 i386-pc<br />drwxr-xr-x <span class=\"token number\">2</span> root root <span class=\"token number\">1024</span> May <span class=\"token number\">13</span> <span class=\"token number\">16</span>:50 locale<br /><br /><span class=\"token comment\"># –∞ –∫–æ–º–∞–Ω–¥–∞ file –≥–æ–≤–æ—Ä–∏—Ç —Ç–∞–∫</span><br />$ <span class=\"token function\">file</span> mbr_hdd.img<br />mbr_hdd.img: DOS/MBR boot sector</code></pre>\n<p>–ó–∞–≥—Ä—É–∑—á–∏–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ø—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ QEMU</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ qemu-system-x86_64 -nographic -m 128m -boot c -hda ./mbr_hdd.img<br /><br /><span class=\"token punctuation\">..</span>.<br /><br />Booting from Hard Disk<span class=\"token punctuation\">..</span>.<br /><br />                             GNU GRUB  version <span class=\"token number\">2.02</span><br /><br />   Minimal <span class=\"token environment constant\">BASH</span>-like line editing is supported. For the first word, TAB<br />   lists possible <span class=\"token builtin class-name\">command</span> completions. Anywhere <span class=\"token keyword\">else</span> TAB lists possible<br />   device or <span class=\"token function\">file</span> completions.<br /><br /><br />grub<span class=\"token operator\">></span><br /></code></pre>\n<p>–í–∏–¥–∏–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ GRUB –∏ grub shell.</p>\n<p>–í —à–µ–ª–ª–µ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–∏—Å–∫–∏, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º, –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∫–ª–∞—Å—Å–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –Ω–∞ boot-screen, –Ω–æ —Ç–æ —á—Ç–æ –Ω–∞–º –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è —Å–µ–π—á–∞—Å - —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –¥–æ –æ–±—Ä–∞–∑–∞ —è–¥—Ä–∞ –∏ ram-–¥–∏—Å–∫–∞.</p>\n<h3 id=\"zagruzka-yadra\" tabindex=\"-1\">–ó–∞–≥—Ä—É–∑–∫–∞ —è–¥—Ä–∞ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-05-15-linux-first-boot-mbr/#zagruzka-yadra\" aria-hidden=\"true\">#</a></h3>\n<p>—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ–ª—É—á–∏—Ç—å –æ–±—Ä–∞–∑ —è–¥—Ä–∞ —ç—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —É–∂–µ –∏–∑ –≥–æ—Ç–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> -l /boot<br />total <span class=\"token number\">31584</span><br />-rw-r--r-- <span class=\"token number\">1</span> root root   <span class=\"token number\">217458</span> Apr <span class=\"token number\">22</span> <span class=\"token number\">18</span>:31 config-4.15.0-99-generic<br />drwxr-xr-x <span class=\"token number\">5</span> root root     <span class=\"token number\">4096</span> May <span class=\"token number\">11</span> <span class=\"token number\">15</span>:58 grub<br />-rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">19659681</span> May <span class=\"token number\">11</span> <span class=\"token number\">15</span>:57 initrd.img-4.15.0-99-generic<br />-rw------- <span class=\"token number\">1</span> root root  <span class=\"token number\">4071696</span> Apr <span class=\"token number\">22</span> <span class=\"token number\">18</span>:31 System.map-4.15.0-99-generic<br />-rw------- <span class=\"token number\">1</span> root root  <span class=\"token number\">8380056</span> Apr <span class=\"token number\">22</span> <span class=\"token number\">18</span>:32 vmlinuz-4.15.0-99-generic<br /><br />$ <span class=\"token function\">cp</span> /boot/vmlinuz-4.15.0-99-generic /mnt/hdd/boot</code></pre>\n<p>–ó–∞–ø—É—Å–∫–∞–µ–º QEMU –∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ grub –≥—Ä—É–∑–∏–º —è–¥—Ä–æ:</p>\n<div class=\"info\" style=\"margin-bottom: 15px\">\n<p>—Ç—É—Ç –ø–æ–º–µ–Ω—è–ª -nographic –Ω–∞ -curses, —Ç–∞–∫ –ª—É—á—à–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏, –Ω–æ —ç—Ç–æ—Ç –∫–ª—é—á –º–æ–∂–Ω–æ –≤–æ–æ–±—â–µ —É–±—Ä–∞—Ç—å –∏ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ.</p>\n</div>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ qemu-system-x86_64 -curses -m 128m -boot c -hda ./mbr_hdd.img<br /><br />grub<span class=\"token operator\">></span> <span class=\"token function\">ls</span> /boot<br />grub/ vmlinuz-4.15.0-99-generic                  <span class=\"token comment\"># –≤–æ—Ç —è–¥—Ä–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ /boot</span><br /><br />grub<span class=\"token operator\">></span> linux /boot/vmlinuz-4.15.0-99-generic      <span class=\"token comment\"># —É–∫–∞–∑—ã–≤–∞–µ–º –∫–∞–∫–æ–µ —è–¥—Ä–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å</span><br />grub<span class=\"token operator\">></span> boot                                       <span class=\"token comment\"># –∑–∞–≥—Ä—É–∂–∞–µ–º—Å—è</span><br /><br /><span class=\"token punctuation\">..</span>.                                              <span class=\"token comment\"># —Ç—É—Ç –ª–æ–≥ –∑–∞–≥—Ä—É–∑–∫–∏</span><br /><br /><span class=\"token comment\"># –∏ –≤ –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–∞–µ–º –æ—à–∏–±–∫—É kernel panic</span><br /><br /><span class=\"token punctuation\">[</span>    <span class=\"token number\">2.159628</span><span class=\"token punctuation\">]</span> ---<span class=\"token punctuation\">[</span> end Kernel panic - not syncing: VFS: Unable to <span class=\"token function\">mount</span> root fs  on unknown-block<span class=\"token punctuation\">(</span><span class=\"token number\">0,0</span><span class=\"token punctuation\">)</span><br /></code></pre>\n<div class=\"message\">\n<p>–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ —á—Ç–æ–±—ã –≤—ã–π—Ç–∏ –∏–∑ –≤–∏—Ä—Ç—É–∞–ª–∫–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ QEMU monitor –ø–æ <code>Ctrl-Alt-2</code> –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É <code>quit</code>. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ —Ö–æ—Ç–∫–µ–∏ –≤ <a href=\"https://qemu.weilnetz.de/doc/qemu-doc.html\" target=\"_blank\" rel=\"noopener\">–¥–æ–∫–µ</a> —Ä–∞–∑–¥–µ–ª ‚Äú2.4 Keys in the graphical frontends‚Äù</p>\n</div>\n<p>–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —è–¥—Ä–æ –¥–æ–ª–∂–Ω–æ –∏–º–µ—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∏ –∏–∑ –Ω–µ–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ —Å pid=1.</p>\n<p>–í—Ä–µ–º–µ–Ω–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (ram-–¥–∏—Å–∫) —ç—Ç–æ –∏ –µ—Å—Ç—å initrd –∏ —ç—Ç–æ—Ç –æ–±—Ä–∞–∑ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–æ–±—Ä–∞—Ç—å.</p>\n<p>–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —è–¥—Ä–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –Ω—É–∂–Ω—ã —Ö–æ—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –∫–æ–º–∞–Ω–¥—ã –∏ –µ—Å—Ç—å —Ç–∞–∫–æ–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ - busybox.</p>\n<p>busybox - —ç—Ç–æ –æ–¥–∏–Ω –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–æ–π. –î–æ–±–∞–≤–∏–º busybox –≤ —Å–±–æ—Ä–∫–µ ram-–¥–∏—Å–∫–∞.</p>\n<h3 id=\"minimalnyj-initrd\" tabindex=\"-1\">–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π initrd <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-05-15-linux-first-boot-mbr/#minimalnyj-initrd\" aria-hidden=\"true\">#</a></h3>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> initrd<br /><span class=\"token builtin class-name\">cd</span> initrd<br /><br /><span class=\"token comment\"># —Å–æ–∑–¥–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏</span><br /><span class=\"token function\">mkdir</span> bin sys dev proc<br /><br /><span class=\"token comment\">#  –∑–∞–≥—Ä—É–∂–∞–µ–º busybox –∏ —Ä–∞—Å—Å—Ç–∞–≤–ª—è–µ–º —Å–∏–º–ª–∏–Ω–∫–∏</span><br /><span class=\"token function\">wget</span> https://busybox.net/downloads/binaries/1.30.0-i686/busybox -O bin/busybox<br /><br /><span class=\"token comment\"># –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è busybox</span><br /><span class=\"token function\">chmod</span> +x bin/busybox<br /><br /><span class=\"token comment\"># —Å–∏–º–ª–∏–Ω–∫–∏ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–º–∞–Ω–¥, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–±–∞–≤–∏–º –ø–æ–∑–∂–µ</span><br /><span class=\"token function\">ln</span> -s busybox bin/echo<br /><span class=\"token function\">ln</span> -s busybox bin/ash<br /><span class=\"token function\">ln</span> -s busybox bin/ls<br /><span class=\"token function\">ln</span> -s busybox bin/cat<br /><br /><span class=\"token comment\"># –∫–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤, –ø—Ä–æ —Ñ–∞–π–ª—ã –≤ linux –ø–æ–≥–æ–≤–æ—Ä–∏–º –≤ –¥—Ä—É–≥–∏—Ö —Å—Ç–∞—Ç—å—è—Ö</span><br /><span class=\"token function\">cp</span> -a /dev/console ./dev<br /><span class=\"token function\">cp</span> -a /dev/null ./dev<br /><span class=\"token function\">cp</span> -a /dev/tty1 ./dev<br /><span class=\"token function\">cp</span> -a /dev/tty2 ./dev<br /><br /><span class=\"token comment\"># —Å–æ–∑–¥–∞–µ–º —Å–∫—Ä–∏–ø—Ç —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—á–Ω–µ—Ç—Å—è –∑–∞–ø—É—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞</span><br /><br /><span class=\"token function\">cat</span> <span class=\"token operator\">>></span> ./init <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">EOF<br />#!/bin/ash<br />/bin/ash --login<br />EOF</span><br /><br /><span class=\"token comment\"># –¥–µ–ª–∞–µ–º —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º</span><br /><span class=\"token function\">chmod</span> +x init<br /><br /><span class=\"token comment\"># –∏–∑ —ç—Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–∞–∫—É–µ–º initrd –≤ cpio-–∞—Ä—Ö–∏–≤</span><br /><span class=\"token function\">find</span> <span class=\"token builtin class-name\">.</span> <span class=\"token operator\">|</span> cpio -o -H newc <span class=\"token operator\">|</span> <span class=\"token function\">gzip</span> -9 <span class=\"token operator\">></span> <span class=\"token punctuation\">..</span>/initrd.img<br /></code></pre>\n<p>–∫–æ–ø–∏—Ä—É–µ–º –ø–æ–ª—É—á–µ–Ω–Ω—ã–π initrd.img –≤ /boot –Ω–∞ –Ω–∞—à–µ–º hdd</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> <span class=\"token punctuation\">..</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">cp</span> ./initrd.img /mnt/hdd/boot</code></pre>\n<p>–∏ –∑–∞–ø—É—Å–∫–∞–µ–º qemu:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ qemu-system-x86_64 -curses -m 128m -boot c -hda ./mbr_hdd.img<br /><br />grub<span class=\"token operator\">></span> <span class=\"token function\">ls</span> /boot<br />grub/ vmlinuz-4.15.0-99-generic initrd.img<br /><br />grub<span class=\"token operator\">></span> linux /boot/vmlinuz-4.15.0-99-generic    <span class=\"token comment\"># –∑–∞–¥–∞–µ–º —è–¥—Ä–æ</span><br />grub<span class=\"token operator\">></span> initrd /boot/initrd.img                  <span class=\"token comment\"># –∑–∞–¥–∞–µ–º –æ–±—Ä–∞–∑ initrd</span><br /><br />grub<span class=\"token operator\">></span> boot                                     <span class=\"token comment\"># –≥—Ä—É–∑–∏–º—Å—è</span><br /><br /><span class=\"token punctuation\">..</span>.<br /><br />/ <span class=\"token comment\"># ls</span><br /><br /> bin   dev   init  proc  root  sbin  sys</code></pre>\n<p>–í–∏–¥–∏–º –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ —è–¥—Ä–∞, –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–∏–º —à–µ–ª–ª, –≤—ã–ø–æ–ª–Ω—è–µ–º <code>ls</code> –∏ –≤–∏–¥–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–∏—Å–∫–∞ - —Å–∞–º—ã–π –º–∏–Ω–∏–º—É–º –≥—Ä—É–∑–∏—Ç—Å—è –æ—Å—Ç–∞–ª–æ—Å—å –Ω–µ–º–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏.</p>\n<p>–ù–∞—Å—Ç—Ä–æ–∏–º grub —á—Ç–æ–±—ã —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ä—Ç–æ–≤–∞–ª–∞ –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ —è–¥—Ä–∞ –∏ ram-–¥–∏—Å–∫–∞.</p>\n<p>–î–ª—è —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤ <code>/boot/grub</code> —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª <code>grub.cfg</code> (–¥–ª—è grub2 –Ω—É–∂–Ω–æ –∏–º–µ–Ω–Ω–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ <code>.cfg</code>, –∞ –Ω–µ <code>.conf</code>)</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">set</span> <span class=\"token assign-left variable\">default</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><br /><span class=\"token builtin class-name\">set</span> <span class=\"token assign-left variable\">timeout</span><span class=\"token operator\">=</span><span class=\"token number\">5</span><br /><br />menuentry <span class=\"token string\">'linux'</span> <span class=\"token punctuation\">{</span><br />  linux /boot/vmlinuz-4.15.0-99-generic<br />  initrd /boot/initrd.img<br /><span class=\"token punctuation\">}</span></code></pre>\n<p>–µ—Å–ª–∏ —Å–Ω–æ–≤–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å qemu - —É–≤–∏–¥–∏–º –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Å–∏—Å—Ç–µ–º—ã</p>\n<p><img src=\"https://rootaround.github.io/img/linux-first/boot-mbr-1.png\" alt=\"\" /></p>\n<p>–ø–æ—Ç–æ–º –∑–∞–≥—Ä—É–∑–∫—É —è–¥—Ä–∞ –∏ —à–µ–ª–ª</p>\n<p><img src=\"https://rootaround.github.io/img/linux-first/boot-mbr-2.png\" alt=\"\" /></p>\n<h2 id=\"itogo\" tabindex=\"-1\">–ò—Ç–æ–≥–æ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-05-15-linux-first-boot-mbr/#itogo\" aria-hidden=\"true\">#</a></h2>\n<p>–í –æ–±—â–∏—Ö —á–µ—Ä—Ç–∞—Ö —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å —Å –ø—Ä–æ—Ü–µ—Å—Å–æ–º –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Å–æ–∑–¥–∞–ª–∏ –æ–±—Ä–∞–∑, –≤ –∫–æ—Ç–æ—Ä–æ–º –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —è–¥—Ä–æ –∏ –ø–µ—Ä–≤—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º —Å—Ç–∞—Ä—Ç—É–µ—Ç shell (ash). –≠—Ç–æ —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–æ, –¥–∞–ª—å—à–µ –±—É–¥–µ–º —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∏ —Å —Ç–µ–º –ø—Ä–æ—Ü–µ—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –ø–µ—Ä–≤—ã–º, –¥–∞ –∏ –≤–æ–æ–±—â–µ —Å –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –∏ –Ω–µ —Ç–æ–ª—å–∫–æ.</p>\n<h2 id=\"primery\" tabindex=\"-1\">–ü—Ä–∏–º–µ—Ä—ã <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-05-15-linux-first-boot-mbr/#primery\" aria-hidden=\"true\">#</a></h2>\n<p>–ì–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑ –∏–∑ —Å—Ç–∞—Ç—å–∏ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å —Ç—É—Ç:</p>\n<p><a href=\"https://github.com/rootaround/examples/tree/master/linux-first/2020-05-13-boot-mbr\" target=\"_blank\" rel=\"noopener\">https://github.com/rootaround/examples/tree/master/linux-first/2020-05-13-boot-mbr</a></p>\n<h2 id=\"ssylki\" tabindex=\"-1\">–°—Å—ã–ª–∫–∏ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-05-15-linux-first-boot-mbr/#ssylki\" aria-hidden=\"true\">#</a></h2>\n<ul>\n<li>–ü—Ä–æ BIOS: <a href=\"https://ru.wikipedia.org/wiki/BIOS\" target=\"_blank\" rel=\"noopener\">https://ru.wikipedia.org/wiki/BIOS</a></li>\n<li>–ü—Ä–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ç–∞–±–ª–∏—Ü —Ä–∞–∑–¥–µ–ª–æ–≤ MBR, GPT <a href=\"https://losst.ru/chem-otlichaetsya-mbr-ot-gpt\" target=\"_blank\" rel=\"noopener\">https://losst.ru/chem-otlichaetsya-mbr-ot-gpt</a></li>\n<li>–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞: <a href=\"https://losst.ru/formatirovanie-diska-v-linux\" target=\"_blank\" rel=\"noopener\">https://losst.ru/formatirovanie-diska-v-linux</a></li>\n<li>GRUB (wikipedia) <a href=\"https://ru.wikipedia.org/wiki/GNU_GRUB\" target=\"_blank\" rel=\"noopener\">https://ru.wikipedia.org/wiki/GNU_GRUB</a></li>\n<li>GNU GRUB –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫–∞ <a href=\"https://www.gnu.org/software/grub/manual/grub/grub.html\" target=\"_blank\" rel=\"noopener\">https://www.gnu.org/software/grub/manual/grub/grub.html</a></li>\n<li>IBM: –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏ Linux <a href=\"https://www.ibm.com/developerworks/ru/library/l-linuxboot/\" target=\"_blank\" rel=\"noopener\">https://www.ibm.com/developerworks/ru/library/l-linuxboot/</a></li>\n</ul>\n<!--\nGRUB\n\n- https://superuser.com/questions/130955/how-to-install-grub-into-an-img-file\n- https://ru.wikibooks.org/wiki/Grub_2#%D0%92%D0%BE%D1%81%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_GRUB2_%D1%81_LiveCD\n- https://www.gnu.org/software/grub/manual/grub/grub.html\n- https://wiki.archlinux.org/index.php/GRUB_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#%D0%9A%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D1%8C_GRUB2\n- https://serverfault.com/questions/869559/grub-hangs-before-menu-after-a-hdd-upgrade-how-to-debug\n\n\n\nhttps://www.ibm.com/developerworks/library/l-initrd/\nhttps://www.kernel.org/doc/html/v4.14/admin-guide/initrd.html\nhttps://ru.wikipedia.org/wiki/BusyBox\nhttps://habr.com/post/126427/\n\nhttp://iportnov.blogspot.com/2010/03/linux-10.html\n\nhttps://losst.ru/ustanovka-zagruzchika-grub\nhttps://losst.ru/chem-otlichaetsya-mbr-ot-gpt\n\nhttps://www.ibm.com/developerworks/ru/library/l-linuxboot/\n\nhttps://unix.stackexchange.com/questions/124681/how-to-ssh-from-host-to-guest-using-qemu\n\nhttps://losst.ru/sobiraem-yadro-linux\n\nhttps://ru.wikipedia.org/wiki/–ü—Ä–æ—Ü–µ—Å—Å_–∑–∞–≥—Ä—É–∑–∫–∏_Linux\n\nhttps://losst.ru/ustanovka-zagruzchika-grub\n\nhttps://losst.ru/nastrojka-zagruzchika-grub\n\nhttps://wiki.archlinux.org/index.php/GRUB_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#%D0%9A%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D1%8C_GRUB2\n\n-->\n<hr />\n<p><a href=\"https://rootaround.github.io/tags/linux-first\">–í—Å–µ —Å—Ç–∞—Ç—å–∏ —Å–µ—Ä–∏–∏ ‚ÄúLinux First‚Äù</a></p>\n",
      "date_published": "2020-05-15T00:00:00Z"
    },{
      "id": "https://rootaround.github.io/posts/blog/2020-05-13-linux-first-shortly-about-kernel/",
      "url": "https://rootaround.github.io/posts/blog/2020-05-13-linux-first-shortly-about-kernel/",
      "title": "Linux First: –ö—Ä–∞—Ç–∫–æ –æ linux-—è–¥—Ä–µ",
      "content_html": "<p>–≠—Ç–∏–º –ø–æ—Å—Ç–æ–º –Ω–∞—á–∏–Ω–∞—é —Å–µ—Ä–∏—é —Å—Ç–∞—Ç–µ–π ‚ÄúLinux First‚Äù - —Ä–∞–∑–±–∏—Ä–∞—é—Å—å –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –∏ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç linux —Å –Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —è–¥—Ä–∞ –∏ –¥–∞–ª—å—à–µ –ø—Ä–æ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã, —Å–µ—Ç—å, –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.</p>\n<p>C–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π —Å–µ—Ä–∏–∏ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø–æ —Ç—ç–≥—É <a href=\"https://rootaround.github.io/tags/linux-first\">linux-first</a></p>\n<p>–°–µ–≥–æ–¥–Ω—è –Ω–µ–º–Ω–æ–≥–æ –ø—Ä–æ –∏—Å—Ç–æ—Ä–∏—é –∏ –≤ –æ–±—â–µ–º –ø—Ä–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.</p>\n<h3 id=\"istoriya\" tabindex=\"-1\">–ò—Å—Ç–æ—Ä–∏—è <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-05-13-linux-first-shortly-about-kernel/#istoriya\" aria-hidden=\"true\">#</a></h3>\n<p>–í –∞–≤–≥—É—Å—Ç–µ 1991 –≥–æ–¥–∞ –õ–∏–Ω—É—Å –¢–æ—Ä–≤–∞–ª—å–¥—Å –Ω–∞–ø–∏—Å–∞–ª –≤ –Ω–æ–≤–æ—Å—Ç–Ω—É—é –ª–µ–Ω—Ç—É ‚Äúminix‚Äù <a href=\"https://groups.google.com/forum/#!msg/comp.os.minix/dlNtH7RRrGA/SwRavCzVE7gJ\" target=\"_blank\" rel=\"noopener\">—Å–æ–æ–±—â–µ–Ω–∏–µ</a> –æ —Ç–æ–º —á—Ç–æ –æ–Ω —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–≤–æ–±–æ–¥–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∏ —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ñ–∏–¥–±—ç–∫ –æ—Ç –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω—ã—Ö –ª—é–¥–µ–π.</p>\n<p>–í —Å–µ–Ω—Ç—è–±—Ä–µ –õ–∏–Ω—É—Å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª –≤–µ—Ä—Å–∏—é 0.01. –≠—Ç–æ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∫–æ–¥ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ <a href=\"https://github.com/zavg/linux-0.01\" target=\"_blank\" rel=\"noopener\">github</a>.</p>\n<p><a href=\"http://www.oldlinux.org/\" target=\"_blank\" rel=\"noopener\">–û—Å–æ–±–æ —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–±—è—Ç–∞</a> –∑–∞–ø–∏–ª–∏–ª–∏ –æ–±—Ä–∞–∑—ã –¥–ª—è Qemu, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–µ—Ä–≤—ã–µ –≤–µ—Ä—Å–∏–∏ —è–¥—Ä–∞ –∏ –º–æ–∂–Ω–æ –¥–∞–∂–µ –≤—ã–∑—ã–≤–∞—Ç—å ‚Äú–¥–æ–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ‚Äù –∫–æ–º–∞–Ω–¥—ã ls –±–µ–∑ —Ö—ç–ª–ø–æ–≤ –∏ –ø—Ä–æ—á–∏—Ö –ø—Ä–µ–ª–µ—Å—Ç–µ–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö unix-–∫–æ–º–∞–Ω–¥.</p>\n<p>–ö –ø—Ä–æ–µ–∫—Ç—É —Å—Ä–∞–∑—É –ø–æ—è–≤–∏–ª—Å—è –∏–Ω—Ç–µ—Ä–µ—Å –∏ —Å–æ–≤–º–µ—Å—Ç–Ω—ã–º–∏ —É—Å–∏–ª–∏—è–º–∏ –õ–∏–Ω—É—Å–∞ –∏ –∫–æ–º–º—å—é–Ω–∏—Ç–∏ linux-—è–¥—Ä–æ –Ω–∞—á–∞–ª–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è.</p>\n<p>–ß–µ—Ä–µ–∑ 3 –≥–æ–¥–∞ –≤ 1994 –≤—ã—Ö–æ–¥–∏—Ç <a href=\"https://github.com/kalamangga-net/linux-1.0\" target=\"_blank\" rel=\"noopener\">–ø–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è</a>.</p>\n<p>–Ø–¥—Ä–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å –∫–∞–∫ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–µ –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ–µ –Ω–∞ —Ä–∞–∑–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.\n–°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ –∏–∑-–∑–∞ –∞—Ä–∏—Ç–µ–∫—Ç—É—Ä—ã –≤ 1992 –≤ –≥—Ä—É–ø–ø–µ –æ–±—Å—É–∂–¥–µ–Ω–∏—è minix —Ä–∞–∑–≥–æ—Ä–µ–ª—Å—è —Ö–æ–ª–∏–≤–∞—Ä ‚Äú–º–æ–Ω–æ–ª–∏—Ç-—è–¥—Ä–æ vs –º–∏–∫—Ä–æ-—è–¥—Äo‚Äù –º–µ–∂–¥—É –õ–∏–Ω—É—Å–æ–º –¢–æ—Ä–≤–∞–ª—å–¥—Å–æ–º –∏ –≠–Ω–¥—Ä—é –¢–∞–Ω–µ–Ω–±–∞—É–º–æ–º (<em>–ø–æ—á—Ç–∏ –∫–∞–∫ –∏ —Å–µ–π—á–∞—Å –ø—Ä–æ –º–æ–Ω–æ–ª–∏—Ç vs –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã</em>).</p>\n<!-- –û–° Minix –±—ã–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –≠–Ω–¥—Ä—é –¢–∞–Ω–µ–Ω–±–∞—É–º–æ–º –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π, —á—Ç–æ–±—ã –µ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç—ã –º–æ–≥–ª–∏  –ø–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π. -->\n<p>–û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Å—ã–ª —Ö–æ–ª–∏–≤–∞—Ä–∞ –±—ã–ª –≤ —Ç–æ–º —á—Ç–æ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–µ —è–¥—Ä–æ —É—Å—Ç–∞—Ä–µ–ª–æ —É–∂–µ –≤ 1992 –≥–æ–¥—É, –∞ –º–∏–∫—Ä–æ—è–¥—Ä–∞ —Ä—É–ª—è—Ç –∏ –∑–∞ –Ω–∏–º–∏ –±—É–¥—É—â–µ–µ, –Ω–æ –∫–∞–∫ –ø–æ–∫–∞–∑–∞–ª–∞ –∏—Å—Ç–æ—Ä–∏—è, –¥–∞–∂–µ 26 –ª–µ—Ç —Å–ø—É—Å—Ç—è –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–µ —è–¥—Ä–æ –≤—Å–µ –µ—â–µ –∂–∏–≤–æ –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è.</p>\n<p>–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è –¥–æ—Ä–æ—Å–ª–∞ –¥–æ <code>5.6</code> (–º–∞–π 2020) –∏ –∫–æ–¥ –Ω–∞—á–∏–Ω–∞—è —Å <code>2.6</code> –º–æ–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ <a href=\"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/refs/\" target=\"_blank\" rel=\"noopener\">–æ—Ñ —Å–∞–π—Ç–µ</a> –∏–ª–∏ –Ω–∞ github-–∑–µ—Ä–∫–∞–ª–µ <a href=\"https://github.com/torvalds/linux\" target=\"_blank\" rel=\"noopener\">torvalds/linux</a></p>\n<h3 id=\"arhitektura\" tabindex=\"-1\">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-05-13-linux-first-shortly-about-kernel/#arhitektura\" aria-hidden=\"true\">#</a></h3>\n<p><img src=\"https://rootaround.github.io/img/linux-first/linux-kernel-1.jpg\" alt=\"C—Ö–µ–º–∞ –∏–∑ —Å—Ç–∞—Ç—å–∏ IBM &quot;–ê–Ω–∞—Ç–æ–º–∏—è —è–¥—Ä–∞ Linux&quot;\" /></p>\n<p>–Ø–¥—Ä–æ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —è–¥—Ä–∞ –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.</p>\n<p>–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —è–¥—Ä–∞ —á–µ—Ä–µ–∑ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ (SCI) –ø–æ–∑–≤–æ–ª—è–µ—Ç—Å—è –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —è–¥—Ä–∞ –∏–∑ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.</p>\n<p>–í—Å—è —Ä–∞–±–æ—Ç–∞ —Å –∂–µ–ª–µ–∑–æ–º –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è —è–¥—Ä–æ–º, –æ—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å —è–¥—Ä–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ-–Ω–µ–∑–∞–≤–∏—Å–∏–º–∞, —Ç–æ –µ—Å—Ç—å —ç—Ç–æ—Ç –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤.</p>\n<p>–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∫–æ–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∂–µ–ª–µ–∑–æ–º - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ-–∑–∞–≤–∏—Å–∏–º—ã–π - –∏ –ª–∏–±–æ —É–∂–µ –µ—Å—Ç—å –≤ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–µ Linux –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –ª–∏–±–æ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –¥—Ä–∞–π–≤–µ—Ä–æ–≤.</p>\n<p>–†–µ—Å—É—Ä—Å—ã <strong>CPU</strong> —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ O(1). –ö–æ–¥ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏—à–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –ø–æ—ç—Ç–æ–º—É –∫–∞–∫ —Ä–∞–∑ –∫–æ–¥ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ-–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ-–∑–∞–≤–∏—Å–∏–º—ã–π.</p>\n<p><strong>–ü–∞–º—è—Ç—å</strong> –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ä–µ—Å—É—Ä—Å–∞–º CPU –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è —è–¥—Ä–æ–º –∏ —ç—Ç–∞ –∂–µ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥–∫–∞—á–∫–æ–π (swap).</p>\n<p><strong>–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (VFS)</strong> –∞–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º –∏ —á–µ—Ä–µ–∑ SCI –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª—é–±—ã–º–∏ —Ñ–∞–π–ª–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–æ. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å–∏—Å—Ç–µ–º –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –º–æ–¥—É–ª–∏ —è–¥—Ä–∞.</p>\n<p><strong>–°–µ—Ç—å</strong> –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–æ–¥—Å–∏—Å—Ç–µ–º–æ–π –∏ —á–µ—Ä–µ–∑ –≤—Å–µ —Ç–æ—Ç –∂–µ SCI –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Å–µ—Ç–µ–≤—ã–º–∏ —Å–æ–∫–µ—Ç–∞–º–∏ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤.</p>\n<p>–ï—Å–ª–∏ —Ö–æ—á–µ—Ç—Å—è —É–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã - –µ—Å—Ç—å —Ü–µ–ª–∞—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ linux-—è–¥—Ä–∞, –∏–∑ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –º–Ω–æ–≥–æ –Ω–æ–≤–æ–≥–æ –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ - <a href=\"http://www.makelinux.net/kernel_map/\" target=\"_blank\" rel=\"noopener\"><strong>www.makelinux.net/kernel_map</strong></a></p>\n<p>–ù—É –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫–æ–Ω–µ—á–Ω–æ –Ω–∏–∫—Ç–æ –Ω–µ –æ—Ç–º–µ–Ω—è–ª <a href=\"https://www.kernel.org/doc/html/latest/\" target=\"_blank\" rel=\"noopener\"><strong>www.kernel.org/doc/html/latest/</strong></a></p>\n<h3 id=\"istochniki\" tabindex=\"-1\">–ò—Å—Ç–æ—á–Ω–∏–∫–∏ <a class=\"direct-link\" href=\"https://rootaround.github.io/posts/blog/2020-05-13-linux-first-shortly-about-kernel/#istochniki\" aria-hidden=\"true\">#</a></h3>\n<ul>\n<li>–°—Ö–µ–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑ —Å—Ç–∞—Ç—å–∏ IBM ‚Äú<a href=\"https://www.ibm.com/developerworks/ru/library/l-linux-kernel/\" target=\"_blank\" rel=\"noopener\">–ê–Ω–∞—Ç–æ–º–∏—è —è–¥—Ä–∞ Linux</a>‚Äù. –í —Å—Ç–∞—Ç—å–µ —á—É—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ–ø–∏—Å–∞–Ω–æ –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–æ —è–¥—Ä–æ.</li>\n</ul>\n<hr />\n<p><a href=\"https://rootaround.github.io/tags/linux-first\">–í—Å–µ —Å—Ç–∞—Ç—å–∏ —Å–µ—Ä–∏–∏ ‚ÄúLinux First‚Äù</a></p>\n",
      "date_published": "2020-05-13T01:00:00Z"
    }
  ]
}
